import{N as n,R as t,T as e}from"./vendor.4ddb5e7f.js";import{i as r,u as o,a as i,b as a,c as u,v as c,t as s,d as f,e as l,m as h,f as p,g as v,h as d,j as g,k as y,l as m,p as w,r as _,n as b,o as x,q as E,s as S,w as M,x as T,y as j,z as k,A as C,B as P,D as O,E as N,F as A,G as R,H as I,I as D,J as L,K as B,L as z,M as q,N as F,O as G,P as V,Q as H,R as U,S as W,T as Y,U as $,V as J,W as X,X as Q,Y as K,Z,_ as nn,$ as tn,a0 as en,a1 as rn,a2 as on,a3 as an,a4 as un,a5 as cn,a6 as sn,a7 as fn,a8 as ln,a9 as hn,aa as pn,ab as vn,ac as dn,ad as gn,ae as yn,af as mn,ag as wn,ah as _n,ai as bn,aj as xn}from"./index.cf0bffa9.js";import{f as En,s as Sn,m as Mn,a as Tn,o as jn}from"./omit.d6414db5.js";var kn=function(n,t){if(void 0===t&&(t=[]),r(n))for(var e=0;e<n.length;e+=1)kn(n[e],t);else t.push(n);return t},Cn=Array.prototype,Pn=Cn.splice,On=Cn.indexOf;var Nn={};var An=Number.isInteger?Number.isInteger:function(n){return a(n)&&n%1==0},Rn=180/Math.PI,In=parseInt;var Dn,Ln,Bn,zn,qn,Fn,Gn,Vn,Hn,Un,Wn,Yn,$n,Jn,Xn,Qn,Kn,Zn,nt,tt,et,rt,ot,it,at,ut=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",contains:u,includes:u,difference:v,find:d,findIndex:En,firstValue:g,flatten:y,flattenDeep:kn,getRange:m,pull:function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var r=0;r<t.length;r++)for(var o=t[r],i=-1;(i=On.call(n,o))>-1;)Pn.call(n,i,1);return n},pullAt:w,reduce:_,remove:b,sortBy:Sn,union:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return o([].concat.apply([],n))},uniq:o,valuesOfKey:x,head:E,last:S,startsWith:function(n,t){return!(!r(n)&&!i(n))&&n[0]===t},endsWith:function(n,t){return!(!r(n)&&!i(n))&&n[n.length-1]===t},filter:M,every:T,some:j,group:k,groupBy:C,groupToMap:P,getWrapBehavior:function(n,t){return n["_wrap_"+t]},wrapBehavior:function(n,t){if(n["_wrap_"+t])return n["_wrap_"+t];var e=function(e){n[t](e)};return n["_wrap_"+t]=e,e},number2color:function(n){var t=Nn[n];if(!t){for(var e=n.toString(16),r=e.length;r<6;r++)e="0"+e;t="#"+e,Nn[n]=t}return t},parseRadius:function(n){var t=0,e=0,o=0,i=0;return r(n)?1===n.length?t=e=o=i=n[0]:2===n.length?(t=o=n[0],e=i=n[1]):3===n.length?(t=n[0],e=i=n[1],o=n[2]):(t=n[0],e=n[1],o=n[2],i=n[3]):t=e=o=i=n,{r1:t,r2:e,r3:o,r4:i}},clamp:O,fixedBase:N,isDecimal:function(n){return a(n)&&n%1!=0},isEven:function(n){return a(n)&&n%2==0},isInteger:An,isNegative:function(n){return a(n)&&n<0},isNumberEqual:A,isOdd:function(n){return a(n)&&n%2!=0},isPositive:function(n){return a(n)&&n>0},max:R,maxBy:Mn,min:I,minBy:Tn,mod:D,toDegree:function(n){return Rn*n},toInteger:In,toRadian:L,forIn:B,has:z,hasKey:z,hasValue:function(n,t){return u(c(n),t)},keys:q,isMatch:F,values:c,lowerCase:G,lowerFirst:function(n){var t=s(n);return t.charAt(0).toLowerCase()+t.substring(1)},substitute:V,upperCase:function(n){return s(n).toUpperCase()},upperFirst:H,getType:U,isArguments:function(n){return f(n,"Arguments")},isArray:r,isArrayLike:W,isBoolean:Y,isDate:$,isError:function(n){return f(n,"Error")},isFunction:l,isFinite:function(n){return a(n)&&isFinite(n)},isNil:J,isNull:X,isNumber:a,isObject:Q,isObjectLike:K,isPlainObject:Z,isPrototype:nn,isRegExp:function(n){return f(n,"RegExp")},isString:i,isType:f,isUndefined:tn,isElement:en,requestAnimationFrame:rn,clearAnimationFrame:on,augment:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=n[0],r=1;r<n.length;r++){var o=n[r];l(o)&&(o=o.prototype),h(e.prototype,o)}},clone:an,debounce:un,memoize:cn,deepMix:sn,each:B,extend:function(n,t,e,r){l(t)||(e=t,t=n,n=function(){});var o=Object.create?function(n,t){return Object.create(n,{constructor:{value:t}})}:function(n,t){function e(){}e.prototype=n;var r=new e;return r.constructor=t,r},i=o(t.prototype,n);return n.prototype=h(i,n.prototype),n.superclass=o(t.prototype,t),h(i,e),h(n,r),n},indexOf:fn,isEmpty:ln,isEqual:p,isEqualWith:function(n,t,e){return l(e)?!!e(n,t):p(n,t)},map:hn,mapValues:pn,mix:h,assign:h,get:vn,set:dn,pick:gn,omit:jn,throttle:yn,toArray:mn,toString:s,uniqueId:wn,noop:_n,identity:function(n){return n},size:bn,Cache:xn}),ct={exports:{}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
Dn=ct,function(t){var e="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:{};function r(n,t){return n!==e&&("function"==typeof Object.create?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(e,r){return n[e]=t?t(e,r):r}}!function(n){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])};Ln=function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Bn=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},zn=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]])}return e},qn=function(n,t,e,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,t,e,r);else for(var u=n.length-1;u>=0;u--)(o=n[u])&&(a=(i<3?o(a):i>3?o(t,e,a):o(t,e))||a);return i>3&&a&&Object.defineProperty(t,e,a),a},Fn=function(n,t){return function(e,r){t(e,r,n)}},Gn=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},Vn=function(n,t,e,r){function o(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,i){function a(n){try{c(r.next(n))}catch(t){i(t)}}function u(n){try{c(r.throw(n))}catch(t){i(t)}}function c(n){n.done?e(n.value):o(n.value).then(a,u)}c((r=r.apply(n,t||[])).next())}))},Hn=function(n,t){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(n){return function(t){return c([n,t])}}function c(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(n,a)}catch(u){i=[6,u],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Un=function(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||at(t,n,e)},at=Object.create?function(n,t,e,r){void 0===r&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){void 0===r&&(r=e),n[r]=t[e]},Wn=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yn=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,i=e.call(n),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return a},$n=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Yn(arguments[t]));return n},Jn=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var r=Array(n),o=0;for(t=0;t<e;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},Xn=function(n,t){for(var e=0,r=t.length,o=n.length;e<r;e++,o++)n[o]=t[e];return n},Qn=function(n){return this instanceof Qn?(this.v=n,this):new Qn(n)},Kn=function(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=e.apply(n,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(n){o[n]&&(r[n]=function(t){return new Promise((function(e,r){i.push([n,t,e,r])>1||u(n,t)}))})}function u(n,t){try{c(o[n](t))}catch(e){l(i[0][3],e)}}function c(n){n.value instanceof Qn?Promise.resolve(n.value.v).then(s,f):l(i[0][2],n)}function s(n){u("next",n)}function f(n){u("throw",n)}function l(n,t){n(t),i.shift(),i.length&&u(i[0][0],i[0][1])}},Zn=function(n){var t,e;return t={},r("next"),r("throw",(function(n){throw n})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=n[r]?function(t){return(e=!e)?{value:Qn(n[r](t)),done:"return"===r}:o?o(t):t}:o}},nt=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=Wn(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(e){t[e]=n[e]&&function(t){return new Promise((function(r,i){o(r,i,(t=n[e](t)).done,t.value)}))}}function o(n,t,e,r){Promise.resolve(r).then((function(t){n({value:t,done:e})}),t)}},tt=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n};var e=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t};et=function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var r in n)"default"!==r&&Object.prototype.hasOwnProperty.call(n,r)&&at(t,n,r);return e(t,n),t},rt=function(n){return n&&n.__esModule?n:{default:n}},ot=function(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)},it=function(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e},n("__extends",Ln),n("__assign",Bn),n("__rest",zn),n("__decorate",qn),n("__param",Fn),n("__metadata",Gn),n("__awaiter",Vn),n("__generator",Hn),n("__exportStar",Un),n("__createBinding",at),n("__values",Wn),n("__read",Yn),n("__spread",$n),n("__spreadArrays",Jn),n("__spreadArray",Xn),n("__await",Qn),n("__asyncGenerator",Kn),n("__asyncDelegator",Zn),n("__asyncValues",nt),n("__makeTemplateObject",tt),n("__importStar",et),n("__importDefault",rt),n("__classPrivateFieldGet",ot),n("__classPrivateFieldSet",it)}(r(e,r(Dn.exports)))}();var st=t(ut);function ft(){return new lt}function lt(){this.reset()}lt.prototype={constructor:lt,reset:function(){this.s=this.t=0},add:function(n){pt(ht,n,this.t),pt(this,ht.s,this.s),this.s?this.t+=ht.t:this.s=ht.t},valueOf:function(){return this.s}};var ht=new lt;function pt(n,t,e){var r=n.s=t+e,o=r-t,i=r-o;n.t=t-i+(e-o)}var vt=Math.PI,dt=vt/2,gt=vt/4,yt=2*vt,mt=180/vt,wt=vt/180,_t=Math.abs,bt=Math.atan,xt=Math.atan2,Et=Math.cos,St=Math.ceil,Mt=Math.exp,Tt=Math.log,jt=Math.pow,kt=Math.sin,Ct=Math.sign||function(n){return n>0?1:n<0?-1:0},Pt=Math.sqrt,Ot=Math.tan;function Nt(n){return n>1?0:n<-1?vt:Math.acos(n)}function At(n){return n>1?dt:n<-1?-dt:Math.asin(n)}function Rt(n){return(n=kt(n/2))*n}function It(){}function Dt(n,t){n&&Bt.hasOwnProperty(n.type)&&Bt[n.type](n,t)}var Lt={Feature:function(n,t){Dt(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,o=e.length;++r<o;)Dt(e[r].geometry,t)}},Bt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){zt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)zt(e[r],t,0)},Polygon:function(n,t){qt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)qt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,o=e.length;++r<o;)Dt(e[r],t)}};function zt(n,t,e){var r,o=-1,i=n.length-e;for(t.lineStart();++o<i;)r=n[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function qt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)zt(n[e],t,1);t.polygonEnd()}function Ft(n,t){n&&Lt.hasOwnProperty(n.type)?Lt[n.type](n,t):Dt(n,t)}var Gt,Vt,Ht,Ut,Wt,Yt=ft(),$t=ft(),Jt={point:It,lineStart:It,lineEnd:It,polygonStart:function(){Yt.reset(),Jt.lineStart=Xt,Jt.lineEnd=Qt},polygonEnd:function(){var n=+Yt;$t.add(n<0?yt+n:n),this.lineStart=this.lineEnd=this.point=It},sphere:function(){$t.add(yt)}};function Xt(){Jt.point=Kt}function Qt(){Zt(Gt,Vt)}function Kt(n,t){Jt.point=Zt,Gt=n,Vt=t,Ht=n*=wt,Ut=Et(t=(t*=wt)/2+gt),Wt=kt(t)}function Zt(n,t){var e=(n*=wt)-Ht,r=e>=0?1:-1,o=r*e,i=Et(t=(t*=wt)/2+gt),a=kt(t),u=Wt*a,c=Ut*i+u*Et(o),s=u*r*kt(o);Yt.add(xt(s,c)),Ht=n,Ut=i,Wt=a}function ne(n){return[xt(n[1],n[0]),At(n[2])]}function te(n){var t=n[0],e=n[1],r=Et(e);return[r*Et(t),r*kt(t),kt(e)]}function ee(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function re(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function oe(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ie(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function ae(n){var t=Pt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var ue,ce,se,fe,le,he,pe,ve,de,ge,ye,me,we,_e,be,xe,Ee,Se,Me,Te,je,ke,Ce,Pe,Oe,Ne,Ae=ft(),Re={point:Ie,lineStart:Le,lineEnd:Be,polygonStart:function(){Re.point=ze,Re.lineStart=qe,Re.lineEnd=Fe,Ae.reset(),Jt.polygonStart()},polygonEnd:function(){Jt.polygonEnd(),Re.point=Ie,Re.lineStart=Le,Re.lineEnd=Be,Yt<0?(ue=-(se=180),ce=-(fe=90)):Ae>1e-6?fe=90:Ae<-1e-6&&(ce=-90),ge[0]=ue,ge[1]=se}};function Ie(n,t){de.push(ge=[ue=n,se=n]),t<ce&&(ce=t),t>fe&&(fe=t)}function De(n,t){var e=te([n*wt,t*wt]);if(ve){var r=re(ve,e),o=re([r[1],-r[0],0],r);ae(o),o=ne(o);var i,a=n-le,u=a>0?1:-1,c=o[0]*mt*u,s=_t(a)>180;s^(u*le<c&&c<u*n)?(i=o[1]*mt)>fe&&(fe=i):s^(u*le<(c=(c+360)%360-180)&&c<u*n)?(i=-o[1]*mt)<ce&&(ce=i):(t<ce&&(ce=t),t>fe&&(fe=t)),s?n<le?Ge(ue,n)>Ge(ue,se)&&(se=n):Ge(n,se)>Ge(ue,se)&&(ue=n):se>=ue?(n<ue&&(ue=n),n>se&&(se=n)):n>le?Ge(ue,n)>Ge(ue,se)&&(se=n):Ge(n,se)>Ge(ue,se)&&(ue=n)}else de.push(ge=[ue=n,se=n]);t<ce&&(ce=t),t>fe&&(fe=t),ve=e,le=n}function Le(){Re.point=De}function Be(){ge[0]=ue,ge[1]=se,Re.point=Ie,ve=null}function ze(n,t){if(ve){var e=n-le;Ae.add(_t(e)>180?e+(e>0?360:-360):e)}else he=n,pe=t;Jt.point(n,t),De(n,t)}function qe(){Jt.lineStart()}function Fe(){ze(he,pe),Jt.lineEnd(),_t(Ae)>1e-6&&(ue=-(se=180)),ge[0]=ue,ge[1]=se,ve=null}function Ge(n,t){return(t-=n)<0?t+360:t}function Ve(n,t){return n[0]-t[0]}function He(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function Ue(n){var t,e,r,o,i,a,u;if(fe=se=-(ue=ce=1/0),de=[],Ft(n,Re),e=de.length){for(de.sort(Ve),t=1,i=[r=de[0]];t<e;++t)He(r,(o=de[t])[0])||He(r,o[1])?(Ge(r[0],o[1])>Ge(r[0],r[1])&&(r[1]=o[1]),Ge(o[0],r[1])>Ge(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,t=0,r=i[e=i.length-1];t<=e;r=o,++t)o=i[t],(u=Ge(r[1],o[0]))>a&&(a=u,ue=o[0],se=r[1])}return de=ge=null,ue===1/0||ce===1/0?[[NaN,NaN],[NaN,NaN]]:[[ue,ce],[se,fe]]}var We,Ye,$e={sphere:It,point:Je,lineStart:Qe,lineEnd:nr,polygonStart:function(){$e.lineStart=tr,$e.lineEnd=er},polygonEnd:function(){$e.lineStart=Qe,$e.lineEnd=nr}};function Je(n,t){n*=wt;var e=Et(t*=wt);Xe(e*Et(n),e*kt(n),kt(t))}function Xe(n,t,e){++ye,we+=(n-we)/ye,_e+=(t-_e)/ye,be+=(e-be)/ye}function Qe(){$e.point=Ke}function Ke(n,t){n*=wt;var e=Et(t*=wt);Pe=e*Et(n),Oe=e*kt(n),Ne=kt(t),$e.point=Ze,Xe(Pe,Oe,Ne)}function Ze(n,t){n*=wt;var e=Et(t*=wt),r=e*Et(n),o=e*kt(n),i=kt(t),a=xt(Pt((a=Oe*i-Ne*o)*a+(a=Ne*r-Pe*i)*a+(a=Pe*o-Oe*r)*a),Pe*r+Oe*o+Ne*i);me+=a,xe+=a*(Pe+(Pe=r)),Ee+=a*(Oe+(Oe=o)),Se+=a*(Ne+(Ne=i)),Xe(Pe,Oe,Ne)}function nr(){$e.point=Je}function tr(){$e.point=rr}function er(){or(ke,Ce),$e.point=Je}function rr(n,t){ke=n,Ce=t,n*=wt,t*=wt,$e.point=or;var e=Et(t);Pe=e*Et(n),Oe=e*kt(n),Ne=kt(t),Xe(Pe,Oe,Ne)}function or(n,t){n*=wt;var e=Et(t*=wt),r=e*Et(n),o=e*kt(n),i=kt(t),a=Oe*i-Ne*o,u=Ne*r-Pe*i,c=Pe*o-Oe*r,s=Pt(a*a+u*u+c*c),f=At(s),l=s&&-f/s;Me+=l*a,Te+=l*u,je+=l*c,me+=f,xe+=f*(Pe+(Pe=r)),Ee+=f*(Oe+(Oe=o)),Se+=f*(Ne+(Ne=i)),Xe(Pe,Oe,Ne)}function ir(n){ye=me=we=_e=be=xe=Ee=Se=Me=Te=je=0,Ft(n,$e);var t=Me,e=Te,r=je,o=t*t+e*e+r*r;return o<1e-12&&(t=xe,e=Ee,r=Se,me<1e-6&&(t=we,e=_e,r=be),(o=t*t+e*e+r*r)<1e-12)?[NaN,NaN]:[xt(e,t)*mt,At(r/Pt(o))*mt]}function ar(n){return function(){return n}}function ur(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e}function cr(n,t){return[n>vt?n-yt:n<-vt?n+yt:n,t]}function sr(n,t,e){return(n%=yt)?t||e?ur(lr(n),hr(t,e)):lr(n):t||e?hr(t,e):cr}function fr(n){return function(t,e){return[(t+=n)>vt?t-yt:t<-vt?t+yt:t,e]}}function lr(n){var t=fr(n);return t.invert=fr(-n),t}function hr(n,t){var e=Et(n),r=kt(n),o=Et(t),i=kt(t);function a(n,t){var a=Et(t),u=Et(n)*a,c=kt(n)*a,s=kt(t),f=s*e+u*r;return[xt(c*o-f*i,u*e-s*r),At(f*o+c*i)]}return a.invert=function(n,t){var a=Et(t),u=Et(n)*a,c=kt(n)*a,s=kt(t),f=s*o-c*i;return[xt(c*o+s*i,u*e+f*r),At(f*e-u*r)]},a}function pr(n){function t(t){return(t=n(t[0]*wt,t[1]*wt))[0]*=mt,t[1]*=mt,t}return n=sr(n[0]*wt,n[1]*wt,n.length>2?n[2]*wt:0),t.invert=function(t){return(t=n.invert(t[0]*wt,t[1]*wt))[0]*=mt,t[1]*=mt,t},t}function vr(n,t,e,r,o,i){if(e){var a=Et(t),u=kt(t),c=r*e;null==o?(o=t+r*yt,i=t-c/2):(o=dr(a,o),i=dr(a,i),(r>0?o<i:o>i)&&(o+=r*yt));for(var s,f=o;r>0?f>i:f<i;f-=c)s=ne([a,-u*Et(f),-u*kt(f)]),n.point(s[0],s[1])}}function dr(n,t){(t=te(t))[0]-=n,ae(t);var e=Nt(-t[1]);return((-t[2]<0?-e:e)+yt-1e-6)%yt}function gr(){var n,t,e=ar([0,0]),r=ar(90),o=ar(6),i={point:function(e,r){n.push(e=t(e,r)),e[0]*=mt,e[1]*=mt}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*wt,c=o.apply(this,arguments)*wt;return n=[],t=sr(-a[0]*wt,-a[1]*wt,0).invert,vr(i,u,c,1),a={type:"Polygon",coordinates:[n]},n=t=null,a}return a.center=function(n){return arguments.length?(e="function"==typeof n?n:ar([+n[0],+n[1]]),a):e},a.radius=function(n){return arguments.length?(r="function"==typeof n?n:ar(+n),a):r},a.precision=function(n){return arguments.length?(o="function"==typeof n?n:ar(+n),a):o},a}function yr(){var n,t=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){t.push(n=[])},lineEnd:It,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function mr(n,t){return _t(n[0]-t[0])<1e-6&&_t(n[1]-t[1])<1e-6}function wr(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function _r(n,t,e,r,o){var i,a,u=[],c=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],a=n[t];if(mr(r,a)){for(o.lineStart(),i=0;i<t;++i)o.point((r=n[i])[0],r[1]);o.lineEnd()}else u.push(e=new wr(r,n,null,!0)),c.push(e.o=new wr(r,null,e,!1)),u.push(e=new wr(a,n,null,!1)),c.push(e.o=new wr(a,null,e,!0))}})),u.length){for(c.sort(t),br(u),br(c),i=0,a=c.length;i<a;++i)c[i].e=e=!e;for(var s,f,l=u[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;s=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,a=s.length;i<a;++i)o.point((f=s[i])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(s=h.p.z,i=s.length-1;i>=0;--i)o.point((f=s[i])[0],f[1]);else r(h.x,h.p.x,-1,o);h=h.p}s=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function br(n){if(t=n.length){for(var t,e,r=0,o=n[0];++r<t;)o.n=e=n[r],e.p=o,o=e;o.n=e=n[0],e.p=o}}function xr(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Er(n,t,e){n=+n,t=+t,e=(o=arguments.length)<2?(t=n,n=0,1):o<3?1:+e;for(var r=-1,o=0|Math.max(0,Math.ceil((t-n)/e)),i=new Array(o);++r<o;)i[r]=n+r*e;return i}function Sr(n){for(var t,e,r,o=n.length,i=-1,a=0;++i<o;)a+=n[i].length;for(e=new Array(a);--o>=0;)for(t=(r=n[o]).length;--t>=0;)e[--a]=r[t];return e}cr.invert=cr,1===(We=xr).length&&(Ye=We,We=function(n,t){return xr(Ye(n),t)});function Mr(n,t,e,r){function o(o,i){return n<=o&&o<=e&&t<=i&&i<=r}function i(o,i,u,s){var f=0,l=0;if(null==o||(f=a(o,u))!==(l=a(i,u))||c(o,i)<0^u>0)do{s.point(0===f||3===f?n:e,f>1?r:t)}while((f=(f+u+4)%4)!==l);else s.point(i[0],i[1])}function a(r,o){return _t(r[0]-n)<1e-6?o>0?0:3:_t(r[0]-e)<1e-6?o>0?2:1:_t(r[1]-t)<1e-6?o>0?1:0:o>0?3:2}function u(n,t){return c(n.x,t.x)}function c(n,t){var e=a(n,1),r=a(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){var c,s,f,l,h,p,v,d,g,y,m,w=a,_=yr(),b={point:x,lineStart:function(){b.point=E,s&&s.push(f=[]);y=!0,g=!1,v=d=NaN},lineEnd:function(){c&&(E(l,h),p&&g&&_.rejoin(),c.push(_.result()));b.point=x,g&&w.lineEnd()},polygonStart:function(){w=_,c=[],s=[],m=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,o=s.length;e<o;++e)for(var i,a,u=s[e],c=1,f=u.length,l=u[0],h=l[0],p=l[1];c<f;++c)i=h,a=p,h=(l=u[c])[0],p=l[1],a<=r?p>r&&(h-i)*(r-a)>(p-a)*(n-i)&&++t:p<=r&&(h-i)*(r-a)<(p-a)*(n-i)&&--t;return t}(),e=m&&t,o=(c=Sr(c)).length;(e||o)&&(a.polygonStart(),e&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&_r(c,u,t,i,a),a.polygonEnd());w=a,c=s=f=null}};function x(n,t){o(n,t)&&w.point(n,t)}function E(i,a){var u=o(i,a);if(s&&f.push([i,a]),y)l=i,h=a,p=u,y=!1,u&&(w.lineStart(),w.point(i,a));else if(u&&g)w.point(i,a);else{var c=[v=Math.max(-1e9,Math.min(1e9,v)),d=Math.max(-1e9,Math.min(1e9,d))],_=[i=Math.max(-1e9,Math.min(1e9,i)),a=Math.max(-1e9,Math.min(1e9,a))];!function(n,t,e,r,o,i){var a,u=n[0],c=n[1],s=0,f=1,l=t[0]-u,h=t[1]-c;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<s)return;a<f&&(f=a)}else if(l>0){if(a>f)return;a>s&&(s=a)}if(a=o-u,l||!(a<0)){if(a/=l,l<0){if(a>f)return;a>s&&(s=a)}else if(l>0){if(a<s)return;a<f&&(f=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<s)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>s&&(s=a)}if(a=i-c,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>s&&(s=a)}else if(h>0){if(a<s)return;a<f&&(f=a)}return s>0&&(n[0]=u+s*l,n[1]=c+s*h),f<1&&(t[0]=u+f*l,t[1]=c+f*h),!0}}}}}(c,_,n,t,e,r)?u&&(w.lineStart(),w.point(i,a),m=!1):(g||(w.lineStart(),w.point(c[0],c[1])),w.point(_[0],_[1]),u||w.lineEnd(),m=!1)}v=i,d=a,g=u}return b}}var Tr=ft();function jr(n,t){var e=t[0],r=t[1],o=[kt(e),-Et(e),0],i=0,a=0;Tr.reset();for(var u=0,c=n.length;u<c;++u)if(f=(s=n[u]).length)for(var s,f,l=s[f-1],h=l[0],p=l[1]/2+gt,v=kt(p),d=Et(p),g=0;g<f;++g,h=m,v=_,d=b,l=y){var y=s[g],m=y[0],w=y[1]/2+gt,_=kt(w),b=Et(w),x=m-h,E=x>=0?1:-1,S=E*x,M=S>vt,T=v*_;if(Tr.add(xt(T*E*kt(S),d*b+T*Et(S))),i+=M?x+E*yt:x,M^h>=e^m>=e){var j=re(te(l),te(y));ae(j);var k=re(o,j);ae(k);var C=(M^x>=0?-1:1)*At(k[2]);(r>C||r===C&&(j[0]||j[1]))&&(a+=M^x>=0?1:-1)}}return(i<-1e-6||i<1e-6&&Tr<-1e-6)^1&a}var kr,Cr,Pr,Or=ft(),Nr={sphere:It,point:It,lineStart:function(){Nr.point=Rr,Nr.lineEnd=Ar},lineEnd:It,polygonStart:It,polygonEnd:It};function Ar(){Nr.point=Nr.lineEnd=It}function Rr(n,t){kr=n*=wt,Cr=kt(t*=wt),Pr=Et(t),Nr.point=Ir}function Ir(n,t){n*=wt;var e=kt(t*=wt),r=Et(t),o=_t(n-kr),i=Et(o),a=r*kt(o),u=Pr*e-Cr*r*i,c=Cr*e+Pr*r*i;Or.add(xt(Pt(a*a+u*u),c)),kr=n,Cr=e,Pr=r}function Dr(n){return Or.reset(),Ft(n,Nr),+Or}var Lr=[null,null],Br={type:"LineString",coordinates:Lr};function zr(n,t){return Lr[0]=n,Lr[1]=t,Dr(Br)}var qr={Feature:function(n,t){return Gr(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,o=e.length;++r<o;)if(Gr(e[r].geometry,t))return!0;return!1}},Fr={Sphere:function(){return!0},Point:function(n,t){return Vr(n.coordinates,t)},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)if(Vr(e[r],t))return!0;return!1},LineString:function(n,t){return Hr(n.coordinates,t)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)if(Hr(e[r],t))return!0;return!1},Polygon:function(n,t){return Ur(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)if(Ur(e[r],t))return!0;return!1},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,o=e.length;++r<o;)if(Gr(e[r],t))return!0;return!1}};function Gr(n,t){return!(!n||!Fr.hasOwnProperty(n.type))&&Fr[n.type](n,t)}function Vr(n,t){return 0===zr(n,t)}function Hr(n,t){var e=zr(n[0],n[1]);return zr(n[0],t)+zr(t,n[1])<=e+1e-6}function Ur(n,t){return!!jr(n.map(Wr),Yr(t))}function Wr(n){return(n=n.map(Yr)).pop(),n}function Yr(n){return[n[0]*wt,n[1]*wt]}function $r(n,t,e){var r=Er(n,t-1e-6,e).concat(t);return function(n){return r.map((function(t){return[n,t]}))}}function Jr(n,t,e){var r=Er(n,t-1e-6,e).concat(t);return function(n){return r.map((function(t){return[t,n]}))}}function Xr(){var n,t,e,r,o,i,a,u,c,s,f,l,h=10,p=h,v=90,d=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return Er(St(r/v)*v,e,v).map(f).concat(Er(St(u/d)*d,a,d).map(l)).concat(Er(St(t/h)*h,n,h).filter((function(n){return _t(n%v)>1e-6})).map(c)).concat(Er(St(i/p)*p,o,p).filter((function(n){return _t(n%d)>1e-6})).map(s))}return y.lines=function(){return m().map((function(n){return{type:"LineString",coordinates:n}}))},y.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(l(a).slice(1),f(e).reverse().slice(1),l(u).reverse().slice(1))]}},y.extent=function(n){return arguments.length?y.extentMajor(n).extentMinor(n):y.extentMinor()},y.extentMajor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],u=+n[0][1],a=+n[1][1],r>e&&(n=r,r=e,e=n),u>a&&(n=u,u=a,a=n),y.precision(g)):[[r,u],[e,a]]},y.extentMinor=function(e){return arguments.length?(t=+e[0][0],n=+e[1][0],i=+e[0][1],o=+e[1][1],t>n&&(e=t,t=n,n=e),i>o&&(e=i,i=o,o=e),y.precision(g)):[[t,i],[n,o]]},y.step=function(n){return arguments.length?y.stepMajor(n).stepMinor(n):y.stepMinor()},y.stepMajor=function(n){return arguments.length?(v=+n[0],d=+n[1],y):[v,d]},y.stepMinor=function(n){return arguments.length?(h=+n[0],p=+n[1],y):[h,p]},y.precision=function(h){return arguments.length?(g=+h,c=$r(i,o,90),s=Jr(t,n,g),f=$r(u,a,90),l=Jr(r,e,g),y):g},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Qr(n,t){var e=n[0]*wt,r=n[1]*wt,o=t[0]*wt,i=t[1]*wt,a=Et(r),u=kt(r),c=Et(i),s=kt(i),f=a*Et(e),l=a*kt(e),h=c*Et(o),p=c*kt(o),v=2*At(Pt(Rt(i-r)+a*c*Rt(o-e))),d=kt(v),g=v?function(n){var t=kt(n*=v)/d,e=kt(v-n)/d,r=e*f+t*h,o=e*l+t*p,i=e*u+t*s;return[xt(o,r)*mt,xt(i,Pt(r*r+o*o))*mt]}:function(){return[e*mt,r*mt]};return g.distance=v,g}function Kr(n){return n}var Zr,no,to,eo,ro=ft(),oo=ft(),io={point:It,lineStart:It,lineEnd:It,polygonStart:function(){io.lineStart=ao,io.lineEnd=so},polygonEnd:function(){io.lineStart=io.lineEnd=io.point=It,ro.add(_t(oo)),oo.reset()},result:function(){var n=ro/2;return ro.reset(),n}};function ao(){io.point=uo}function uo(n,t){io.point=co,Zr=to=n,no=eo=t}function co(n,t){oo.add(eo*n-to*t),to=n,eo=t}function so(){co(Zr,no)}var fo=1/0,lo=fo,ho=-fo,po=ho,vo={point:function(n,t){n<fo&&(fo=n);n>ho&&(ho=n);t<lo&&(lo=t);t>po&&(po=t)},lineStart:It,lineEnd:It,polygonStart:It,polygonEnd:It,result:function(){var n=[[fo,lo],[ho,po]];return ho=po=-(lo=fo=1/0),n}};var go,yo,mo,wo,_o=0,bo=0,xo=0,Eo=0,So=0,Mo=0,To=0,jo=0,ko=0,Co={point:Po,lineStart:Oo,lineEnd:Ro,polygonStart:function(){Co.lineStart=Io,Co.lineEnd=Do},polygonEnd:function(){Co.point=Po,Co.lineStart=Oo,Co.lineEnd=Ro},result:function(){var n=ko?[To/ko,jo/ko]:Mo?[Eo/Mo,So/Mo]:xo?[_o/xo,bo/xo]:[NaN,NaN];return _o=bo=xo=Eo=So=Mo=To=jo=ko=0,n}};function Po(n,t){_o+=n,bo+=t,++xo}function Oo(){Co.point=No}function No(n,t){Co.point=Ao,Po(mo=n,wo=t)}function Ao(n,t){var e=n-mo,r=t-wo,o=Pt(e*e+r*r);Eo+=o*(mo+n)/2,So+=o*(wo+t)/2,Mo+=o,Po(mo=n,wo=t)}function Ro(){Co.point=Po}function Io(){Co.point=Lo}function Do(){Bo(go,yo)}function Lo(n,t){Co.point=Bo,Po(go=mo=n,yo=wo=t)}function Bo(n,t){var e=n-mo,r=t-wo,o=Pt(e*e+r*r);Eo+=o*(mo+n)/2,So+=o*(wo+t)/2,Mo+=o,To+=(o=wo*n-mo*t)*(mo+n),jo+=o*(wo+t),ko+=3*o,Po(mo=n,wo=t)}function zo(n){this._context=n}zo.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,yt)}},result:It};var qo,Fo,Go,Vo,Ho,Uo=ft(),Wo={point:It,lineStart:function(){Wo.point=Yo},lineEnd:function(){qo&&$o(Fo,Go),Wo.point=It},polygonStart:function(){qo=!0},polygonEnd:function(){qo=null},result:function(){var n=+Uo;return Uo.reset(),n}};function Yo(n,t){Wo.point=$o,Fo=Vo=n,Go=Ho=t}function $o(n,t){Vo-=n,Ho-=t,Uo.add(Pt(Vo*Vo+Ho*Ho)),Vo=n,Ho=t}function Jo(){this._string=[]}function Xo(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Qo(n,t,e,r){return function(o,i){var a,u,c,s=t(i),f=o.invert(r[0],r[1]),l=yr(),h=t(l),p=!1,v={point:d,lineStart:y,lineEnd:m,polygonStart:function(){v.point=w,v.lineStart=_,v.lineEnd=b,u=[],a=[]},polygonEnd:function(){v.point=d,v.lineStart=y,v.lineEnd=m,u=Sr(u);var n=jr(a,f);u.length?(p||(i.polygonStart(),p=!0),_r(u,Zo,n,e,i)):n&&(p||(i.polygonStart(),p=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),p&&(i.polygonEnd(),p=!1),u=a=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(t,e){var r=o(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function g(n,t){var e=o(n,t);s.point(e[0],e[1])}function y(){v.point=g,s.lineStart()}function m(){v.point=d,s.lineEnd()}function w(n,t){c.push([n,t]);var e=o(n,t);h.point(e[0],e[1])}function _(){h.lineStart(),c=[]}function b(){w(c[0][0],c[0][1]),h.lineEnd();var n,t,e,r,o=h.clean(),s=l.result(),f=s.length;if(c.pop(),a.push(c),c=null,f)if(1&o){if((t=(e=s[0]).length-1)>0){for(p||(i.polygonStart(),p=!0),i.lineStart(),n=0;n<t;++n)i.point((r=e[n])[0],r[1]);i.lineEnd()}}else f>1&&2&o&&s.push(s.pop().concat(s.shift())),u.push(s.filter(Ko))}return v}}function Ko(n){return n.length>1}function Zo(n,t){return((n=n.x)[0]<0?n[1]-dt-1e-6:dt-n[1])-((t=t.x)[0]<0?t[1]-dt-1e-6:dt-t[1])}Jo.prototype={_radius:4.5,_circle:Xo(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:null==this._circle&&(this._circle=Xo(this._radius)),this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}return null}};var ni=Qo((function(){return!0}),(function(n){var t,e=NaN,r=NaN,o=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(i,a){var u=i>0?vt:-vt,c=_t(i-e);_t(c-vt)<1e-6?(n.point(e,r=(r+a)/2>0?dt:-dt),n.point(o,r),n.lineEnd(),n.lineStart(),n.point(u,r),n.point(i,r),t=0):o!==u&&c>=vt&&(_t(e-o)<1e-6&&(e-=1e-6*o),_t(i-u)<1e-6&&(i-=1e-6*u),r=function(n,t,e,r){var o,i,a=kt(n-e);return _t(a)>1e-6?bt((kt(t)*(i=Et(r))*kt(e)-kt(r)*(o=Et(t))*kt(n))/(o*i*a)):(t+r)/2}(e,r,i,a),n.point(o,r),n.lineEnd(),n.lineStart(),n.point(u,r),t=0),n.point(e=i,r=a),o=u},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}),(function(n,t,e,r){var o;if(null==n)o=e*dt,r.point(-vt,o),r.point(0,o),r.point(vt,o),r.point(vt,0),r.point(vt,-o),r.point(0,-o),r.point(-vt,-o),r.point(-vt,0),r.point(-vt,o);else if(_t(n[0]-t[0])>1e-6){var i=n[0]<t[0]?vt:-vt;o=e*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}),[-vt,-dt]);function ti(n,t){var e=Et(n),r=e>0,o=_t(e)>1e-6;function i(n,t){return Et(n)*Et(t)>e}function a(n,t,r){var o=[1,0,0],i=re(te(n),te(t)),a=ee(i,i),u=i[0],c=a-u*u;if(!c)return!r&&n;var s=e*a/c,f=-e*u/c,l=re(o,i),h=ie(o,s);oe(h,ie(i,f));var p=l,v=ee(h,p),d=ee(p,p),g=v*v-d*(ee(h,h)-1);if(!(g<0)){var y=Pt(g),m=ie(p,(-v-y)/d);if(oe(m,h),m=ne(m),!r)return m;var w,_=n[0],b=t[0],x=n[1],E=t[1];b<_&&(w=_,_=b,b=w);var S=b-_,M=_t(S-vt)<1e-6;if(!M&&E<x&&(w=x,x=E,E=w),M||S<1e-6?M?x+E>0^m[1]<(_t(m[0]-_)<1e-6?x:E):x<=m[1]&&m[1]<=E:S>vt^(_<=m[0]&&m[0]<=b)){var T=ie(p,(-v+y)/d);return oe(T,h),[m,ne(T)]}}}function u(t,e){var o=r?n:vt-n,i=0;return t<-o?i|=1:t>o&&(i|=2),e<-o?i|=4:e>o&&(i|=8),i}return Qo(i,(function(n){var t,e,c,s,f;return{lineStart:function(){s=c=!1,f=1},point:function(l,h){var p,v=[l,h],d=i(l,h),g=r?d?0:u(l,h):d?u(l+(l<0?vt:-vt),h):0;if(!t&&(s=c=d)&&n.lineStart(),d!==c&&(!(p=a(t,v))||mr(t,p)||mr(v,p))&&(v[0]+=1e-6,v[1]+=1e-6,d=i(v[0],v[1])),d!==c)f=0,d?(n.lineStart(),p=a(v,t),n.point(p[0],p[1])):(p=a(t,v),n.point(p[0],p[1]),n.lineEnd()),t=p;else if(o&&t&&r^d){var y;g&e||!(y=a(v,t,!0))||(f=0,r?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!d||t&&mr(t,v)||n.point(v[0],v[1]),t=v,c=d,e=g},lineEnd:function(){c&&n.lineEnd(),t=null},clean:function(){return f|(s&&c)<<1}}}),(function(e,r,o,i){vr(i,n,t,o,e,r)}),r?[0,-n]:[-vt,n-vt])}function ei(n){return function(t){var e=new ri;for(var r in n)e[r]=n[r];return e.stream=t,e}}function ri(){}function oi(n,t,e){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=i&&n.clipExtent(null),Ft(e,n.stream(vo));var a=vo.result(),u=Math.min(r/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),c=+t[0][0]+(r-u*(a[1][0]+a[0][0]))/2,s=+t[0][1]+(o-u*(a[1][1]+a[0][1]))/2;return null!=i&&n.clipExtent(i),n.scale(150*u).translate([c,s])}function ii(n,t,e){return oi(n,[[0,0],t],e)}ri.prototype={constructor:ri,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ai=Et(30*wt);function ui(n,t){return+t?function(n,t){function e(r,o,i,a,u,c,s,f,l,h,p,v,d,g){var y=s-r,m=f-o,w=y*y+m*m;if(w>4*t&&d--){var _=a+h,b=u+p,x=c+v,E=Pt(_*_+b*b+x*x),S=At(x/=E),M=_t(_t(x)-1)<1e-6||_t(i-l)<1e-6?(i+l)/2:xt(b,_),T=n(M,S),j=T[0],k=T[1],C=j-r,P=k-o,O=m*C-y*P;(O*O/w>t||_t((y*C+m*P)/w-.5)>.3||a*h+u*p+c*v<ai)&&(e(r,o,i,a,u,c,j,k,M,_/=E,b/=E,x,d,g),g.point(j,k),e(j,k,M,_,b,x,s,f,l,h,p,v,d,g))}}return function(t){var r,o,i,a,u,c,s,f,l,h,p,v,d={point:g,lineStart:y,lineEnd:w,polygonStart:function(){t.polygonStart(),d.lineStart=_},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function g(e,r){e=n(e,r),t.point(e[0],e[1])}function y(){f=NaN,d.point=m,t.lineStart()}function m(r,o){var i=te([r,o]),a=n(r,o);e(f,l,s,h,p,v,f=a[0],l=a[1],s=r,h=i[0],p=i[1],v=i[2],16,t),t.point(f,l)}function w(){d.point=g,t.lineEnd()}function _(){y(),d.point=b,d.lineEnd=x}function b(n,t){m(r=n,t),o=f,i=l,a=h,u=p,c=v,d.point=m}function x(){e(f,l,s,h,p,v,o,i,r,a,u,c,16,t),d.lineEnd=w,w()}return d}}(n,t):function(n){return ei({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}(n)}var ci=ei({point:function(n,t){this.stream.point(n*wt,t*wt)}});function si(n){return fi((function(){return n}))()}function fi(n){var t,e,r,o,i,a,u,c,s,f,l=150,h=480,p=250,v=0,d=0,g=0,y=0,m=0,w=null,_=ni,b=null,x=Kr,E=.5,S=ui(j,E);function M(n){return[(n=i(n[0]*wt,n[1]*wt))[0]*l+e,r-n[1]*l]}function T(n){return(n=i.invert((n[0]-e)/l,(r-n[1])/l))&&[n[0]*mt,n[1]*mt]}function j(n,o){return[(n=t(n,o))[0]*l+e,r-n[1]*l]}function k(){i=ur(o=sr(g,y,m),t);var n=t(v,d);return e=h-n[0]*l,r=p+n[1]*l,C()}function C(){return s=f=null,M}return M.stream=function(n){return s&&f===n?s:s=ci(_(o,S(x(f=n))))},M.clipAngle=function(n){return arguments.length?(_=+n?ti(w=n*wt,6*wt):(w=null,ni),C()):w*mt},M.clipExtent=function(n){return arguments.length?(x=null==n?(b=a=u=c=null,Kr):Mr(b=+n[0][0],a=+n[0][1],u=+n[1][0],c=+n[1][1]),C()):null==b?null:[[b,a],[u,c]]},M.scale=function(n){return arguments.length?(l=+n,k()):l},M.translate=function(n){return arguments.length?(h=+n[0],p=+n[1],k()):[h,p]},M.center=function(n){return arguments.length?(v=n[0]%360*wt,d=n[1]%360*wt,k()):[v*mt,d*mt]},M.rotate=function(n){return arguments.length?(g=n[0]%360*wt,y=n[1]%360*wt,m=n.length>2?n[2]%360*wt:0,k()):[g*mt,y*mt,m*mt]},M.precision=function(n){return arguments.length?(S=ui(j,E=n*n),C()):Pt(E)},M.fitExtent=function(n,t){return oi(M,n,t)},M.fitSize=function(n,t){return ii(M,n,t)},function(){return t=n.apply(this,arguments),M.invert=t.invert&&T,k()}}function li(n){var t=0,e=vt/3,r=fi(n),o=r(t,e);return o.parallels=function(n){return arguments.length?r(t=n[0]*wt,e=n[1]*wt):[t*mt,e*mt]},o}function hi(n,t){var e=kt(n),r=(e+kt(t))/2;if(_t(r)<1e-6)return function(n){var t=Et(n);function e(n,e){return[n*t,kt(e)/t]}return e.invert=function(n,e){return[n/t,At(e*t)]},e}(n);var o=1+e*(2*r-e),i=Pt(o)/r;function a(n,t){var e=Pt(o-2*r*kt(t))/r;return[e*kt(n*=r),i-e*Et(n)]}return a.invert=function(n,t){var e=i-t;return[xt(n,_t(e))/r*Ct(e),At((o-(n*n+e*e)*r*r)/(2*r))]},a}function pi(){return li(hi).scale(155.424).center([0,33.6442])}function vi(){return pi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function di(n){return function(t,e){var r=Et(t),o=Et(e),i=n(r*o);return[i*o*kt(t),i*kt(e)]}}function gi(n){return function(t,e){var r=Pt(t*t+e*e),o=n(r),i=kt(o),a=Et(o);return[xt(t*i,r*a),At(r&&e*i/r)]}}var yi=di((function(n){return Pt(2/(1+n))}));yi.invert=gi((function(n){return 2*At(n/2)}));var mi=di((function(n){return(n=Nt(n))&&n/kt(n)}));function wi(n,t){return[n,Tt(Ot((dt+t)/2))]}function _i(n){var t,e,r,o=si(n),i=o.center,a=o.scale,u=o.translate,c=o.clipExtent,s=null;function f(){var i=vt*a(),u=o(pr(o.rotate()).invert([0,0]));return c(null==s?[[u[0]-i,u[1]-i],[u[0]+i,u[1]+i]]:n===wi?[[Math.max(u[0]-i,s),t],[Math.min(u[0]+i,e),r]]:[[s,Math.max(u[1]-i,t)],[e,Math.min(u[1]+i,r)]])}return o.scale=function(n){return arguments.length?(a(n),f()):a()},o.translate=function(n){return arguments.length?(u(n),f()):u()},o.center=function(n){return arguments.length?(i(n),f()):i()},o.clipExtent=function(n){return arguments.length?(null==n?s=t=e=r=null:(s=+n[0][0],t=+n[0][1],e=+n[1][0],r=+n[1][1]),f()):null==s?null:[[s,t],[e,r]]},f()}function bi(n){return Ot((dt+n)/2)}function xi(n,t){var e=Et(n),r=n===t?kt(n):Tt(e/Et(t))/Tt(bi(t)/bi(n)),o=e*jt(bi(n),r)/r;if(!r)return wi;function i(n,t){o>0?t<1e-6-dt&&(t=1e-6-dt):t>dt-1e-6&&(t=dt-1e-6);var e=o/jt(bi(t),r);return[e*kt(r*n),o-e*Et(r*n)]}return i.invert=function(n,t){var e=o-t,i=Ct(r)*Pt(n*n+e*e);return[xt(n,_t(e))/r*Ct(e),2*bt(jt(o/i,1/r))-dt]},i}function Ei(n,t){return[n,t]}function Si(){return si(Ei).scale(152.63)}function Mi(n,t){var e=Et(n),r=n===t?kt(n):(e-Et(t))/(t-n),o=e/r+n;if(_t(r)<1e-6)return Ei;function i(n,t){var e=o-t,i=r*n;return[e*kt(i),o-e*Et(i)]}return i.invert=function(n,t){var e=o-t;return[xt(n,_t(e))/r*Ct(e),o-Ct(r)*Pt(n*n+e*e)]},i}function Ti(n,t){var e=Et(t),r=Et(n)*e;return[e*kt(n)/r,kt(t)/r]}function ji(){return si(Ti).scale(144.049).clipAngle(60)}function ki(n,t,e,r){return 1===n&&1===t&&0===e&&0===r?Kr:ei({point:function(o,i){this.stream.point(o*n+e,i*t+r)}})}function Ci(n,t){return[Et(t)*kt(n),kt(t)]}function Pi(){return si(Ci).scale(249.5).clipAngle(90.000001)}function Oi(n,t){var e=Et(t),r=1+Et(n)*e;return[e*kt(n)/r,kt(t)/r]}function Ni(n,t){return[Tt(Ot((dt+t)/2)),-n]}mi.invert=gi((function(n){return n})),wi.invert=function(n,t){return[n,2*bt(Mt(t))-dt]},Ei.invert=Ei,Ti.invert=gi(bt),Ci.invert=gi(At),Oi.invert=gi((function(n){return 2*bt(n)})),Ni.invert=function(n,t){return[-t,2*bt(Mt(n))-dt]};var Ai=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoArea:function(n){return $t.reset(),Ft(n,Jt),2*$t},geoBounds:Ue,geoCentroid:ir,geoCircle:gr,geoClipExtent:function(){var n,t,e,r=0,o=0,i=960,a=500;return e={stream:function(e){return n&&t===e?n:n=Mr(r,o,i,a)(t=e)},extent:function(u){return arguments.length?(r=+u[0][0],o=+u[0][1],i=+u[1][0],a=+u[1][1],n=t=null,e):[[r,o],[i,a]]}}},geoContains:function(n,t){return(n&&qr.hasOwnProperty(n.type)?qr[n.type]:Gr)(n,t)},geoDistance:zr,geoGraticule:Xr,geoGraticule10:function(){return Xr()()},geoInterpolate:Qr,geoLength:Dr,geoPath:function(n,t){var e,r,o=4.5;function i(n){return n&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Ft(n,e(r))),r.result()}return i.area=function(n){return Ft(n,e(io)),io.result()},i.measure=function(n){return Ft(n,e(Wo)),Wo.result()},i.bounds=function(n){return Ft(n,e(vo)),vo.result()},i.centroid=function(n){return Ft(n,e(Co)),Co.result()},i.projection=function(t){return arguments.length?(e=null==t?(n=null,Kr):(n=t).stream,i):n},i.context=function(n){return arguments.length?(r=null==n?(t=null,new Jo):new zo(t=n),"function"!=typeof o&&r.pointRadius(o),i):t},i.pointRadius=function(n){return arguments.length?(o="function"==typeof n?n:(r.pointRadius(+n),+n),i):o},i.projection(n).context(t)},geoAlbers:vi,geoAlbersUsa:function(){var n,t,e,r,o,i,a=vi(),u=pi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=pi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(n,t){i=[n,t]}};function f(n){var t=n[0],a=n[1];return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?u:o>=.166&&o<.234&&r>=-.214&&r<-.115?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(.35*n),c.scale(n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.455*t,f-.238*t],[i+.455*t,f+.238*t]]).stream(s),r=u.translate([i-.307*t,f+.201*t]).clipExtent([[i-.425*t+1e-6,f+.12*t+1e-6],[i-.214*t-1e-6,f+.234*t-1e-6]]).stream(s),o=c.translate([i-.205*t,f+.212*t]).clipExtent([[i-.214*t+1e-6,f+.166*t+1e-6],[i-.115*t-1e-6,f+.234*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return oi(f,n,t)},f.fitSize=function(n,t){return ii(f,n,t)},f.scale(1070)},geoAzimuthalEqualArea:function(){return si(yi).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:yi,geoAzimuthalEquidistant:function(){return si(mi).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:mi,geoConicConformal:function(){return li(xi).scale(109.5).parallels([30,30])},geoConicConformalRaw:xi,geoConicEqualArea:pi,geoConicEqualAreaRaw:hi,geoConicEquidistant:function(){return li(Mi).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:Mi,geoEquirectangular:Si,geoEquirectangularRaw:Ei,geoGnomonic:ji,geoGnomonicRaw:Ti,geoIdentity:function(){var n,t,e,r,o,i,a=1,u=0,c=0,s=1,f=1,l=Kr,h=null,p=Kr;function v(){return r=o=null,i}return i={stream:function(n){return r&&o===n?r:r=l(p(o=n))},clipExtent:function(r){return arguments.length?(p=null==r?(h=n=t=e=null,Kr):Mr(h=+r[0][0],n=+r[0][1],t=+r[1][0],e=+r[1][1]),v()):null==h?null:[[h,n],[t,e]]},scale:function(n){return arguments.length?(l=ki((a=+n)*s,a*f,u,c),v()):a},translate:function(n){return arguments.length?(l=ki(a*s,a*f,u=+n[0],c=+n[1]),v()):[u,c]},reflectX:function(n){return arguments.length?(l=ki(a*(s=n?-1:1),a*f,u,c),v()):s<0},reflectY:function(n){return arguments.length?(l=ki(a*s,a*(f=n?-1:1),u,c),v()):f<0},fitExtent:function(n,t){return oi(i,n,t)},fitSize:function(n,t){return ii(i,n,t)}}},geoProjection:si,geoProjectionMutator:fi,geoMercator:function(){return _i(wi).scale(961/yt)},geoMercatorRaw:wi,geoOrthographic:Pi,geoOrthographicRaw:Ci,geoStereographic:function(){return si(Oi).scale(250).clipAngle(142)},geoStereographicRaw:Oi,geoTransverseMercator:function(){var n=_i(Ni),t=n.center,e=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return arguments.length?e([n[0],n[1],n.length>2?n[2]+90:90]):[(n=e())[0],n[1],n[2]-90]},e([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:Ni,geoRotation:pr,geoStream:Ft,geoTransform:function(n){return{stream:ei(n)}}})),Ri=Math.abs,Ii=Math.atan,Di=Math.atan2,Li=Math.cos,Bi=Math.exp,zi=Math.floor,qi=Math.log,Fi=Math.max,Gi=Math.min,Vi=Math.pow,Hi=Math.round,Ui=Math.sign||function(n){return n>0?1:n<0?-1:0},Wi=Math.sin,Yi=Math.tan,$i=Math.PI,Ji=$i/2,Xi=$i/4,Qi=Math.SQRT1_2,Ki=ia(2),Zi=ia($i),na=2*$i,ta=180/$i,ea=$i/180;function ra(n){return n>1?Ji:n<-1?-Ji:Math.asin(n)}function oa(n){return n>1?0:n<-1?$i:Math.acos(n)}function ia(n){return n>0?Math.sqrt(n):0}function aa(n){return(Bi(n)-Bi(-n))/2}function ua(n){return(Bi(n)+Bi(-n))/2}function ca(n){var t=Yi(n/2),e=2*qi(Li(n/2))/(t*t);function r(n,t){var r=Li(n),o=Li(t),i=Wi(t),a=o*r,u=-((1-a?qi((1+a)/2)/(1-a):-.5)+e/(1+a));return[u*o*Wi(n),u*i]}return r.invert=function(t,r){var o,i=ia(t*t+r*r),a=-n/2,u=50;if(!i)return[0,0];do{var c=a/2,s=Li(c),f=Wi(c),l=Yi(c),h=qi(1/s);a-=o=(2/l*h-e*l-i)/(-h/(f*f)+1-e/(2*s*s))}while(Ri(o)>1e-6&&--u>0);var p=Wi(a);return[Di(t*p,i*Li(a)),ra(r*p/i)]},r}function sa(n,t){var e=Li(t),r=function(n){return n?n/Math.sin(n):1}(oa(e*Li(n/=2)));return[2*e*Wi(n)*r,Wi(t)*r]}function fa(n){var t=Wi(n),e=Li(n),r=n>=0?1:-1,o=Yi(r*n),i=(1+t-e)/2;function a(n,a){var u=Li(a),c=Li(n/=2);return[(1+u)*Wi(n),(r*a>-Di(c,o)-.001?0:10*-r)+i+Wi(a)*e-(1+u)*t*c]}return a.invert=function(n,a){var u=0,c=0,s=50;do{var f=Li(u),l=Wi(u),h=Li(c),p=Wi(c),v=1+h,d=v*l-n,g=i+p*e-v*t*f-a,y=v*f/2,m=-l*p,w=t*v*l/2,_=e*h+t*f*p,b=m*w-_*y,x=(g*m-d*_)/b/2,E=(d*w-g*y)/b;u-=x,c-=E}while((Ri(x)>1e-6||Ri(E)>1e-6)&&--s>0);return r*c>-Di(Li(u),o)-.001?[2*u,c]:null},a}function la(n,t){var e=Yi(t/2),r=ia(1-e*e),o=1+r*Li(n/=2),i=Wi(n)*r/o,a=e/o,u=i*i,c=a*a;return[4/3*i*(3+u-3*c),4/3*a*(3+3*u-c)]}sa.invert=function(n,t){if(!(n*n+4*t*t>$i*$i+1e-6)){var e=n,r=t,o=25;do{var i,a=Wi(e),u=Wi(e/2),c=Li(e/2),s=Wi(r),f=Li(r),l=Wi(2*r),h=s*s,p=f*f,v=u*u,d=1-p*c*c,g=d?oa(f*c)*ia(i=1/d):i=0,y=2*g*f*u-n,m=g*s-t,w=i*(p*v+g*f*c*h),_=i*(.5*a*l-2*g*s*u),b=.25*i*(l*u-g*s*p*a),x=i*(h*c+g*v*f),E=_*b-x*w;if(!E)break;var S=(m*_-y*x)/E,M=(y*b-m*w)/E;e-=S,r-=M}while((Ri(S)>1e-6||Ri(M)>1e-6)&&--o>0);return[e,r]}},la.invert=function(n,t){if(t*=3/8,!(n*=3/8)&&Ri(t)>1)return null;var e=1+n*n+t*t,r=ia((e-ia(e*e-4*t*t))/2),o=ra(r)/3,i=r?function(n){return qi(n+ia(n*n-1))}(Ri(t/r))/3:function(n){return qi(n+ia(n*n+1))}(Ri(n))/3,a=Li(o),u=ua(i),c=u*u-a*a;return[2*Ui(n)*Di(aa(i)*a,.25-c),2*Ui(t)*Di(u*Wi(o),.25+c)]};var ha=ia(8),pa=qi(1+Ki);function va(n,t){var e=Ri(t);return e<Xi?[n,qi(Yi(Xi+t/2))]:[n*Li(e)*(2*Ki-1/Wi(e)),Ui(t)*(2*Ki*(e-Xi)-qi(Yi(e/2)))]}function da(n){var t=2*$i/n;function e(n,e){var r=mi(n,e);if(Ri(n)>Ji){var o=Di(r[1],r[0]),i=ia(r[0]*r[0]+r[1]*r[1]),a=t*Hi((o-Ji)/t)+Ji,u=Di(Wi(o-=a),2-Li(o));o=a+ra($i/i*Wi(u))-u,r[0]=i*Li(o),r[1]=i*Wi(o)}return r}return e.invert=function(n,e){var r=ia(n*n+e*e);if(r>Ji){var o=Di(e,n),i=t*Hi((o-Ji)/t)+Ji,a=o>i?-1:1,u=r*Li(i-o),c=1/Yi(a*oa((u-$i)/ia($i*($i-2*u)+r*r)));o=i+2*Ii((c+a*ia(c*c-3))/3),n=r*Li(o),e=r*Wi(o)}return mi.invert(n,e)},e}function ga(n,t){var e,r=n*Wi(t),o=30;do{t-=e=(t+Wi(t)-r)/(1+Li(t))}while(Ri(e)>1e-6&&--o>0);return t/2}function ya(n,t,e){function r(r,o){return[n*r*Li(o=ga(e,o)),t*Wi(o)]}return r.invert=function(r,o){return o=ra(o/t),[r/(n*Li(o)),ra((2*o+Wi(2*o))/e)]},r}va.invert=function(n,t){if((r=Ri(t))<pa)return[n,2*Ii(Bi(t))-Ji];var e,r,o=Xi,i=25;do{var a=Li(o/2),u=Yi(o/2);o-=e=(ha*(o-Xi)-qi(u)-r)/(ha-a*a/(2*u))}while(Ri(e)>1e-12&&--i>0);return[n/(Li(o)*(ha-1/Wi(o))),Ui(t)*o]};var ma=ya(Ki/Ji,Ki,$i);var wa=2.00276;function _a(n,t){var e=ga($i,t);return[wa*n/(1/Li(t)+1.11072/Li(e)),(t+Ki*Wi(e))/wa]}function ba(n){var t=0,e=fi(n),r=e(t);return r.parallel=function(n){return arguments.length?e(t=n*ea):t*ta},r}function xa(n,t){return[n*Li(t),t]}function Ea(n){if(!n)return xa;var t=1/Yi(n);function e(e,r){var o=t+n-r,i=o?e*Li(r)/o:o;return[o*Wi(i),t-o*Li(i)]}return e.invert=function(e,r){var o=ia(e*e+(r=t-r)*r),i=t+n-o;return[o/Li(i)*Di(e,r),i]},e}function Sa(n){function t(t,e){var r=Ji-e,o=r?t*n*Wi(r)/r:r;return[r*Wi(o)/n,Ji-r*Li(o)]}return t.invert=function(t,e){var r=t*n,o=Ji-e,i=ia(r*r+o*o),a=Di(r,o);return[(i?i/Wi(i):1)*a/n,Ji-i]},t}_a.invert=function(n,t){var e,r,o=wa*t,i=t<0?-Xi:Xi,a=25;do{r=o-Ki*Wi(i),i-=e=(Wi(2*i)+2*i-$i*Wi(r))/(2*Li(2*i)+2+$i*Li(r)*Ki*Li(i))}while(Ri(e)>1e-6&&--a>0);return r=o-Ki*Wi(i),[n*(1/Li(r)+1.11072/Li(i))/wa,r]},xa.invert=function(n,t){return[n/Li(t),t]};var Ma=ya(1,4/$i,$i);function Ta(n,t,e,r,o,i){var a,u=Li(i);if(Ri(n)>1||Ri(i)>1)a=oa(e*o+t*r*u);else{var c=Wi(n/2),s=Wi(i/2);a=2*ra(ia(c*c+t*r*s*s))}return Ri(a)>1e-6?[a,Di(r*Wi(i),t*o-e*r*u)]:[0,0]}function ja(n,t,e){return oa((n*n+t*t-e*e)/(2*n*t))}function ka(n){return n-2*$i*zi((n+$i)/(2*$i))}function Ca(n,t,e){for(var r,o=[[n[0],n[1],Wi(n[1]),Li(n[1])],[t[0],t[1],Wi(t[1]),Li(t[1])],[e[0],e[1],Wi(e[1]),Li(e[1])]],i=o[2],a=0;a<3;++a,i=r)r=o[a],i.v=Ta(r[1]-i[1],i[3],i[2],r[3],r[2],r[0]-i[0]),i.point=[0,0];var u=ja(o[0].v[0],o[2].v[0],o[1].v[0]),c=ja(o[0].v[0],o[1].v[0],o[2].v[0]),s=$i-u;o[2].point[1]=0,o[0].point[0]=-(o[1].point[0]=o[0].v[0]/2);var f=[o[2].point[0]=o[0].point[0]+o[2].v[0]*Li(u),2*(o[0].point[1]=o[1].point[1]=o[2].v[0]*Wi(u))];return function(n,t){var e,r=Wi(t),i=Li(t),a=new Array(3);for(e=0;e<3;++e){var u=o[e];if(a[e]=Ta(t-u[1],u[3],u[2],i,r,n-u[0]),!a[e][0])return u.point;a[e][1]=ka(a[e][1]-u.v[1])}var l=f.slice();for(e=0;e<3;++e){var h=2==e?0:e+1,p=ja(o[e].v[0],a[e][0],a[h][0]);a[e][1]<0&&(p=-p),e?1==e?(p=c-p,l[0]-=a[e][0]*Li(p),l[1]-=a[e][0]*Wi(p)):(p=s-p,l[0]+=a[e][0]*Li(p),l[1]+=a[e][0]*Wi(p)):(l[0]+=a[e][0]*Li(p),l[1]-=a[e][0]*Wi(p))}return l[0]/=3,l[1]/=3,l}}function Pa(n){return n[0]*=ea,n[1]*=ea,n}function Oa(n,t,e){var r=ir({type:"MultiPoint",coordinates:[n,t,e]}),o=[-r[0],-r[1]],i=pr(o),a=si(Ca(Pa(i(n)),Pa(i(t)),Pa(i(e)))).rotate(o),u=a.center;return delete a.rotate,a.center=function(n){return arguments.length?u(i(n)):i.invert(u())},a.clipAngle(90)}function Na(n,t){var e=ia(1-Wi(t));return[2/Zi*n*e,Zi*(1-e)]}function Aa(n){var t=Yi(n);function e(n,e){return[n,(n?n/Wi(n):1)*(Wi(e)*Li(n)-t*Li(e))]}return e.invert=t?function(n,e){n&&(e*=Wi(n)/n);var r=Li(n);return[n,2*Di(ia(r*r+t*t-e*e)-r,t-e)]}:function(n,t){return[n,ra(n?t*Yi(n)/n:t)]},e}Na.invert=function(n,t){var e=(e=t/Zi-1)*e;return[e>0?n*ia($i/e)/2:0,ra(1-e)]};var Ra=ia(3);function Ia(n,t){return[Ra*n*(2*Li(2*t/3)-1)/Zi,Ra*Zi*Wi(t/3)]}function Da(n){var t=Li(n);function e(n,e){return[n*t,Wi(e)/t]}return e.invert=function(n,e){return[n/t,ra(e*t)]},e}function La(n){var t=Li(n);function e(n,e){return[n*t,(1+t)*Yi(e/2)]}return e.invert=function(n,e){return[n/t,2*Ii(e/(1+t))]},e}function Ba(n,t){var e=ia(8/(3*$i));return[e*n*(1-Ri(t)/$i),e*t]}function za(n,t){var e=ia(4-3*Wi(Ri(t)));return[2/ia(6*$i)*n*e,Ui(t)*ia(2*$i/3)*(2-e)]}function qa(n,t){var e=ia($i*(4+$i));return[2/e*n*(1+ia(1-4*t*t/($i*$i))),4/e*t]}function Fa(n,t){var e=(2+Ji)*Wi(t);t/=2;for(var r=0,o=1/0;r<10&&Ri(o)>1e-6;r++){var i=Li(t);t-=o=(t+Wi(t)*(i+2)-e)/(2*i*(1+i))}return[2/ia($i*(4+$i))*n*(1+Li(t)),2*ia($i/(4+$i))*Wi(t)]}function Ga(n,t){return[n*(1+Li(t))/ia(2+$i),2*t/ia(2+$i)]}function Va(n,t){for(var e=(1+Ji)*Wi(t),r=0,o=1/0;r<10&&Ri(o)>1e-6;r++)t-=o=(t+Wi(t)-e)/(1+Li(t));return e=ia(2+$i),[n*(1+Li(t))/e,2*t/e]}Ia.invert=function(n,t){var e=3*ra(t/(Ra*Zi));return[Zi*n/(Ra*(2*Li(2*e/3)-1)),e]},Ba.invert=function(n,t){var e=ia(8/(3*$i)),r=t/e;return[n/(e*(1-Ri(r)/$i)),r]},za.invert=function(n,t){var e=2-Ri(t)/ia(2*$i/3);return[n*ia(6*$i)/(2*e),Ui(t)*ra((4-e*e)/3)]},qa.invert=function(n,t){var e=ia($i*(4+$i))/2;return[n*e/(1+ia(1-t*t*(4+$i)/(4*$i))),t*e/2]},Fa.invert=function(n,t){var e=t*ia((4+$i)/$i)/2,r=ra(e),o=Li(r);return[n/(2/ia($i*(4+$i))*(1+o)),ra((r+e*(o+2))/(2+Ji))]},Ga.invert=function(n,t){var e=ia(2+$i),r=t*e/2;return[e*n/(1+Li(r)),r]},Va.invert=function(n,t){var e=1+Ji,r=ia(e/2);return[2*n*r/(1+Li(t*=r)),ra((t+Wi(t))/e)]};var Ha=3+2*Ki;function Ua(n,t){var e=Wi(n/=2),r=Li(n),o=ia(Li(t)),i=Li(t/=2),a=Wi(t)/(i+Ki*r*o),u=ia(2/(1+a*a)),c=ia((Ki*i+(r+e)*o)/(Ki*i+(r-e)*o));return[Ha*(u*(c-1/c)-2*qi(c)),Ha*(u*a*(c+1/c)-2*Ii(a))]}Ua.invert=function(n,t){if(!(e=la.invert(n/1.2,1.065*t)))return null;var e,r=e[0],o=e[1],i=20;n/=Ha,t/=Ha;do{var a=r/2,u=o/2,c=Wi(a),s=Li(a),f=Wi(u),l=Li(u),h=Li(o),p=ia(h),v=f/(l+Ki*s*p),d=v*v,g=ia(2/(1+d)),y=(Ki*l+(s+c)*p)/(Ki*l+(s-c)*p),m=ia(y),w=m-1/m,_=m+1/m,b=g*w-2*qi(m)-n,x=g*v*_-2*Ii(v)-t,E=f&&Qi*p*c*d/f,S=(Ki*s*l+p)/(2*(l+Ki*s*p)*(l+Ki*s*p)*p),M=-.5*v*g*g*g,T=M*E,j=M*S,k=(k=2*l+Ki*p*(s-c))*k*m,C=(Ki*s*l*p+h)/k,P=-Ki*c*f/(p*k),O=w*T-2*C/m+g*(C+C/y),N=w*j-2*P/m+g*(P+P/y),A=v*_*T-2*E/(1+d)+g*_*E+g*v*(C-C/y),R=v*_*j-2*S/(1+d)+g*_*S+g*v*(P-P/y),I=N*A-R*O;if(!I)break;var D=(x*N-b*R)/I,L=(b*A-x*O)/I;r-=D,o=Fi(-Ji,Gi(Ji,o-L))}while((Ri(D)>1e-6||Ri(L)>1e-6)&&--i>0);return Ri(Ri(o)-Ji)<1e-6?[0,o]:i&&[r,o]};var Wa=Li(35*ea);function Ya(n,t){var e=Yi(t/2);return[n*Wa*ia(1-e*e),(1+Wa)*e]}function $a(n,t){var e=t/2,r=Li(e);return[2*n/Zi*Li(t)*r*r,Zi*Yi(e)]}function Ja(n){return[n[0]/2,ra(Yi(n[1]/2*ea))*ta]}function Xa(n){return[2*n[0],2*Ii(Wi(n[1]*ea))*ta]}function Qa(n,t){var e=2*$i/t,r=n*n;function o(t,o){var i=mi(t,o),a=i[0],u=i[1],c=a*a+u*u;if(c>r){var s=ia(c),f=Di(u,a),l=e*Hi(f/e),h=f-l,p=n*Li(h),v=(n*Wi(h)-h*Wi(p))/(Ji-p),d=Ka(h,v),g=($i-n)/Za(d,p,$i);a=s;var y,m=50;do{a-=y=(n+Za(d,p,a)*g-s)/(d(a)*g)}while(Ri(y)>1e-6&&--m>0);u=h*Wi(a),a<Ji&&(u-=v*(a-Ji));var w=Wi(l),_=Li(l);i[0]=a*_-u*w,i[1]=a*w+u*_}return i}return o.invert=function(t,o){var i=t*t+o*o;if(i>r){var a=ia(i),u=Di(o,t),c=e*Hi(u/e),s=u-c;t=a*Li(s),o=a*Wi(s);for(var f=t-Ji,l=Wi(t),h=o/l,p=t<Ji?1/0:0,v=10;;){var d=n*Wi(h),g=n*Li(h),y=Wi(g),m=Ji-g,w=(d-h*y)/m,_=Ka(h,w);if(Ri(p)<1e-12||!--v)break;h-=p=(h*l-w*f-o)/(l-2*f*(m*(g+h*d*Li(g)-y)-d*(d-h*y))/(m*m))}t=(a=n+Za(_,g,t)*($i-n)/Za(_,g,$i))*Li(u=c+h),o=a*Wi(u)}return mi.invert(t,o)},o}function Ka(n,t){return function(e){var r=n*Li(e);return e<Ji&&(r-=t),ia(1+r*r)}}function Za(n,t,e){for(var r=(e-t)/50,o=n(t)+n(e),i=1,a=t;i<50;++i)o+=2*n(a+=r);return.5*o*r}function nu(n,t,e,r,o,i,a,u){function c(c,s){if(!s)return[n*c/$i,0];var f=s*s,l=n+f*(t+f*(e+f*r)),h=s*(o-1+f*(i-u+f*a)),p=(l*l+h*h)/(2*h),v=c*ra(l/p)/$i;return[p*Wi(v),s*(1+f*u)+p*(1-Li(v))]}return arguments.length<8&&(u=0),c.invert=function(c,s){var f,l,h=$i*c/n,p=s,v=50;do{var d=p*p,g=n+d*(t+d*(e+d*r)),y=p*(o-1+d*(i-u+d*a)),m=g*g+y*y,w=2*y,_=m/w,b=_*_,x=ra(g/_)/$i,E=h*x,S=g*g,M=(2*t+d*(4*e+6*d*r))*p,T=o+d*(3*i+5*d*a),j=(2*(g*M+y*(T-1))*w-m*(2*(T-1)))/(w*w),k=Li(E),C=Wi(E),P=_*k,O=_*C,N=h/$i*(1/ia(1-S/b))*(M*_-g*j)/b,A=O-c,R=p*(1+d*u)+_-P-s,I=j*C+P*N,D=P*x,L=1+j-(j*k-O*N),B=O*x,z=I*B-L*D;if(!z)break;h-=f=(R*I-A*L)/z,p-=l=(A*B-R*D)/z}while((Ri(f)>1e-6||Ri(l)>1e-6)&&--v>0);return[h,p]},c}Ya.invert=function(n,t){var e=t/(1+Wa);return[n&&n/(Wa*ia(1-e*e)),2*Ii(e)]},$a.invert=function(n,t){var e=Ii(t/Zi),r=Li(e),o=2*e;return[n*Zi/2/(Li(o)*r*r),o]};var tu=nu(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);var eu=nu(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);var ru=nu(5/6*$i,-.62636,-.0344,0,1.3493,-.05524,0,.045);function ou(n,t){var e=n*n,r=t*t;return[n*(1-.162388*r)*(.87-952426e-9*e*e),t*(1+r/12)]}ou.invert=function(n,t){var e,r=n,o=t,i=50;do{var a=o*o;o-=e=(o*(1+a/12)-t)/(1+a/4)}while(Ri(e)>1e-6&&--i>0);i=50,n/=1-.162388*a;do{var u=(u=r*r)*u;r-=e=(r*(.87-952426e-9*u)-n)/(.87-.00476213*u)}while(Ri(e)>1e-6&&--i>0);return[r,o]};var iu=nu(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function au(n){var t=n(Ji,0)[0]-n(-Ji,0)[0];function e(e,r){var o=e>0?-.5:.5,i=n(e+o*$i,r);return i[0]-=o*t,i}return n.invert&&(e.invert=function(e,r){var o=e>0?-.5:.5,i=n.invert(e+o*t,r),a=i[0]-o*$i;return a<-$i?a+=2*$i:a>$i&&(a-=2*$i),i[0]=a,i}),e}function uu(n,t){var e=Ui(n),r=Ui(t),o=Li(t),i=Li(n)*o,a=Wi(n)*o,u=Wi(r*t);n=Ri(Di(a,u)),t=ra(i),Ri(n-Ji)>1e-6&&(n%=Ji);var c=function(n,t){if(t===Ji)return[0,0];var e,r,o=Wi(t),i=o*o,a=i*i,u=1+a,c=1+3*a,s=1-a,f=ra(1/ia(u)),l=s+i*u*f,h=(1-o)/l,p=ia(h),v=h*u,d=ia(v),g=p*s;if(0===n)return[0,-(g+i*d)];var y,m=Li(t),w=1/m,_=2*o*m,b=(-l*m-(-3*i+f*c)*_*(1-o))/(l*l),x=-w*_,E=-w*(i*u*b+h*c*_),S=-2*w*(s*(.5*b/p)-2*i*p*_),M=4*n/$i;if(n>.222*$i||t<$i/4&&n>.175*$i){if(e=(g+i*ia(v*(1+a)-g*g))/(1+a),n>$i/4)return[e,e];var T=e,j=.5*e;e=.5*(j+T),r=50;do{var k=e*(S+x*ia(v-e*e))+E*ra(e/d)-M;if(!k)break;k<0?j=e:T=e,e=.5*(j+T)}while(Ri(T-j)>1e-6&&--r>0)}else{e=1e-6,r=25;do{var C=e*e,P=ia(v-C),O=S+x*P,N=e*O+E*ra(e/d)-M;e-=y=P?N/(O+(E-x*C)/P):0}while(Ri(y)>1e-6&&--r>0)}return[e,-g-i*ia(v-e*e)]}(n>$i/4?Ji-n:n,t);return n>$i/4&&(u=c[0],c[0]=-c[1],c[1]=-u),c[0]*=e,c[1]*=-r,c}function cu(n,t){var e,r,o,i,a,u;if(t<1e-6)return[(i=Wi(n))-(e=t*(n-i*(r=Li(n)))/4)*r,r+e*i,1-t*i*i/2,n-e];if(t>=.999999)return e=(1-t)/4,o=1/(r=ua(n)),[(i=((u=Bi(2*(u=n)))-1)/(u+1))+e*((a=r*aa(n))-n)/(r*r),o-e*i*o*(a-n),o+e*i*o*(a+n),2*Ii(Bi(n))-Ji+e*(a-n)/r];var c=[1,0,0,0,0,0,0,0,0],s=[ia(t),0,0,0,0,0,0,0,0],f=0;for(r=ia(1-t),a=1;Ri(s[f]/c[f])>1e-6&&f<8;)e=c[f++],s[f]=(e-r)/2,c[f]=(e+r)/2,r=ia(e*r),a*=2;o=a*c[f]*n;do{o=(ra(i=s[f]*Wi(r=o)/c[f])+o)/2}while(--f);return[Wi(o),i=Li(o),i/Li(o-r),o]}function su(n,t){if(!t)return n;if(1===t)return qi(Yi(n/2+Xi));for(var e=1,r=ia(1-t),o=ia(t),i=0;Ri(o)>1e-6;i++){if(n%$i){var a=Ii(r*Yi(n)/e);a<0&&(a+=$i),n+=a+~~(n/$i)*$i}else n+=n;o=(e+r)/2,r=ia(e*r),o=((e=o)-r)/2}return n/(Vi(2,i)*e)}function fu(n,t){var e=(Ki-1)/(Ki+1),r=ia(1-e*e),o=su(Ji,r*r),i=qi(Yi($i/4+Ri(t)/2)),a=Bi(-1*i)/ia(e),u=function(n,t){var e=n*n,r=t+1,o=1-e-t*t;return[.5*((n>=0?Ji:-Ji)-Di(o,2*n)),-.25*qi(o*o+4*e)+.5*qi(r*r+e)]}(a*Li(-1*n),a*Wi(-1*n)),c=function(n,t,e){var r=Ri(n),o=aa(Ri(t));if(r){var i=1/Wi(r),a=1/(Yi(r)*Yi(r)),u=-(a+e*(o*o*i*i)-1+e),c=(-u+ia(u*u-(e-1)*a*4))/2;return[su(Ii(1/ia(c)),e)*Ui(n),su(Ii(ia((c/a-1)/e)),1-e)*Ui(t)]}return[0,su(Ii(o),1-e)*Ui(t)]}(u[0],u[1],r*r);return[-c[1],(t>=0?1:-1)*(.5*o-c[0])]}function lu(n,t){if(arguments.length<2&&(t=n),1===t)return yi;if(t===1/0)return hu;function e(e,r){var o=yi(e/t,r);return o[0]*=n,o}return e.invert=function(e,r){var o=yi.invert(e/n,r);return o[0]*=t,o},e}function hu(n,t){return[n*Li(t)/Li(t/=2),2*Wi(t)]}function pu(n){var t=Wi(n),e=Li(n),r=vu(n);function o(n,o){var i=r(n,o);n=i[0],o=i[1];var a=Wi(o),u=Li(o),c=Li(n),s=oa(t*a+e*u*c),f=Wi(s),l=Ri(f)>1e-6?s/f:1;return[l*e*Wi(n),(Ri(n)>Ji?l:-l)*(t*u-e*a*c)]}return r.invert=vu(-n),o.invert=function(n,e){var o=ia(n*n+e*e),i=-Wi(o),a=Li(o),u=o*a,c=-e*i,s=o*t,f=ia(u*u+c*c-s*s),l=Di(u*s+c*f,c*s-u*f),h=(o>Ji?-1:1)*Di(n*i,o*Li(l)*a+e*Wi(l)*i);return r.invert(h,l)},o}function vu(n){var t=Wi(n),e=Li(n);return function(n,r){var o=Li(r),i=Li(n)*o,a=Wi(n)*o,u=Wi(r);return[Di(a,i*e-u*t),ra(u*e+i*t)]}}function du(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function gu(n,t,e){n=+n,t=+t,e=(o=arguments.length)<2?(t=n,n=0,1):o<3?1:+e;for(var r=-1,o=0|Math.max(0,Math.ceil((t-n)/e)),i=new Array(o);++r<o;)i[r]=n+r*e;return i}function yu(n){for(var t,e,r,o=n.length,i=-1,a=0;++i<o;)a+=n[i].length;for(e=new Array(a);--o>=0;)for(t=(r=n[o]).length;--t>=0;)e[--a]=r[t];return e}uu.invert=function(n,t){Ri(n)>1&&(n=2*Ui(n)-n),Ri(t)>1&&(t=2*Ui(t)-t);var e=Ui(n),r=Ui(t),o=-e*n,i=-r*t,a=i/o<1,u=function(n,t){var e=0,r=1,o=.5,i=50;for(;;){var a=o*o,u=ia(o),c=ra(1/ia(1+a)),s=1-a+o*(1+a)*c,f=(1-u)/s,l=ia(f),h=f*(1+a),p=l*(1-a),v=ia(h-n*n),d=t+p+o*v;if(Ri(r-e)<1e-12||0==--i||0===d)break;d>0?e=o:r=o,o=.5*(e+r)}if(!i)return null;var g=ra(u),y=Li(g),m=1/y,w=2*u*y,_=(-s*y-(-3*o+c*(1+3*a))*w*(1-u))/(s*s);return[$i/4*(n*(-2*m*(.5*_/l*(1-a)-2*o*l*w)+-m*w*v)+-m*(o*(1+a)*_+f*(1+3*a)*w)*ra(n/ia(h))),g]}(a?i:o,a?o:i),c=u[0],s=u[1],f=Li(s);return a&&(c=-Ji-c),[e*(Di(Wi(c)*f,-Wi(s))+$i),r*ra(Li(c)*f)]},fu.invert=function(n,t){var e,r,o,i,a,u,c=(Ki-1)/(Ki+1),s=ia(1-c*c),f=su(Ji,s*s),l=(r=-n,o=s*s,(e=.5*f-t)?(i=cu(e,o),r?(u=(a=cu(r,1-o))[1]*a[1]+o*i[0]*i[0]*a[0]*a[0],[[i[0]*a[2]/u,i[1]*i[2]*a[0]*a[1]/u],[i[1]*a[1]/u,-i[0]*i[2]*a[0]*a[2]/u],[i[2]*a[1]*a[2]/u,-o*i[0]*i[1]*a[0]/u]]):[[i[0],0],[i[1],0],[i[2],0]]):[[0,(a=cu(r,1-o))[0]/a[1]],[1/a[1],0],[a[2]/a[1],0]]),h=function(n,t){var e=t[0]*t[0]+t[1]*t[1];return[(n[0]*t[0]+n[1]*t[1])/e,(n[1]*t[0]-n[0]*t[1])/e]}(l[0],l[1]);return[Di(h[1],h[0])/-1,2*Ii(Bi(-.5*qi(c*h[0]*h[0]+c*h[1]*h[1])))-Ji]},hu.invert=function(n,t){var e=2*ra(t/2);return[n*Li(e/2)/Li(e),e]},function(n){1===n.length&&(n=function(n){return function(t,e){return du(n(t),e)}}(n))}(du);var mu=Da(0);function wu(n){var t=42.343611111111116*ea,e=Na($i,t)[0]-Na(-$i,t)[0],r=mu(0,t)[1],o=Na(0,t)[1],i=Zi-o,a=na/n,u=4/na,c=r+i*i*4/na;function s(s,f){var l,h=Ri(f);if(h>t){var p=Gi(n-1,Fi(0,zi((s+$i)/a)));(l=Na(s+=$i*(n-1)/n-p*a,h))[0]=l[0]*na/e-na*(n-1)/(2*n)+p*na/n,l[1]=r+4*(l[1]-o)*i/na,f<0&&(l[1]=-l[1])}else l=mu(s,f);return l[0]*=u,l[1]/=c,l}return s.invert=function(t,s){t/=u;var f=Ri(s*=c);if(f>r){var l=Gi(n-1,Fi(0,zi((t+$i)/a)));t=(t+$i*(n-1)/n-l*a)*e/na;var h=Na.invert(t,.25*(f-r)*na/i+o);return h[0]-=$i*(n-1)/n-l*a,s<0&&(h[1]=-h[1]),h}return mu.invert(t,s)},s}function _u(n){var t,e=1+n,r=ra(Wi(1/e)),o=2*ia($i/(t=$i+4*r*e)),i=.5*o*(e+ia(n*(2+n))),a=n*n,u=e*e;function c(c,s){var f,l,h=1-Wi(s);if(h&&h<2){var p,v=Ji-s,d=25;do{var g=Wi(v),y=Li(v),m=r+Di(g,e-y),w=1+u-2*e*y;v-=p=(v-a*r-e*g+w*m-.5*h*t)/(2*e*g*m)}while(Ri(p)>1e-12&&--d>0);f=o*ia(w),l=c*m/$i}else f=o*(n+h),l=c*r/$i;return[f*Wi(l),i-f*Li(l)]}return c.invert=function(n,c){var s=n*n+(c-=i)*c,f=(1+u-s/(o*o))/(2*e),l=oa(f),h=Wi(l),p=r+Di(h,e-f);return[ra(n/ia(s))*$i/p,ra(1-2*(l-a*r-e*h+(1+u-2*e*f)*p)/t)]},c}function bu(n,t){return t>-.7109889596207567?((n=ma(n,t))[1]+=.0528035274542,n):xa(n,t)}function xu(n,t){return Ri(t)>.7109889596207567?((n=ma(n,t))[1]-=t>0?.0528035274542:-.0528035274542,n):xa(n,t)}function Eu(n,t){return Ri(n[0]-t[0])<1e-6&&Ri(n[1]-t[1])<1e-6}function Su(n,t){for(var e,r,o,i=-1,a=n.length,u=n[0],c=[];++i<a;){r=((e=n[i])[0]-u[0])/t,o=(e[1]-u[1])/t;for(var s=0;s<t;++s)c.push([u[0]+s*r,u[1]+s*o]);u=e}return c.push(e),c}function Mu(n,t){var e=function(n){var t,e,r,o,i,a,u,c=[],s=n[0].length;for(u=0;u<s;++u)e=(t=n[0][u])[0][0],r=t[0][1],o=t[1][1],i=t[2][0],a=t[2][1],c.push(Su([[e+1e-6,r+1e-6],[e+1e-6,o-1e-6],[i-1e-6,o-1e-6],[i-1e-6,a+1e-6]],30));for(u=n[1].length-1;u>=0;--u)e=(t=n[1][u])[0][0],r=t[0][1],o=t[1][1],i=t[2][0],a=t[2][1],c.push(Su([[i-1e-6,a-1e-6],[i-1e-6,o+1e-6],[e+1e-6,o+1e-6],[e+1e-6,r-1e-6]],30));return{type:"Polygon",coordinates:[yu(c)]}}(t),r=(t=t.map((function(n){return n.map((function(n){return[[n[0][0]*ea,n[0][1]*ea],[n[1][0]*ea,n[1][1]*ea],[n[2][0]*ea,n[2][1]*ea]]}))}))).map((function(t){return t.map((function(t){var e,r=n(t[0][0],t[0][1])[0],o=n(t[2][0],t[2][1])[0],i=n(t[1][0],t[0][1])[1],a=n(t[1][0],t[1][1])[1];return i>a&&(e=i,i=a,a=e),[[r,i],[o,a]]}))}));function o(e,r){for(var o=r<0?-1:1,i=t[+(r<0)],a=0,u=i.length-1;a<u&&e>i[a][2][0];++a);var c=n(e-i[a][1][0],r);return c[0]+=n(i[a][1][0],o*r>o*i[a][0][1]?i[a][0][1]:r)[0],c}n.invert&&(o.invert=function(e,i){for(var a=r[+(i<0)],u=t[+(i<0)],c=0,s=a.length;c<s;++c){var f=a[c];if(f[0][0]<=e&&e<f[1][0]&&f[0][1]<=i&&i<f[1][1]){var l=n.invert(e-n(u[c][1][0],0)[0],i);return l[0]+=u[c][1][0],Eu(o(l[0],l[1]),[e,i])?l:null}}});var i=si(o),a=i.stream;return i.stream=function(n){var t=i.rotate(),r=a(n),o=(i.rotate([0,0]),a(n));return i.rotate(t),r.sphere=function(){Ft(e,o)},r},i}bu.invert=function(n,t){return t>-.7109889596207567?ma.invert(n,t-.0528035274542):xa.invert(n,t)},xu.invert=function(n,t){return Ri(t)>.7109889596207567?ma.invert(n,t+(t>0?.0528035274542:-.0528035274542)):xa.invert(n,t)};var Tu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var ju=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var ku=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var Cu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];var Pu=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];var Ou=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Nu(n,t){return[3/na*n*ia($i*$i/3-t*t),t]}function Au(n){function t(t,e){if(Ri(Ri(e)-Ji)<1e-6)return[0,e<0?-2:2];var r=Wi(e),o=Vi((1+r)/(1-r),n/2),i=.5*(o+1/o)+Li(t*=n);return[2*Wi(t)/i,(o-1/o)/i]}return t.invert=function(t,e){var r=Ri(e);if(Ri(r-2)<1e-6)return t?null:[0,Ui(e)*Ji];if(r>2)return null;var o=(t/=2)*t,i=(e/=2)*e,a=2*e/(1+o+i);return a=Vi((1+a)/(1-a),1/n),[Di(2*t,1-o-i)/n,ra((a-1)/(a+1))]},t}Nu.invert=function(n,t){return[na/3*n/ia($i*$i/3-t*t),t]};var Ru=$i/Ki;function Iu(n,t){return[n*(1+ia(Li(t)))/2,t/(Li(t/2)*Li(n/6))]}function Du(n,t){var e=n*n,r=t*t;return[n*(.975534+r*(-.0143059*e-.119161+-.0547009*r)),t*(1.00384+e*(.0802894+-.02855*r+199025e-9*e)+r*(.0998909+-.0491032*r))]}function Lu(n,t){return[Wi(n)/Li(t),Yi(t)*Li(n)]}function Bu(n){var t=Li(n),e=Yi(Xi+n/2);function r(r,o){var i=o-n,a=Ri(i)<1e-6?r*t:Ri(a=Xi+o/2)<1e-6||Ri(Ri(a)-Ji)<1e-6?0:r*i/qi(Yi(a)/e);return[a,i]}return r.invert=function(r,o){var i,a=o+n;return[Ri(o)<1e-6?r/t:Ri(i=Xi+a/2)<1e-6||Ri(Ri(i)-Ji)<1e-6?0:r*qi(Yi(i)/e)/o,a]},r}function zu(n,t){return[n,1.25*qi(Yi(Xi+.4*t))]}function qu(n){var t=n.length-1;function e(e,r){for(var o,i=Li(r),a=2/(1+i*Li(e)),u=a*i*Wi(e),c=a*Wi(r),s=t,f=n[s],l=f[0],h=f[1];--s>=0;)l=(f=n[s])[0]+u*(o=l)-c*h,h=f[1]+u*h+c*o;return[l=u*(o=l)-c*h,h=u*h+c*o]}return e.invert=function(e,r){var o=20,i=e,a=r;do{for(var u,c=t,s=n[c],f=s[0],l=s[1],h=0,p=0;--c>=0;)h=f+i*(u=h)-a*p,p=l+i*p+a*u,f=(s=n[c])[0]+i*(u=f)-a*l,l=s[1]+i*l+a*u;var v,d,g=(h=f+i*(u=h)-a*p)*h+(p=l+i*p+a*u)*p;i-=v=((f=i*(u=f)-a*l-e)*h+(l=i*l+a*u-r)*p)/g,a-=d=(l*h-f*p)/g}while(Ri(v)+Ri(d)>1e-12&&--o>0);if(o){var y=ia(i*i+a*a),m=2*Ii(.5*y),w=Wi(m);return[Di(i*w,y*Li(m)),y?ra(a*w/y):0]}},e}Iu.invert=function(n,t){var e=Ri(n),r=Ri(t),o=1e-6,i=Ji;r<Ru?i*=r/Ru:o+=6*oa(Ru/r);for(var a=0;a<25;a++){var u=Wi(i),c=ia(Li(i)),s=Wi(i/2),f=Li(i/2),l=Wi(o/6),h=Li(o/6),p=.5*o*(1+c)-e,v=i/(f*h)-r,d=c?-.25*o*u/c:0,g=.5*(1+c),y=(1+.5*i*s/f)/(f*h),m=i/f*(l/6)/(h*h),w=d*m-y*g,_=(p*m-v*g)/w,b=(v*d-p*y)/w;if(i-=_,o-=b,Ri(_)<1e-6&&Ri(b)<1e-6)break}return[n<0?-o:o,t<0?-i:i]},Du.invert=function(n,t){var e=Ui(n)*$i,r=t/2,o=50;do{var i=e*e,a=r*r,u=e*r,c=e*(.975534+a*(-.0143059*i-.119161+-.0547009*a))-n,s=r*(1.00384+i*(.0802894+-.02855*a+199025e-9*i)+a*(.0998909+-.0491032*a))-t,f=.975534-a*(.119161+3*i*.0143059+.0547009*a),l=-u*(.238322+.2188036*a+.0286118*i),h=u*(.1605788+7961e-7*i+-.0571*a),p=1.00384+i*(.0802894+199025e-9*i)+a*(3*(.0998909-.02855*i)-.245516*a),v=l*h-p*f,d=(s*l-c*p)/v,g=(c*h-s*f)/v;e-=d,r-=g}while((Ri(d)>1e-6||Ri(g)>1e-6)&&--o>0);return o&&[e,r]},Lu.invert=function(n,t){var e=n*n,r=t*t,o=r+1,i=n?Qi*ia((o-ia(e*e+2*e*(r-1)+o*o))/e+1):1/ia(o);return[ra(n*i),Ui(t)*oa(i)]},zu.invert=function(n,t){return[n,2.5*Ii(Bi(.8*t))-.625*$i]};var Fu=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Gu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Vu=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Hu=[[.9245,0],[0,0],[.01943,0]],Uu=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Wu(n,t){var e=si(qu(n)).rotate(t).clipAngle(90),r=pr(t),o=e.center;return delete e.rotate,e.center=function(n){return arguments.length?o(r(n)):r.invert(o())},e}var Yu=ia(6),$u=ia(7);function Ju(n,t){var e=ra(7*Wi(t)/(3*Yu));return[Yu*n*(2*Li(2*e/3)-1)/$u,9*Wi(e/3)/$u]}function Xu(n,t){for(var e,r=(1+Qi)*Wi(t),o=t,i=0;i<25&&(o-=e=(Wi(o/2)+Wi(o)-r)/(.5*Li(o/2)+Li(o)),!(Ri(e)<1e-6));i++);return[n*(1+2*Li(o)/Li(o/2))/(3*Ki),2*ia(3)*Wi(o/2)/ia(2+Ki)]}function Qu(n,t){for(var e,r=ia(6/(4+$i)),o=(1+$i/4)*Wi(t),i=t/2,a=0;a<25&&(i-=e=(i/2+Wi(i)-o)/(.5+Li(i)),!(Ri(e)<1e-6));a++);return[r*(.5+Li(i))*n/1.5,r*i]}function Ku(n,t){var e=t*t,r=e*e;return[n*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),t*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Zu(n,t){var e=t*t,r=e*e,o=e*r;return[n*(.84719-.13063*e+o*o*(.05494*e-.04515-.02326*r+.00331*o)),t*(1.01183+r*r*(.01926*e-.02625-.00396*r))]}function nc(n,t){return[n*(1+Li(t))/2,2*(t-Yi(t/2))]}Ju.invert=function(n,t){var e=3*ra(t*$u/9);return[n*$u/(Yu*(2*Li(2*e/3)-1)),ra(3*Wi(e)*Yu/7)]},Xu.invert=function(n,t){var e=t*ia(2+Ki)/(2*ia(3)),r=2*ra(e);return[3*Ki*n/(1+2*Li(r)/Li(r/2)),ra((e+Wi(r))/(1+Qi))]},Qu.invert=function(n,t){var e=ia(6/(4+$i)),r=t/e;return Ri(Ri(r)-Ji)<1e-6&&(r=r<0?-Ji:Ji),[1.5*n/(e*(.5+Li(r))),ra((r/2+Wi(r))/(1+$i/4))]},Ku.invert=function(n,t){var e,r=t,o=25;do{var i=r*r,a=i*i;r-=e=(r*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))-t)/(1.007226+i*(.045255+a*(.259866*i-.311325-.005916*11*a)))}while(Ri(e)>1e-6&&--o>0);return[n/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]},Zu.invert=function(n,t){var e,r,o,i,a=t,u=25;do{a-=e=(a*(1.01183+(o=(r=a*a)*r)*o*(.01926*r-.02625-.00396*o))-t)/(1.01183+o*o*(.21186*r-.23625+-.05148*o))}while(Ri(e)>1e-12&&--u>0);return[n/(.84719-.13063*(r=a*a)+(i=r*(o=r*r))*i*(.05494*r-.04515-.02326*o+.00331*i)),a]},nc.invert=function(n,t){for(var e=t/2,r=0,o=1/0;r<10&&Ri(o)>1e-6;++r){var i=Li(t/2);t-=o=(t-Yi(t/2)-e)/(1-.5/(i*i))}return[2*n/(1+Li(t)),t]};function tc(n,t){var e=t*t;return[n,t*(1.0148+e*e*(.23185+e*(.02406*e-.14499)))]}function ec(n,t){if(Ri(t)<1e-6)return[n,0];var e=Yi(t),r=n*Wi(t);return[Wi(r)/e,t+(1-Li(r))/e]}function rc(n,t){var e=ic(n[1],n[0]),r=ic(t[1],t[0]),o=function(n,t){return Di(n[0]*t[1]-n[1]*t[0],n[0]*t[0]+n[1]*t[1])}(e,r),i=ac(e)/ac(r);return oc([1,0,n[0][0],0,1,n[0][1]],oc([i,0,0,0,i,0],oc([Li(o),Wi(o),0,-Wi(o),Li(o),0],[1,0,-t[0][0],0,1,-t[0][1]])))}function oc(n,t){return[n[0]*t[0]+n[1]*t[3],n[0]*t[1]+n[1]*t[4],n[0]*t[2]+n[1]*t[5]+n[2],n[3]*t[0]+n[4]*t[3],n[3]*t[1]+n[4]*t[4],n[3]*t[2]+n[4]*t[5]+n[5]]}function ic(n,t){return[n[0]-t[0],n[1]-t[1]]}function ac(n){return ia(n[0]*n[0]+n[1]*n[1])}function uc(n,t,e){function r(n,e){var r,o=t(n,e),i=o.project([n*ta,e*ta]);return(r=o.transform)?[r[0]*i[0]+r[1]*i[1]+r[2],-(r[3]*i[0]+r[4]*i[1]+r[5])]:(i[1]=-i[1],i)}function o(n,e){var r,i,a=n.project.invert,u=n.transform,c=e;if(u&&(c=[(u=[(i=1/((r=u)[0]*r[4]-r[1]*r[3]))*r[4],-i*r[1],i*(r[1]*r[5]-r[2]*r[4]),-i*r[3],i*r[0],i*(r[2]*r[3]-r[0]*r[5])])[0]*c[0]+u[1]*c[1]+u[2],u[3]*c[0]+u[4]*c[1]+u[5]]),a&&n===function(n){return t(n[0]*ea,n[1]*ea)}(s=a(c)))return s;for(var s,f=n.children,l=0,h=f&&f.length;l<h;++l)if(s=o(f[l],e))return s}(function n(t,e){if(t.edges=function(n){for(var t=n.length,e=[],r=n[t-1],o=0;o<t;++o)e.push([r,r=n[o]]);return e}(t.face),e.face){var r=t.shared=function(n,t){for(var e,r,o=n.length,i=null,a=0;a<o;++a){e=n[a];for(var u=t.length;--u>=0;)if(r=t[u],e[0]===r[0]&&e[1]===r[1]){if(i)return[i,e];i=e}}}(t.face,e.face),o=rc(r.map(e.project),r.map(t.project));t.transform=e.transform?oc(e.transform,o):o;for(var i=e.edges,a=0,u=i.length;a<u;++a)sc(r[0],i[a][1])&&sc(r[1],i[a][0])&&(i[a]=t),sc(r[0],i[a][0])&&sc(r[1],i[a][1])&&(i[a]=t);for(i=t.edges,a=0,u=i.length;a<u;++a)sc(r[0],i[a][0])&&sc(r[1],i[a][1])&&(i[a]=e),sc(r[0],i[a][1])&&sc(r[1],i[a][0])&&(i[a]=e)}else t.transform=e.transform;t.children&&t.children.forEach((function(e){n(e,t)}));return t})(n,{transform:[Li(e=null==e?-$i/6:e),Wi(e),0,-Wi(e),Li(e),0]}),fc(n)&&(r.invert=function(t,e){var r=o(n,[t,-e]);return r&&(r[0]*=ea,r[1]*=ea,r)});var i=si(r),a=i.stream;return i.stream=function(t){var e=i.rotate(),r=a(t),o=(i.rotate([0,0]),a(t));return i.rotate(e),r.sphere=function(){o.polygonStart(),o.lineStart(),cc(o,n),o.lineEnd(),o.polygonEnd()},r},i}function cc(n,t,e){var r,o,i=t.edges,a=i.length,u={type:"MultiPoint",coordinates:t.face},c=Ue({type:"MultiPoint",coordinates:t.face.filter((function(n){return 90!==Ri(n[1])}))}),s=!1,f=-1,l=c[1][0]-c[0][0],h=180===l||360===l?[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]:ir(u);if(e)for(;++f<a&&i[f]!==e;);++f;for(var p=0;p<a;++p)o=i[(p+f)%a],Array.isArray(o)?(s||(n.point((r=Qr(o[0],h)(1e-6))[0],r[1]),s=!0),n.point((r=Qr(o[1],h)(1e-6))[0],r[1])):(s=!1,o!==e&&cc(n,o,t))}function sc(n,t){return n&&t&&n[0]===t[0]&&n[1]===t[1]}function fc(n){return n.project.invert||n.children&&n.children.some(fc)}tc.invert=function(n,t){t>1.790857183?t=1.790857183:t<-1.790857183&&(t=-1.790857183);var e,r=t;do{var o=r*r;r-=e=(r*(1.0148+o*o*(.23185+o*(.02406*o-.14499)))-t)/(1.0148+o*o*(1.1592500000000001+o*(.21654*o-1.01493)))}while(Ri(e)>1e-6);return[n,r]},ec.invert=function(n,t){if(Ri(t)<1e-6)return[n,0];var e,r=n*n+t*t,o=.5*t,i=10;do{var a=Yi(o),u=1/Li(o),c=r-2*t*o+o*o;o-=e=(a*c+2*(o-t))/(2+c*u*u+2*(o-t)*a)}while(Ri(e)>1e-6&&--i>0);return a=Yi(o),[(Ri(t)<Ri(o+1/a)?ra(n*a):Ui(n)*(oa(Ri(n*a))+Ji))/Wi(o),o]};var lc=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],hc=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map((function(n){return n.map((function(n){return lc[n]}))}));var pc=2/ia(3);function vc(n,t){var e=Na(n,t);return[e[0]*pc,e[1]]}function dc(n,t){for(var e=0,r=n.length,o=0;e<r;++e)o+=n[e]*t[e];return o}function gc(n){return[Di(n[1],n[0])*ta,ra(Fi(-1,Gi(1,n[2])))*ta]}function yc(n){var t=n[0]*ea,e=n[1]*ea,r=Li(e);return[r*Li(t),r*Wi(t),Wi(e)]}function mc(){}function wc(n,t){return{type:"FeatureCollection",features:n.features.map((function(n){return _c(n,t)}))}}function _c(n,t){return{type:"Feature",id:n.id,properties:n.properties,geometry:bc(n.geometry,t)}}function bc(n,t){if(!n)return null;if("GeometryCollection"===n.type)return function(n,t){return{type:"GeometryCollection",geometries:n.geometries.map((function(n){return bc(n,t)}))}}(n,t);var e;switch(n.type){case"Point":case"MultiPoint":e=Sc;break;case"LineString":case"MultiLineString":e=Mc;break;case"Polygon":case"MultiPolygon":case"Sphere":e=Tc;break;default:return null}return Ft(n,t(e)),e.result()}vc.invert=function(n,t){return Na.invert(n/pc,t)};var xc=[],Ec=[],Sc={point:function(n,t){xc.push([n,t])},result:function(){var n=xc.length?xc.length<2?{type:"Point",coordinates:xc[0]}:{type:"MultiPoint",coordinates:xc}:null;return xc=[],n}},Mc={lineStart:mc,point:function(n,t){xc.push([n,t])},lineEnd:function(){xc.length&&(Ec.push(xc),xc=[])},result:function(){var n=Ec.length?Ec.length<2?{type:"LineString",coordinates:Ec[0]}:{type:"MultiLineString",coordinates:Ec}:null;return Ec=[],n}},Tc={polygonStart:mc,lineStart:mc,point:function(n,t){xc.push([n,t])},lineEnd:function(){var n=xc.length;if(n){do{xc.push(xc[0].slice())}while(++n<4);Ec.push(xc),xc=[]}},polygonEnd:mc,result:function(){if(!Ec.length)return null;var n=[],t=[];return Ec.forEach((function(e){!function(n){if((t=n.length)<4)return!1;for(var t,e=0,r=n[t-1][1]*n[0][0]-n[t-1][0]*n[0][1];++e<t;)r+=n[e-1][1]*n[e][0]-n[e-1][0]*n[e][1];return r<=0}(e)?t.push(e):n.push([e])})),t.forEach((function(t){var e=t[0];n.some((function(n){if(function(n,t){for(var e=t[0],r=t[1],o=!1,i=0,a=n.length,u=a-1;i<a;u=i++){var c=n[i],s=c[0],f=c[1],l=n[u],h=l[0],p=l[1];f>r^p>r&&e<(h-s)*(r-f)/(p-f)+s&&(o=!o)}return o}(n[0],e))return n.push(t),!0}))||n.push([t])})),Ec=[],n.length?n.length>1?{type:"MultiPolygon",coordinates:n}:{type:"Polygon",coordinates:n[0]}:null}};function jc(n){var t=n(Ji,0)[0]-n(-Ji,0)[0];function e(e,r){var o=Ri(e)<Ji,i=n(o?e:e>0?e-$i:e+$i,r),a=(i[0]-i[1])*Qi,u=(i[0]+i[1])*Qi;if(o)return[a,u];var c=t*Qi,s=a>0^u>0?-1:1;return[s*a-Ui(u)*c,s*u-Ui(a)*c]}return n.invert&&(e.invert=function(e,r){var o=(e+r)*Qi,i=(r-e)*Qi,a=Ri(o)<.5*t&&Ri(i)<.5*t;if(!a){var u=t*Qi,c=o>0^i>0?-1:1,s=-c*e+(i>0?1:-1)*u,f=-c*r+(o>0?1:-1)*u;o=(-s-f)*Qi,i=(s-f)*Qi}var l=n.invert(o,i);return a||(l[0]+=o>0?$i:-$i),l}),si(e).rotate([-90,-90,45]).clipAngle(179.999)}function kc(){return jc(fu).scale(111.48)}function Cc(n){var t=Wi(n);function e(e,r){var o=t?Yi(e*t/2)/t:e/2;if(!r)return[2*o,-n];var i=2*Ii(o*Wi(r)),a=1/Yi(r);return[Wi(i)*a,r+(1-Li(i))*a-n]}return e.invert=function(e,r){if(Ri(r+=n)<1e-6)return[t?2*Ii(t*e/2)/t:e,0];var o,i=e*e+r*r,a=0,u=10;do{var c=Yi(a),s=1/Li(a),f=i-2*r*a+a*a;a-=o=(c*f+2*(a-r))/(2+f*s*s+2*(a-r)*c)}while(Ri(o)>1e-6&&--u>0);var l=e*(c=Yi(a)),h=Yi(Ri(r)<Ri(a+1/c)?.5*ra(l):.5*oa(l)+$i/4)/Wi(a);return[t?2*Ii(t*h)/t:2*h,a]},e}var Pc=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Oc(n,t){var e,r=Gi(18,36*Ri(t)/$i),o=zi(r),i=r-o,a=(e=Pc[o])[0],u=e[1],c=(e=Pc[++o])[0],s=e[1],f=(e=Pc[Gi(19,++o)])[0],l=e[1];return[n*(c+i*(f-a)/2+i*i*(f-2*c+a)/2),(t>0?Ji:-Ji)*(s+i*(l-u)/2+i*i*(l-2*s+u)/2)]}function Nc(n,t){var e=function(n){function t(t,e){var r=Li(e),o=(n-1)/(n-r*Li(t));return[o*r*Wi(t),o*Wi(e)]}return t.invert=function(t,e){var r=t*t+e*e,o=ia(r),i=(n-ia(1-r*(n+1)/(n-1)))/((n-1)/o+o/(n-1));return[Di(t*i,o*ia(1-i*i)),o?ra(e*i/o):0]},t}(n);if(!t)return e;var r=Li(t),o=Wi(t);function i(t,i){var a=e(t,i),u=a[1],c=u*o/(n-1)+r;return[a[0]*r/c,u/c]}return i.invert=function(t,i){var a=(n-1)/(n-1-i*o);return e.invert(a*t,a*i*r)},i}Pc.forEach((function(n){n[1]*=1.0144})),Oc.invert=function(n,t){var e=t/Ji,r=90*e,o=Gi(18,Ri(r/5)),i=Fi(0,zi(o));do{var a=Pc[i][1],u=Pc[i+1][1],c=Pc[Gi(19,i+2)][1],s=c-a,f=c-2*u+a,l=2*(Ri(e)-u)/s,h=f/s,p=l*(1-h*l*(1-2*h*l));if(p>=0||1===i){r=(t>=0?5:-5)*(p+o);var v,d=50;do{p=(o=Gi(18,Ri(r)/5))-(i=zi(o)),a=Pc[i][1],u=Pc[i+1][1],c=Pc[Gi(19,i+2)][1],r-=(v=(t>=0?Ji:-Ji)*(u+p*(c-a)/2+p*p*(c-2*u+a)/2)-t)*ta}while(Ri(v)>1e-12&&--d>0);break}}while(--i>=0);var g=Pc[i][0],y=Pc[i+1][0],m=Pc[Gi(19,i+2)][0];return[n/(y+p*(m-g)/2+p*p*(m-2*y+g)/2),r*ea]};var Ac=-179.9999,Rc=179.9999,Ic=-89.9999;function Dc(n){return n.length>0}function Lc(n){return-90===n||90===n?[0,n]:[-180,(t=n,Math.floor(1e4*t)/1e4)];var t}function Bc(n){var t=n[0],e=n[1],r=!1;return t<=Ac?(t=-180,r=!0):t>=Rc&&(t=180,r=!0),e<=Ic?(e=-90,r=!0):e>=89.9999&&(e=90,r=!0),r?[t,e]:n}function zc(n){return n.map(Bc)}function qc(n,t,e){for(var r=0,o=n.length;r<o;++r){var i=n[r].slice();e.push({index:-1,polygon:t,ring:i});for(var a=0,u=i.length;a<u;++a){var c=i[a],s=c[0],f=c[1];if(s<=Ac||s>=Rc||f<=Ic||f>=89.9999){i[a]=Bc(c);for(var l=a+1;l<u;++l){var h=i[l],p=h[0],v=h[1];if(p>Ac&&p<Rc&&v>Ic&&v<89.9999)break}if(l===a+1)continue;if(a){var d={index:-1,polygon:t,ring:i.slice(0,a+1)};d.ring[d.ring.length-1]=Lc(f),e[e.length-1]=d}else e.pop();if(l>=u)break;e.push({index:-1,polygon:t,ring:i=i.slice(l-1)}),i[0]=Lc(i[0][1]),a=-1,u=i.length}}}}function Fc(n){var t,e,r,o,i,a,u=n.length,c={},s={};for(t=0;t<u;++t)r=(e=n[t]).ring[0],i=e.ring[e.ring.length-1],r[0]!==i[0]||r[1]!==i[1]?(e.index=t,c[r]=s[i]=e):(e.polygon.push(e.ring),n[t]=null);for(t=0;t<u;++t)if(e=n[t]){if(r=e.ring[0],i=e.ring[e.ring.length-1],o=s[r],a=c[i],delete c[r],delete s[i],r[0]===i[0]&&r[1]===i[1]){e.polygon.push(e.ring);continue}o?(delete s[r],delete c[o.ring[0]],o.ring.pop(),n[o.index]=null,e={index:-1,polygon:o.polygon,ring:o.ring.concat(e.ring)},o===a?e.polygon.push(e.ring):(e.index=u++,n.push(c[e.ring[0]]=s[e.ring[e.ring.length-1]]=e))):a?(delete c[i],delete s[a.ring[a.ring.length-1]],e.ring.pop(),e={index:u++,polygon:a.polygon,ring:e.ring.concat(a.ring)},n[a.index]=null,n.push(c[e.ring[0]]=s[e.ring[e.ring.length-1]]=e)):(e.ring.push(e.ring[0]),e.polygon.push(e.ring))}}function Gc(n){var t={type:"Feature",geometry:Vc(n.geometry)};return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),null!=n.properties&&(t.properties=n.properties),t}function Vc(n){if(null==n)return n;var t,e,r,o;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(Vc)};break;case"Point":t={type:"Point",coordinates:Bc(n.coordinates)};break;case"MultiPoint":case"LineString":t={type:n.type,coordinates:zc(n.coordinates)};break;case"MultiLineString":t={type:"MultiLineString",coordinates:n.coordinates.map(zc)};break;case"Polygon":var i=[];qc(n.coordinates,i,e=[]),Fc(e),t={type:"Polygon",coordinates:i};break;case"MultiPolygon":e=[],r=-1,o=n.coordinates.length;for(var a=new Array(o);++r<o;)qc(n.coordinates[r],a[r]=[],e);Fc(e),t={type:"MultiPolygon",coordinates:a.filter(Dc)};break;default:return n}return null!=n.bbox&&(t.bbox=n.bbox),t}function Hc(n,t){var e=Yi(t/2),r=Wi(Xi*e);return[n*(.74482-.34588*r*r),1.70711*e]}function Uc(n,t,e){var r=Qr(t,e),o=r(.5),i=pr([-o[0],-o[1]])(t),a=r.distance/2,u=-ra(Wi(i[1]*ea)/Wi(a)),c=[-o[0],-o[1],-(i[0]>0?$i-u:u)*ta],s=si(n(a)).rotate(c),f=pr(c),l=s.center;return delete s.rotate,s.center=function(n){return arguments.length?l(f(n)):f.invert(l())},s.clipAngle(90)}function Wc(n){var t=Li(n);function e(n,e){var r=Ti(n,e);return r[0]*=t,r}return e.invert=function(n,e){return Ti.invert(n/t,e)},e}function Yc(n,t){return Uc(Wc,n,t)}function $c(n){if(!(n*=2))return mi;var t=-n/2,e=-t,r=n*n,o=Yi(e),i=.5/Wi(e);function a(o,i){var a=oa(Li(i)*Li(o-t)),u=oa(Li(i)*Li(o-e));return[((a*=a)-(u*=u))/(2*n),(i<0?-1:1)*ia(4*r*u-(r-a+u)*(r-a+u))/(2*n)]}return a.invert=function(n,r){var a,u,c=r*r,s=Li(ia(c+(a=n+t)*a)),f=Li(ia(c+(a=n+e)*a));return[Di(u=s-f,a=(s+f)*o),(r<0?-1:1)*oa(ia(a*a+u*u)*i)]},a}function Jc(n,t){return Uc($c,n,t)}function Xc(n,t){if(Ri(t)<1e-6)return[n,0];var e=Ri(t/Ji),r=ra(e);if(Ri(n)<1e-6||Ri(Ri(t)-Ji)<1e-6)return[0,Ui(t)*$i*Yi(r/2)];var o=Li(r),i=Ri($i/n-n/$i)/2,a=i*i,u=o/(e+o-1),c=u*(2/e-1),s=c*c,f=s+a,l=u-s,h=a+u;return[Ui(n)*$i*(i*l+ia(a*l*l-f*(u*u-s)))/f,Ui(t)*$i*(c*h-i*ia((a+1)*f-h*h))/f]}function Qc(n,t){if(Ri(t)<1e-6)return[n,0];var e=Ri(t/Ji),r=ra(e);if(Ri(n)<1e-6||Ri(Ri(t)-Ji)<1e-6)return[0,Ui(t)*$i*Yi(r/2)];var o=Li(r),i=Ri($i/n-n/$i)/2,a=i*i,u=o*(ia(1+a)-i*o)/(1+a*e*e);return[Ui(n)*$i*u,Ui(t)*$i*ia(1-u*(2*i+u))]}function Kc(n,t){if(Ri(t)<1e-6)return[n,0];var e=t/Ji,r=ra(e);if(Ri(n)<1e-6||Ri(Ri(t)-Ji)<1e-6)return[0,$i*Yi(r/2)];var o=($i/n-n/$i)/2,i=e/(1+Li(r));return[$i*(Ui(n)*ia(o*o+1-i*i)-o),$i*i]}function Zc(n,t){if(!t)return[n,0];var e=Ri(t);if(!n||e===Ji)return[0,t];var r=e/Ji,o=r*r,i=(8*r-o*(o+2)-5)/(2*o*(r-1)),a=i*i,u=r*i,c=o+a+2*u,s=r+3*i,f=n/Ji,l=f+1/f,h=Ui(Ri(n)-Ji)*ia(l*l-4),p=h*h,v=(h*(c+a-1)+2*ia(c*(o+a*p-1)+(1-o)*(o*(s*s+4*a)+12*u*a+4*a*a)))/(4*c+p);return[Ui(n)*Ji*v,Ui(t)*Ji*ia(1+h*Ri(v)-v*v)]}Hc.invert=function(n,t){var e=t/1.70711,r=Wi(Xi*e);return[n/(.74482-.34588*r*r),2*Ii(e)]},Xc.invert=function(n,t){if(Ri(t)<1e-6)return[n,0];if(Ri(n)<1e-6)return[0,Ji*Wi(2*Ii(t/$i))];var e=(n/=$i)*n,r=(t/=$i)*t,o=e+r,i=o*o,a=-Ri(t)*(1+o),u=a-2*r+e,c=-2*a+1+2*r+i,s=r/c+(2*u*u*u/(c*c*c)-9*a*u/(c*c))/27,f=(a-u*u/(3*c))/c,l=2*ia(-f/3),h=oa(3*s/(f*l))/3;return[$i*(o-1+ia(1+2*(e-r)+i))/(2*n),Ui(t)*$i*(-l*Li(h+$i/3)-u/(3*c))]},Qc.invert=function(n,t){if(!n)return[0,Ji*Wi(2*Ii(t/$i))];var e=Ri(n/$i),r=(1-e*e-(t/=$i)*t)/(2*e),o=ia(r*r+1);return[Ui(n)*$i*(o-r),Ui(t)*Ji*Wi(2*Di(ia((1-2*r*e)*(r+o)-e),ia(o+r+e)))]},Kc.invert=function(n,t){if(!t)return[n,0];var e=t/$i,r=($i*$i*(1-e*e)-n*n)/(2*$i*n);return[n?$i*(Ui(n)*ia(r*r+1)-r):0,Ji*Wi(2*Ii(e))]},Zc.invert=function(n,t){var e;if(!n||!t)return[n,t];t/=$i;var r=Ui(n)*n/Ji,o=(r*r-1+4*t*t)/Ri(r),i=o*o,a=2*t,u=50;do{var c=a*a,s=(8*a-c*(c+2)-5)/(2*c*(a-1)),f=(3*a-c*a-10)/(2*c*a),l=s*s,h=a*s,p=a+s,v=p*p,d=a+3*s,g=-2*p*(4*h*l+(1-4*c+3*c*c)*(1+f)+l*(14*c-6-i+(8*c-8-2*i)*f)+h*(12*c-8+(10*c-10-i)*f)),y=ia(v*(c+l*i-1)+(1-c)*(c*(d*d+4*l)+l*(12*h+4*l)));a-=e=(o*(v+l-1)+2*y-r*(4*v+i))/(o*(2*s*f+2*p*(1+f))+g/y-8*p*(o*(-1+l+v)+2*y)*(1+f)/(i+4*v))}while(e>1e-6&&--u>0);return[Ui(n)*(ia(o*o+4)+o)*$i/4,Ji*a]};var ns=4*$i+3*ia(3),ts=2*ia(2*$i*ia(3)/ns),es=ya(ts*ia(3)/$i,ts,ns/6);function rs(n,t){return[n*ia(1-3*t*t/($i*$i)),t]}function os(n,t){var e=.90631*Wi(t),r=ia(1-e*e),o=ia(2/(1+r*Li(n/=3)));return[2.66723*r*o*Wi(n),1.24104*e*o]}function is(n,t){var e=Li(t),r=Li(n)*e,o=1-r,i=Li(n=Di(Wi(n)*e,-Wi(t))),a=Wi(n);return[a*(e=ia(1-r*r))-i*o,-i*e-a*o]}function as(n,t){var e=sa(n,t);return[(e[0]+n/Ji)/2,(e[1]+t)/2]}rs.invert=function(n,t){return[n/ia(1-3*t*t/($i*$i)),t]},os.invert=function(n,t){var e=n/2.66723,r=t/1.24104,o=ia(e*e+r*r),i=2*ra(o/2);return[3*Di(n*Yi(i),2.66723*o),o&&ra(t*Wi(i)/(1.24104*.90631*o))]},is.invert=function(n,t){var e=(n*n+t*t)/-2,r=ia(-e*(2+e)),o=t*e+n*r,i=n*e-t*r,a=ia(i*i+o*o);return[Di(r*o,a*(1+e)),a?-ra(r*i/a):0]},as.invert=function(n,t){var e=n,r=t,o=25;do{var i,a=Li(r),u=Wi(r),c=Wi(2*r),s=u*u,f=a*a,l=Wi(e),h=Li(e/2),p=Wi(e/2),v=p*p,d=1-f*h*h,g=d?oa(a*h)*ia(i=1/d):i=0,y=.5*(2*g*a*p+e/Ji)-n,m=.5*(g*u+r)-t,w=.5*i*(f*v+g*a*h*s)+.5/Ji,_=i*(l*c/4-g*u*p),b=.125*i*(c*p-g*u*f*l),x=.5*i*(s*h+g*v*a)+.5,E=_*b-x*w,S=(m*_-y*x)/E,M=(y*b-m*w)/E;e-=S,r-=M}while((Ri(S)>1e-6||Ri(M)>1e-6)&&--o>0);return[e,r]};var us=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoAiry:function(){var n=Ji,t=fi(ca),e=t(n);return e.radius=function(e){return arguments.length?t(n=e*ea):n*ta},e.scale(179.976).clipAngle(147)},geoAiryRaw:ca,geoAitoff:function(){return si(sa).scale(152.63)},geoAitoffRaw:sa,geoArmadillo:function(){var n=20*ea,t=n>=0?1:-1,e=Yi(t*n),r=fi(fa),o=r(n),i=o.stream;return o.parallel=function(o){return arguments.length?(e=Yi((t=(n=o*ea)>=0?1:-1)*n),r(n)):n*ta},o.stream=function(r){var a=o.rotate(),u=i(r),c=(o.rotate([0,0]),i(r));return o.rotate(a),u.sphere=function(){c.polygonStart(),c.lineStart();for(var r=-180*t;t*r<180;r+=90*t)c.point(r,90*t);for(;t*(r-=n)>=-180;)c.point(r,t*-Di(Li(r*ea/2),e)*ta);c.lineEnd(),c.polygonEnd()},u},o.scale(218.695).center([0,28.0974])},geoArmadilloRaw:fa,geoAugust:function(){return si(la).scale(66.1603)},geoAugustRaw:la,geoBaker:function(){return si(va).scale(112.314)},geoBakerRaw:va,geoBerghaus:function(){var n=5,t=fi(da),e=t(n),r=e.stream,o=.01,i=-Li(o*ea),a=Wi(o*ea);return e.lobes=function(e){return arguments.length?t(n=+e):n},e.stream=function(t){var u=e.rotate(),c=r(t),s=(e.rotate([0,0]),r(t));return e.rotate(u),c.sphere=function(){s.polygonStart(),s.lineStart();for(var t=0,e=360/n,r=2*$i/n,u=90-180/n,c=Ji;t<n;++t,u-=e,c-=r)s.point(Di(a*Li(c),i)*ta,ra(a*Wi(c))*ta),u<-90?(s.point(-90,-180-u-o),s.point(-90,-180-u+o)):(s.point(90,u+o),s.point(90,u-o));s.lineEnd(),s.polygonEnd()},c},e.scale(87.8076).center([0,17.1875]).clipAngle(179.999)},geoBerghausRaw:da,geoBoggs:function(){return si(_a).scale(160.857)},geoBoggsRaw:_a,geoBonne:function(){return ba(Ea).scale(123.082).center([0,26.1441]).parallel(45)},geoBonneRaw:Ea,geoBottomley:function(){var n=.5,t=fi(Sa),e=t(n);return e.fraction=function(e){return arguments.length?t(n=+e):n},e.scale(158.837)},geoBottomleyRaw:Sa,geoBromley:function(){return si(Ma).scale(152.63)},geoBromleyRaw:Ma,geoChamberlin:Oa,geoChamberlinRaw:Ca,geoChamberlinAfrica:function(){return Oa([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},geoCollignon:function(){return si(Na).scale(95.6464).center([0,30])},geoCollignonRaw:Na,geoCraig:function(){return ba(Aa).scale(249.828).clipAngle(90)},geoCraigRaw:Aa,geoCraster:function(){return si(Ia).scale(156.19)},geoCrasterRaw:Ia,geoCylindricalEqualArea:function(){return ba(Da).parallel(38.58).scale(195.044)},geoCylindricalEqualAreaRaw:Da,geoCylindricalStereographic:function(){return ba(La).scale(124.75)},geoCylindricalStereographicRaw:La,geoEckert1:function(){return si(Ba).scale(165.664)},geoEckert1Raw:Ba,geoEckert2:function(){return si(za).scale(165.664)},geoEckert2Raw:za,geoEckert3:function(){return si(qa).scale(180.739)},geoEckert3Raw:qa,geoEckert4:function(){return si(Fa).scale(180.739)},geoEckert4Raw:Fa,geoEckert5:function(){return si(Ga).scale(173.044)},geoEckert5Raw:Ga,geoEckert6:function(){return si(Va).scale(173.044)},geoEckert6Raw:Va,geoEisenlohr:function(){return si(Ua).scale(62.5271)},geoEisenlohrRaw:Ua,geoFahey:function(){return si(Ya).scale(137.152)},geoFaheyRaw:Ya,geoFoucaut:function(){return si($a).scale(135.264)},geoFoucautRaw:$a,geoGilbert:function(n){null==n&&(n=Pi);var t=n(),e=Si().scale(ta).precision(0).clipAngle(null).translate([0,0]);function r(n){return t(Ja(n))}function o(n){r[n]=function(e){return arguments.length?(t[n](e),r):t[n]()}}return t.invert&&(r.invert=function(n){return Xa(t.invert(n))}),r.stream=function(n){var r=t.stream(n),o=e.stream({point:function(n,t){r.point(n/2,ra(Yi(-t/2*ea))*ta)},lineStart:function(){r.lineStart()},lineEnd:function(){r.lineEnd()},polygonStart:function(){r.polygonStart()},polygonEnd:function(){r.polygonEnd()}});return o.sphere=r.sphere,o},r.rotate=function(n){return arguments.length?(e.rotate(n),r):e.rotate()},r.center=function(n){return arguments.length?(t.center(Ja(n)),r):Xa(t.center())},o("clipAngle"),o("clipExtent"),o("scale"),o("translate"),o("precision"),r.scale(249.5)},geoGingery:function(){var n=6,t=30*ea,e=Li(t),r=Wi(t),o=fi(Qa),i=o(t,n),a=i.stream,u=-Li(.01*ea),c=Wi(.01*ea);return i.radius=function(i){return arguments.length?(e=Li(t=i*ea),r=Wi(t),o(t,n)):t*ta},i.lobes=function(e){return arguments.length?o(t,n=+e):n},i.stream=function(t){var o=i.rotate(),s=a(t),f=(i.rotate([0,0]),a(t));return i.rotate(o),s.sphere=function(){f.polygonStart(),f.lineStart();for(var t=0,o=2*$i/n,i=0;t<n;++t,i-=o)f.point(Di(c*Li(i),u)*ta,ra(c*Wi(i))*ta),f.point(Di(r*Li(i-o/2),e)*ta,ra(r*Wi(i-o/2))*ta);f.lineEnd(),f.polygonEnd()},s},i.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},geoGingeryRaw:Qa,geoGinzburg4:function(){return si(tu).scale(149.995)},geoGinzburg4Raw:tu,geoGinzburg5:function(){return si(eu).scale(153.93)},geoGinzburg5Raw:eu,geoGinzburg6:function(){return si(ru).scale(130.945)},geoGinzburg6Raw:ru,geoGinzburg8:function(){return si(ou).scale(131.747)},geoGinzburg8Raw:ou,geoGinzburg9:function(){return si(iu).scale(131.087)},geoGinzburg9Raw:iu,geoGringorten:function(){return si(au(uu)).scale(239.75)},geoGringortenRaw:uu,geoGuyou:function(){return si(au(fu)).scale(151.496)},geoGuyouRaw:fu,geoHammer:function(){var n=2,t=fi(lu),e=t(n);return e.coefficient=function(e){return arguments.length?t(n=+e):n},e.scale(169.529)},geoHammerRaw:lu,geoHammerRetroazimuthal:function(){var n=0,t=fi(pu),e=t(n),r=e.rotate,o=e.stream,i=gr();return e.parallel=function(r){if(!arguments.length)return n*ta;var o=e.rotate();return t(n=r*ea).rotate(o)},e.rotate=function(t){return arguments.length?(r.call(e,[t[0],t[1]-n*ta]),i.center([-t[0],-t[1]]),e):((t=r.call(e))[1]+=n*ta,t)},e.stream=function(n){return(n=o(n)).sphere=function(){n.polygonStart();var t,e=i.radius(89.99)().coordinates[0],r=e.length-1,o=-1;for(n.lineStart();++o<r;)n.point((t=e[o])[0],t[1]);for(n.lineEnd(),r=(e=i.radius(90.01)().coordinates[0]).length-1,n.lineStart();--o>=0;)n.point((t=e[o])[0],t[1]);n.lineEnd(),n.polygonEnd()},n},e.scale(79.4187).parallel(45).clipAngle(179.999)},geoHammerRetroazimuthalRaw:pu,geoHealpix:function(){var n=4,t=fi(wu),e=t(n),r=e.stream;return e.lobes=function(e){return arguments.length?t(n=+e):n},e.stream=function(t){var o=e.rotate(),i=r(t),a=(e.rotate([0,0]),r(t));return e.rotate(o),i.sphere=function(){var t;Ft({type:"Polygon",coordinates:[gu(-180,180+(t=180/n)/2,t).map((function(n,t){return[n,1&t?89.999999:42.343611111111116]})).concat(gu(180,-180-t/2,-t).map((function(n,t){return[n,1&t?-89.999999:-42.343611111111116]})))]},a)},i},e.scale(239.75)},geoHealpixRaw:wu,geoHill:function(){var n=1,t=fi(_u),e=t(n);return e.ratio=function(e){return arguments.length?t(n=+e):n},e.scale(167.774).center([0,18.67])},geoHillRaw:_u,geoHomolosine:function(){return si(xu).scale(152.63)},geoHomolosineRaw:xu,geoInterrupt:Mu,geoInterruptedBoggs:function(){return Mu(_a,Tu).scale(160.857)},geoInterruptedHomolosine:function(){return Mu(xu,ju).scale(152.63)},geoInterruptedMollweide:function(){return Mu(ma,ku).scale(169.529)},geoInterruptedMollweideHemispheres:function(){return Mu(ma,Cu).scale(169.529).rotate([20,0])},geoInterruptedSinuMollweide:function(){return Mu(bu,Pu).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},geoInterruptedSinusoidal:function(){return Mu(xa,Ou).scale(152.63).rotate([-20,0])},geoKavrayskiy7:function(){return si(Nu).scale(158.837)},geoKavrayskiy7Raw:Nu,geoLagrange:function(){var n=.5,t=fi(Au),e=t(n);return e.spacing=function(e){return arguments.length?t(n=+e):n},e.scale(124.75)},geoLagrangeRaw:Au,geoLarrivee:function(){return si(Iu).scale(97.2672)},geoLarriveeRaw:Iu,geoLaskowski:function(){return si(Du).scale(139.98)},geoLaskowskiRaw:Du,geoLittrow:function(){return si(Lu).scale(144.049).clipAngle(89.999)},geoLittrowRaw:Lu,geoLoximuthal:function(){return ba(Bu).parallel(40).scale(158.837)},geoLoximuthalRaw:Bu,geoMiller:function(){return si(zu).scale(108.318)},geoMillerRaw:zu,geoModifiedStereographic:Wu,geoModifiedStereographicRaw:qu,geoModifiedStereographicAlaska:function(){return Wu(Fu,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)},geoModifiedStereographicGs48:function(){return Wu(Gu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},geoModifiedStereographicGs50:function(){return Wu(Vu,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},geoModifiedStereographicMiller:function(){return Wu(Hu,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},geoModifiedStereographicLee:function(){return Wu(Uu,[165,10]).scale(250).clipAngle(130).center([-165,-10])},geoMollweide:function(){return si(ma).scale(169.529)},geoMollweideRaw:ma,geoMtFlatPolarParabolic:function(){return si(Ju).scale(164.859)},geoMtFlatPolarParabolicRaw:Ju,geoMtFlatPolarQuartic:function(){return si(Xu).scale(188.209)},geoMtFlatPolarQuarticRaw:Xu,geoMtFlatPolarSinusoidal:function(){return si(Qu).scale(166.518)},geoMtFlatPolarSinusoidalRaw:Qu,geoNaturalEarth:function(){return si(Ku).scale(175.295)},geoNaturalEarthRaw:Ku,geoNaturalEarth2:function(){return si(Zu).scale(175.295)},geoNaturalEarth2Raw:Zu,geoNellHammer:function(){return si(nc).scale(152.63)},geoNellHammerRaw:nc,geoPatterson:function(){return si(tc).scale(139.319)},geoPattersonRaw:tc,geoPolyconic:function(){return si(ec).scale(103.74)},geoPolyconicRaw:ec,geoPolyhedral:uc,geoPolyhedralButterfly:function(n){n=n||function(n){var t=ir({type:"MultiPoint",coordinates:n});return ji().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=hc.map((function(t){return{face:t,project:n(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(n,e){var r=t[n];r&&(r.children||(r.children=[])).push(t[e])})),uc(t[0],(function(n,e){return t[n<-$i/2?e<0?6:4:n<0?e<0?2:0:n<$i/2?e<0?3:1:e<0?7:5]})).scale(101.858).center([0,45])},geoPolyhedralCollignon:function(n){n=n||function(n){var t=ir({type:"MultiPoint",coordinates:n});return si(vc).translate([0,0]).scale(1).rotate(t[1]>0?[-t[0],0]:[180-t[0],180])};var t=hc.map((function(t){return{face:t,project:n(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(n,e){var r=t[n];r&&(r.children||(r.children=[])).push(t[e])})),uc(t[0],(function(n,e){return t[n<-$i/2?e<0?6:4:n<0?e<0?2:0:n<$i/2?e<0?3:1:e<0?7:5]})).scale(121.906).center([0,48.5904])},geoPolyhedralWaterman:function(n){n=n||function(n){var t=6===n.length?ir({type:"MultiPoint",coordinates:n}):n[0];return ji().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=hc.map((function(n){for(var t,e=n.map(yc),r=e.length,o=e[r-1],i=[],a=0;a<r;++a)t=e[a],i.push(gc([.9486832980505138*o[0]+.31622776601683794*t[0],.9486832980505138*o[1]+.31622776601683794*t[1],.9486832980505138*o[2]+.31622776601683794*t[2]]),gc([.9486832980505138*t[0]+.31622776601683794*o[0],.9486832980505138*t[1]+.31622776601683794*o[1],.9486832980505138*t[2]+.31622776601683794*o[2]])),o=t;return i})),e=[],r=[-1,0,0,1,0,1,4,5];t.forEach((function(n,o){for(var i,a,u=hc[o],c=u.length,s=e[o]=[],f=0;f<c;++f)t.push([u[f],n[(2*f+2)%(2*c)],n[(2*f+1)%(2*c)]]),r.push(o),s.push((i=yc(n[(2*f+2)%(2*c)]),a=yc(n[(2*f+1)%(2*c)]),[i[1]*a[2]-i[2]*a[1],i[2]*a[0]-i[0]*a[2],i[0]*a[1]-i[1]*a[0]]))}));var o=t.map((function(t){return{project:n(t),face:t}}));return r.forEach((function(n,t){var e=o[n];e&&(e.children||(e.children=[])).push(o[t])})),uc(o[0],(function(n,t){var r=Li(t),i=[r*Li(n),r*Wi(n),Wi(t)],a=n<-$i/2?t<0?6:4:n<0?t<0?2:0:n<$i/2?t<0?3:1:t<0?7:5,u=e[a];return o[dc(u[0],i)<0?8+3*a:dc(u[1],i)<0?8+3*a+1:dc(u[2],i)<0?8+3*a+2:a]})).scale(110.625).center([0,45])},geoProject:function(n,t){var e,r=t.stream;if(!r)throw new Error("invalid projection");switch(n&&n.type){case"Feature":e=_c;break;case"FeatureCollection":e=wc;break;default:e=bc}return e(n,r)},geoGringortenQuincuncial:function(){return jc(uu).scale(176.423)},geoPeirceQuincuncial:kc,geoPierceQuincuncial:kc,geoQuantize:function(n,t){if(!(0<=(t=+t)&&t<=20))throw new Error("invalid digits");function e(n){var e=n.length,r=2,o=new Array(e);for(o[0]=+n[0].toFixed(t),o[1]=+n[1].toFixed(t);r<e;)o[r]=n[r],++r;return o}function r(n){return n.map(e)}function o(n){return n.map(r)}function i(n){if(null==n)return n;var t;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(i)};break;case"Point":t={type:"Point",coordinates:e(n.coordinates)};break;case"MultiPoint":case"LineString":t={type:n.type,coordinates:r(n.coordinates)};break;case"MultiLineString":case"Polygon":t={type:n.type,coordinates:o(n.coordinates)};break;case"MultiPolygon":t={type:"MultiPolygon",coordinates:n.coordinates.map(o)};break;default:return n}return null!=n.bbox&&(t.bbox=n.bbox),t}function a(n){var t={type:"Feature",properties:n.properties,geometry:i(n.geometry)};return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),t}if(null!=n)switch(n.type){case"Feature":return a(n);case"FeatureCollection":var u={type:"FeatureCollection",features:n.features.map(a)};return null!=n.bbox&&(u.bbox=n.bbox),u;default:return i(n)}return n},geoQuincuncial:jc,geoRectangularPolyconic:function(){return ba(Cc).scale(131.215)},geoRectangularPolyconicRaw:Cc,geoRobinson:function(){return si(Oc).scale(152.63)},geoRobinsonRaw:Oc,geoSatellite:function(){var n=2,t=0,e=fi(Nc),r=e(n,t);return r.distance=function(r){return arguments.length?e(n=+r,t):n},r.tilt=function(r){return arguments.length?e(n,t=r*ea):t*ta},r.scale(432.147).clipAngle(oa(1/n)*ta-1e-6)},geoSatelliteRaw:Nc,geoSinuMollweide:function(){return si(bu).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},geoSinuMollweideRaw:bu,geoSinusoidal:function(){return si(xa).scale(152.63)},geoSinusoidalRaw:xa,geoStitch:function(n){if(null==n)return n;switch(n.type){case"Feature":return Gc(n);case"FeatureCollection":var t={type:"FeatureCollection",features:n.features.map(Gc)};return null!=n.bbox&&(t.bbox=n.bbox),t;default:return Vc(n)}},geoTimes:function(){return si(Hc).scale(146.153)},geoTimesRaw:Hc,geoTwoPointAzimuthal:Yc,geoTwoPointAzimuthalRaw:Wc,geoTwoPointAzimuthalUsa:function(){return Yc([-158,21.5],[-77,39]).clipAngle(60).scale(400)},geoTwoPointEquidistant:Jc,geoTwoPointEquidistantRaw:$c,geoTwoPointEquidistantUsa:function(){return Jc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},geoVanDerGrinten:function(){return si(Xc).scale(79.4183)},geoVanDerGrintenRaw:Xc,geoVanDerGrinten2:function(){return si(Qc).scale(79.4183)},geoVanDerGrinten2Raw:Qc,geoVanDerGrinten3:function(){return si(Kc).scale(79.4183)},geoVanDerGrinten3Raw:Kc,geoVanDerGrinten4:function(){return si(Zc).scale(127.16)},geoVanDerGrinten4Raw:Zc,geoWagner4:function(){return si(es).scale(176.84)},geoWagner4Raw:es,geoWagner6:function(){return si(rs).scale(152.63)},geoWagner6Raw:rs,geoWagner7:function(){return si(os).scale(172.632)},geoWagner7Raw:os,geoWiechel:function(){return si(is).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)},geoWiechelRaw:is,geoWinkel3:function(){return si(as).scale(158.837)},geoWinkel3Raw:as})),cs={},ss={exports:{}};
/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */
!function(t){!function(n){function e(){}var r=e.prototype,o=n.EventEmitter;function i(n,t){for(var e=n.length;e--;)if(n[e].listener===t)return e;return-1}function a(n){return function(){return this[n].apply(this,arguments)}}function u(n){return"function"==typeof n||n instanceof RegExp||!(!n||"object"!=typeof n)&&u(n.listener)}r.getListeners=function(n){var t,e,r=this._getEvents();if(n instanceof RegExp)for(e in t={},r)r.hasOwnProperty(e)&&n.test(e)&&(t[e]=r[e]);else t=r[n]||(r[n]=[]);return t},r.flattenListeners=function(n){var t,e=[];for(t=0;t<n.length;t+=1)e.push(n[t].listener);return e},r.getListenersAsObject=function(n){var t,e=this.getListeners(n);return e instanceof Array&&((t={})[n]=e),t||e},r.addListener=function(n,t){if(!u(t))throw new TypeError("listener must be a function");var e,r=this.getListenersAsObject(n),o="object"==typeof t;for(e in r)r.hasOwnProperty(e)&&-1===i(r[e],t)&&r[e].push(o?t:{listener:t,once:!1});return this},r.on=a("addListener"),r.addOnceListener=function(n,t){return this.addListener(n,{listener:t,once:!0})},r.once=a("addOnceListener"),r.defineEvent=function(n){return this.getListeners(n),this},r.defineEvents=function(n){for(var t=0;t<n.length;t+=1)this.defineEvent(n[t]);return this},r.removeListener=function(n,t){var e,r,o=this.getListenersAsObject(n);for(r in o)o.hasOwnProperty(r)&&-1!==(e=i(o[r],t))&&o[r].splice(e,1);return this},r.off=a("removeListener"),r.addListeners=function(n,t){return this.manipulateListeners(!1,n,t)},r.removeListeners=function(n,t){return this.manipulateListeners(!0,n,t)},r.manipulateListeners=function(n,t,e){var r,o,i=n?this.removeListener:this.addListener,a=n?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=e.length;r--;)i.call(this,t,e[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):a.call(this,r,o));return this},r.removeEvent=function(n){var t,e=typeof n,r=this._getEvents();if("string"===e)delete r[n];else if(n instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&n.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=a("removeEvent"),r.emitEvent=function(n,t){var e,r,o,i,a=this.getListenersAsObject(n);for(i in a)if(a.hasOwnProperty(i))for(e=a[i].slice(0),o=0;o<e.length;o++)!0===(r=e[o]).once&&this.removeListener(n,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(n,r.listener);return this},r.trigger=a("emitEvent"),r.emit=function(n){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(n,t)},r.setOnceReturnValue=function(n){return this._onceReturnValue=n,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=o,e},t.exports?t.exports=e:n.EventEmitter=e}("undefined"!=typeof window?window:n||{})}(ss),Object.defineProperty(cs,"__esModule",{value:!0}),cs.View=void 0;var fs=ct.exports,ls=fs.__importDefault(ss.exports),hs=st;var ps=function(n){function t(t,e){var r=n.call(this)||this;if(r.isView=!0,r.isDataView=!0,r.watchingStates=null,r.dataType="table",r.transforms=[],r.origin=[],r.rows=[],t&&t.isDataSet?r.dataSet=t:(r.dataSet=null,e=t),r.loose=!r.dataSet,e&&(r.watchingStates=e.watchingStates),!r.loose){var o=r.watchingStates;t.on("statechange",(function(n){hs.isArray(o)?o.indexOf(n)>-1&&r._reExecute():r._reExecute()}))}return r}return fs.__extends(t,n),t.prototype._parseStateExpression=function(n){var t=this.dataSet;if(null!==t){var e=/^\$state\.(\w+)/.exec(n);return e?t.state[e[1]]:n}},t.prototype._preparseOptions=function(n){var t=this,e=function(n){var t={};return hs.forIn(n,(function(n,e){hs.isObject(n)&&n.isView?t[e]=n:hs.isArray(n)?t[e]=n.concat([]):hs.isPlainObject(n)?t[e]=hs.clone(n):t[e]=n})),t}(n);return this.loose||hs.forIn(e,(function(n,r){hs.isString(n)&&/^\$state\./.test(n)&&(e[r]=t._parseStateExpression(n))})),e},t.prototype._prepareSource=function(n,e){if(this._source={source:n,options:e},e){r=this._preparseOptions(e);this.origin=t.DataSet.getConnector(r.type)(n,r,this)}else if(n instanceof t||hs.isString(n))this.origin=t.DataSet.getConnector("default")(n,this.dataSet);else if(hs.isArray(n))this.origin=n;else{if(!hs.isObject(n)||!n.type)throw new TypeError("Invalid source");var r=this._preparseOptions(n);this.origin=t.DataSet.getConnector(r.type)(r,this)}return this.rows=hs.deepMix([],this.origin),this},t.prototype.source=function(n,t){return this._prepareSource(n,t)._reExecuteTransforms(),this.trigger("change",[]),this},t.prototype.transform=function(n){return n&&n.type&&(this.transforms.push(n),this._executeTransform(n)),this},t.prototype._executeTransform=function(n){n=this._preparseOptions(n),t.DataSet.getTransform(n.type)(this,n)},t.prototype._reExecuteTransforms=function(){var n=this;this.transforms.forEach((function(t){n._executeTransform(t)}))},t.prototype.addRow=function(n){this.rows.push(n)},t.prototype.removeRow=function(n){this.rows.splice(n,1)},t.prototype.updateRow=function(n,t){hs.assign(this.rows[n],t)},t.prototype.findRows=function(n){return this.rows.filter((function(t){return hs.isMatch(t,n)}))},t.prototype.findRow=function(n){return hs.find(this.rows,n)},t.prototype.getColumnNames=function(){var n=this.rows[0];return n?hs.keys(n):[]},t.prototype.getColumnName=function(n){return this.getColumnNames()[n]},t.prototype.getColumnIndex=function(n){return this.getColumnNames().indexOf(n)},t.prototype.getColumn=function(n){return this.rows.map((function(t){return t[n]}))},t.prototype.getColumnData=function(n){return this.getColumn(n)},t.prototype.getSubset=function(n,t,e){for(var r=[],o=n;o<=t;o++)r.push(hs.pick(this.rows[o],e));return r},t.prototype.toString=function(n){return void 0===n&&(n=!1),n?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},t.prototype._reExecute=function(){var n=this._source,t=n.source,e=n.options;this._prepareSource(t,e),this._reExecuteTransforms(),this.trigger("change",[])},t}(ls.default);cs.View=ps;var vs={};class ds{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const o=t[r],i=n+o,a=Math.abs(n)<Math.abs(o)?n-(i-o):o-(i-n);a&&(t[e++]=a),n=i}return t[e]=n,this._n=e+1,this}valueOf(){const n=this._partials;let t,e,r,o=this._n,i=0;if(o>0){for(i=n[--o];o>0&&(t=i,e=n[--o],i=t+e,r=e-(i-t),!r););o>0&&(r<0&&n[o-1]<0||r>0&&n[o-1]>0)&&(e=2*r,t=i+e,e==t-i&&(i=t))}return i}}function gs(n){return Array.from(function*(n){for(const t of n)yield*t}(n))}var ys=Math.PI,ms=ys/2,ws=ys/4,_s=2*ys,bs=180/ys,xs=ys/180,Es=Math.abs,Ss=Math.atan,Ms=Math.atan2,Ts=Math.cos,js=Math.exp,ks=Math.log,Cs=Math.pow,Ps=Math.sin,Os=Math.sign||function(n){return n>0?1:n<0?-1:0},Ns=Math.sqrt,As=Math.tan;function Rs(n){return n>1?ms:n<-1?-ms:Math.asin(n)}function Is(){}function Ds(n,t){n&&Bs.hasOwnProperty(n.type)&&Bs[n.type](n,t)}var Ls={Feature:function(n,t){Ds(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,o=e.length;++r<o;)Ds(e[r].geometry,t)}},Bs={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){zs(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)zs(e[r],t,0)},Polygon:function(n,t){qs(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)qs(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,o=e.length;++r<o;)Ds(e[r],t)}};function zs(n,t,e){var r,o=-1,i=n.length-e;for(t.lineStart();++o<i;)r=n[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function qs(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)zs(n[e],t,1);t.polygonEnd()}function Fs(n,t){n&&Ls.hasOwnProperty(n.type)?Ls[n.type](n,t):Ds(n,t)}function Gs(n){return[Ms(n[1],n[0]),Rs(n[2])]}function Vs(n){var t=n[0],e=n[1],r=Ts(e);return[r*Ts(t),r*Ps(t),Ps(e)]}function Hs(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Us(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Ws(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Ys(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function $s(n){var t=Ns(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Js(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e}function Xs(n,t){return[Es(n)>ys?n+Math.round(-n/_s)*_s:n,t]}function Qs(n,t,e){return(n%=_s)?t||e?Js(Zs(n),nf(t,e)):Zs(n):t||e?nf(t,e):Xs}function Ks(n){return function(t,e){return[(t+=n)>ys?t-_s:t<-ys?t+_s:t,e]}}function Zs(n){var t=Ks(n);return t.invert=Ks(-n),t}function nf(n,t){var e=Ts(n),r=Ps(n),o=Ts(t),i=Ps(t);function a(n,t){var a=Ts(t),u=Ts(n)*a,c=Ps(n)*a,s=Ps(t),f=s*e+u*r;return[Ms(c*o-f*i,u*e-s*r),Rs(f*o+c*i)]}return a.invert=function(n,t){var a=Ts(t),u=Ts(n)*a,c=Ps(n)*a,s=Ps(t),f=s*o-c*i;return[Ms(c*o+s*i,u*e+f*r),Rs(f*e-u*r)]},a}function tf(n,t){(t=Vs(t))[0]-=n,$s(t);var e,r=(e=-t[1])>1?0:e<-1?ys:Math.acos(e);return((-t[2]<0?-r:r)+_s-1e-6)%_s}function ef(){var n,t=[];return{point:function(t,e,r){n.push([t,e,r])},lineStart:function(){t.push(n=[])},lineEnd:Is,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function rf(n,t){return Es(n[0]-t[0])<1e-6&&Es(n[1]-t[1])<1e-6}function of(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function af(n,t,e,r,o){var i,a,u=[],c=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],a=n[t];if(rf(r,a)){if(!r[2]&&!a[2]){for(o.lineStart(),i=0;i<t;++i)o.point((r=n[i])[0],r[1]);return void o.lineEnd()}a[0]+=2e-6}u.push(e=new of(r,n,null,!0)),c.push(e.o=new of(r,null,e,!1)),u.push(e=new of(a,n,null,!1)),c.push(e.o=new of(a,null,e,!0))}})),u.length){for(c.sort(t),uf(u),uf(c),i=0,a=c.length;i<a;++i)c[i].e=e=!e;for(var s,f,l=u[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;s=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,a=s.length;i<a;++i)o.point((f=s[i])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(s=h.p.z,i=s.length-1;i>=0;--i)o.point((f=s[i])[0],f[1]);else r(h.x,h.p.x,-1,o);h=h.p}s=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function uf(n){if(t=n.length){for(var t,e,r=0,o=n[0];++r<t;)o.n=e=n[r],e.p=o,o=e;o.n=e=n[0],e.p=o}}function cf(n){return Es(n[0])<=ys?n[0]:Os(n[0])*((Es(n[0])+ys)%_s-ys)}function sf(n,t,e,r){return function(o){var i,a,u,c=t(o),s=ef(),f=t(s),l=!1,h={point:p,lineStart:d,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=w,a=[],i=[]},polygonEnd:function(){h.point=p,h.lineStart=d,h.lineEnd=g,a=gs(a);var n=function(n,t){var e=cf(t),r=t[1],o=Ps(r),i=[Ps(e),-Ts(e),0],a=0,u=0,c=new ds;1===o?r=ms+1e-6:-1===o&&(r=-ms-1e-6);for(var s=0,f=n.length;s<f;++s)if(h=(l=n[s]).length)for(var l,h,p=l[h-1],v=cf(p),d=p[1]/2+ws,g=Ps(d),y=Ts(d),m=0;m<h;++m,v=_,g=x,y=E,p=w){var w=l[m],_=cf(w),b=w[1]/2+ws,x=Ps(b),E=Ts(b),S=_-v,M=S>=0?1:-1,T=M*S,j=T>ys,k=g*x;if(c.add(Ms(k*M*Ps(T),y*E+k*Ts(T))),a+=j?S+M*_s:S,j^v>=e^_>=e){var C=Us(Vs(p),Vs(w));$s(C);var P=Us(i,C);$s(P);var O=(j^S>=0?-1:1)*Rs(P[2]);(r>O||r===O&&(C[0]||C[1]))&&(u+=j^S>=0?1:-1)}}return(a<-1e-6||a<1e-6&&c<-1e-12)^1&u}(i,r);a.length?(l||(o.polygonStart(),l=!0),af(a,lf,n,e,o)):n&&(l||(o.polygonStart(),l=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),l&&(o.polygonEnd(),l=!1),a=i=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(t,e){n(t,e)&&o.point(t,e)}function v(n,t){c.point(n,t)}function d(){h.point=v,c.lineStart()}function g(){h.point=p,c.lineEnd()}function y(n,t){u.push([n,t]),f.point(n,t)}function m(){f.lineStart(),u=[]}function w(){y(u[0][0],u[0][1]),f.lineEnd();var n,t,e,r,c=f.clean(),h=s.result(),p=h.length;if(u.pop(),i.push(u),u=null,p)if(1&c){if((t=(e=h[0]).length-1)>0){for(l||(o.polygonStart(),l=!0),o.lineStart(),n=0;n<t;++n)o.point((r=e[n])[0],r[1]);o.lineEnd()}}else p>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(ff))}return h}}function ff(n){return n.length>1}function lf(n,t){return((n=n.x)[0]<0?n[1]-ms-1e-6:ms-n[1])-((t=t.x)[0]<0?t[1]-ms-1e-6:ms-t[1])}Xs.invert=Xs;var hf=sf((function(){return!0}),(function(n){var t,e=NaN,r=NaN,o=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(i,a){var u=i>0?ys:-ys,c=Es(i-e);Es(c-ys)<1e-6?(n.point(e,r=(r+a)/2>0?ms:-ms),n.point(o,r),n.lineEnd(),n.lineStart(),n.point(u,r),n.point(i,r),t=0):o!==u&&c>=ys&&(Es(e-o)<1e-6&&(e-=1e-6*o),Es(i-u)<1e-6&&(i-=1e-6*u),r=function(n,t,e,r){var o,i,a=Ps(n-e);return Es(a)>1e-6?Ss((Ps(t)*(i=Ts(r))*Ps(e)-Ps(r)*(o=Ts(t))*Ps(n))/(o*i*a)):(t+r)/2}(e,r,i,a),n.point(o,r),n.lineEnd(),n.lineStart(),n.point(u,r),t=0),n.point(e=i,r=a),o=u},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}),(function(n,t,e,r){var o;if(null==n)o=e*ms,r.point(-ys,o),r.point(0,o),r.point(ys,o),r.point(ys,0),r.point(ys,-o),r.point(0,-o),r.point(-ys,-o),r.point(-ys,0),r.point(-ys,o);else if(Es(n[0]-t[0])>1e-6){var i=n[0]<t[0]?ys:-ys;o=e*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}),[-ys,-ms]);function pf(n){var t=Ts(n),e=6*xs,r=t>0,o=Es(t)>1e-6;function i(n,e){return Ts(n)*Ts(e)>t}function a(n,e,r){var o=[1,0,0],i=Us(Vs(n),Vs(e)),a=Hs(i,i),u=i[0],c=a-u*u;if(!c)return!r&&n;var s=t*a/c,f=-t*u/c,l=Us(o,i),h=Ys(o,s);Ws(h,Ys(i,f));var p=l,v=Hs(h,p),d=Hs(p,p),g=v*v-d*(Hs(h,h)-1);if(!(g<0)){var y=Ns(g),m=Ys(p,(-v-y)/d);if(Ws(m,h),m=Gs(m),!r)return m;var w,_=n[0],b=e[0],x=n[1],E=e[1];b<_&&(w=_,_=b,b=w);var S=b-_,M=Es(S-ys)<1e-6;if(!M&&E<x&&(w=x,x=E,E=w),M||S<1e-6?M?x+E>0^m[1]<(Es(m[0]-_)<1e-6?x:E):x<=m[1]&&m[1]<=E:S>ys^(_<=m[0]&&m[0]<=b)){var T=Ys(p,(-v+y)/d);return Ws(T,h),[m,Gs(T)]}}}function u(t,e){var o=r?n:ys-n,i=0;return t<-o?i|=1:t>o&&(i|=2),e<-o?i|=4:e>o&&(i|=8),i}return sf(i,(function(n){var t,e,c,s,f;return{lineStart:function(){s=c=!1,f=1},point:function(l,h){var p,v=[l,h],d=i(l,h),g=r?d?0:u(l,h):d?u(l+(l<0?ys:-ys),h):0;if(!t&&(s=c=d)&&n.lineStart(),d!==c&&(!(p=a(t,v))||rf(t,p)||rf(v,p))&&(v[2]=1),d!==c)f=0,d?(n.lineStart(),p=a(v,t),n.point(p[0],p[1])):(p=a(t,v),n.point(p[0],p[1],2),n.lineEnd()),t=p;else if(o&&t&&r^d){var y;g&e||!(y=a(v,t,!0))||(f=0,r?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1],3)))}!d||t&&rf(t,v)||n.point(v[0],v[1]),t=v,c=d,e=g},lineEnd:function(){c&&n.lineEnd(),t=null},clean:function(){return f|(s&&c)<<1}}}),(function(t,r,o,i){!function(n,t,e,r,o,i){if(e){var a=Ts(t),u=Ps(t),c=r*e;null==o?(o=t+r*_s,i=t-c/2):(o=tf(a,o),i=tf(a,i),(r>0?o<i:o>i)&&(o+=r*_s));for(var s,f=o;r>0?f>i:f<i;f-=c)s=Gs([a,-u*Ts(f),-u*Ps(f)]),n.point(s[0],s[1])}}(i,n,e,o,t,r)}),r?[0,-n]:[-ys,n-ys])}function vf(n,t,e,r){function o(o,i){return n<=o&&o<=e&&t<=i&&i<=r}function i(o,i,u,s){var f=0,l=0;if(null==o||(f=a(o,u))!==(l=a(i,u))||c(o,i)<0^u>0)do{s.point(0===f||3===f?n:e,f>1?r:t)}while((f=(f+u+4)%4)!==l);else s.point(i[0],i[1])}function a(r,o){return Es(r[0]-n)<1e-6?o>0?0:3:Es(r[0]-e)<1e-6?o>0?2:1:Es(r[1]-t)<1e-6?o>0?1:0:o>0?3:2}function u(n,t){return c(n.x,t.x)}function c(n,t){var e=a(n,1),r=a(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){var c,s,f,l,h,p,v,d,g,y,m,w=a,_=ef(),b={point:x,lineStart:function(){b.point=E,s&&s.push(f=[]);y=!0,g=!1,v=d=NaN},lineEnd:function(){c&&(E(l,h),p&&g&&_.rejoin(),c.push(_.result()));b.point=x,g&&w.lineEnd()},polygonStart:function(){w=_,c=[],s=[],m=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,o=s.length;e<o;++e)for(var i,a,u=s[e],c=1,f=u.length,l=u[0],h=l[0],p=l[1];c<f;++c)i=h,a=p,h=(l=u[c])[0],p=l[1],a<=r?p>r&&(h-i)*(r-a)>(p-a)*(n-i)&&++t:p<=r&&(h-i)*(r-a)<(p-a)*(n-i)&&--t;return t}(),e=m&&t,o=(c=gs(c)).length;(e||o)&&(a.polygonStart(),e&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&af(c,u,t,i,a),a.polygonEnd());w=a,c=s=f=null}};function x(n,t){o(n,t)&&w.point(n,t)}function E(i,a){var u=o(i,a);if(s&&f.push([i,a]),y)l=i,h=a,p=u,y=!1,u&&(w.lineStart(),w.point(i,a));else if(u&&g)w.point(i,a);else{var c=[v=Math.max(-1e9,Math.min(1e9,v)),d=Math.max(-1e9,Math.min(1e9,d))],_=[i=Math.max(-1e9,Math.min(1e9,i)),a=Math.max(-1e9,Math.min(1e9,a))];!function(n,t,e,r,o,i){var a,u=n[0],c=n[1],s=0,f=1,l=t[0]-u,h=t[1]-c;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<s)return;a<f&&(f=a)}else if(l>0){if(a>f)return;a>s&&(s=a)}if(a=o-u,l||!(a<0)){if(a/=l,l<0){if(a>f)return;a>s&&(s=a)}else if(l>0){if(a<s)return;a<f&&(f=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<s)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>s&&(s=a)}if(a=i-c,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>s&&(s=a)}else if(h>0){if(a<s)return;a<f&&(f=a)}return s>0&&(n[0]=u+s*l,n[1]=c+s*h),f<1&&(t[0]=u+f*l,t[1]=c+f*h),!0}}}}}(c,_,n,t,e,r)?u&&(w.lineStart(),w.point(i,a),m=!1):(g||(w.lineStart(),w.point(c[0],c[1])),w.point(_[0],_[1]),u||w.lineEnd(),m=!1)}v=i,d=a,g=u}return b}}var df=n=>n,gf=1/0,yf=gf,mf=-gf,wf=mf,_f={point:function(n,t){n<gf&&(gf=n);n>mf&&(mf=n);t<yf&&(yf=t);t>wf&&(wf=t)},lineStart:Is,lineEnd:Is,polygonStart:Is,polygonEnd:Is,result:function(){var n=[[gf,yf],[mf,wf]];return mf=wf=-(yf=gf=1/0),n}};function bf(n){return function(t){var e=new xf;for(var r in n)e[r]=n[r];return e.stream=t,e}}function xf(){}function Ef(n,t,e){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=r&&n.clipExtent(null),Fs(e,n.stream(_f)),t(_f.result()),null!=r&&n.clipExtent(r),n}function Sf(n,t,e){return Ef(n,(function(e){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(r/(e[1][0]-e[0][0]),o/(e[1][1]-e[0][1])),a=+t[0][0]+(r-i*(e[1][0]+e[0][0]))/2,u=+t[0][1]+(o-i*(e[1][1]+e[0][1]))/2;n.scale(150*i).translate([a,u])}),e)}xf.prototype={constructor:xf,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Mf=Ts(30*xs);function Tf(n,t){return+t?function(n,t){function e(r,o,i,a,u,c,s,f,l,h,p,v,d,g){var y=s-r,m=f-o,w=y*y+m*m;if(w>4*t&&d--){var _=a+h,b=u+p,x=c+v,E=Ns(_*_+b*b+x*x),S=Rs(x/=E),M=Es(Es(x)-1)<1e-6||Es(i-l)<1e-6?(i+l)/2:Ms(b,_),T=n(M,S),j=T[0],k=T[1],C=j-r,P=k-o,O=m*C-y*P;(O*O/w>t||Es((y*C+m*P)/w-.5)>.3||a*h+u*p+c*v<Mf)&&(e(r,o,i,a,u,c,j,k,M,_/=E,b/=E,x,d,g),g.point(j,k),e(j,k,M,_,b,x,s,f,l,h,p,v,d,g))}}return function(t){var r,o,i,a,u,c,s,f,l,h,p,v,d={point:g,lineStart:y,lineEnd:w,polygonStart:function(){t.polygonStart(),d.lineStart=_},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function g(e,r){e=n(e,r),t.point(e[0],e[1])}function y(){f=NaN,d.point=m,t.lineStart()}function m(r,o){var i=Vs([r,o]),a=n(r,o);e(f,l,s,h,p,v,f=a[0],l=a[1],s=r,h=i[0],p=i[1],v=i[2],16,t),t.point(f,l)}function w(){d.point=g,t.lineEnd()}function _(){y(),d.point=b,d.lineEnd=x}function b(n,t){m(r=n,t),o=f,i=l,a=h,u=p,c=v,d.point=m}function x(){e(f,l,s,h,p,v,o,i,r,a,u,c,16,t),d.lineEnd=w,w()}return d}}(n,t):function(n){return bf({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}(n)}var jf,kf=bf({point:function(n,t){this.stream.point(n*xs,t*xs)}});function Cf(n,t,e,r,o,i){if(!i)return function(n,t,e,r,o){function i(i,a){return[t+n*(i*=r),e-n*(a*=o)]}return i.invert=function(i,a){return[(i-t)/n*r,(e-a)/n*o]},i}(n,t,e,r,o);var a=Ts(i),u=Ps(i),c=a*n,s=u*n,f=a/n,l=u/n,h=(u*e-a*t)/n,p=(u*t+a*e)/n;function v(n,i){return[c*(n*=r)-s*(i*=o)+t,e-s*n-c*i]}return v.invert=function(n,t){return[r*(f*n-l*t+h),o*(p-l*n-f*t)]},v}function Pf(n){return Of((function(){return n}))()}function Of(n){var t,e,r,o,i,a,u,c,s,f,l=150,h=480,p=250,v=0,d=0,g=0,y=0,m=0,w=0,_=1,b=1,x=null,E=hf,S=null,M=df,T=.5;function j(n){return c(n[0]*xs,n[1]*xs)}function k(n){return(n=c.invert(n[0],n[1]))&&[n[0]*bs,n[1]*bs]}function C(){var n=Cf(l,0,0,_,b,w).apply(null,t(v,d)),r=Cf(l,h-n[0],p-n[1],_,b,w);return e=Qs(g,y,m),u=Js(t,r),c=Js(e,u),a=Tf(u,T),P()}function P(){return s=f=null,j}return j.stream=function(n){return s&&f===n?s:s=kf(function(n){return bf({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}})}(e)(E(a(M(f=n)))))},j.preclip=function(n){return arguments.length?(E=n,x=void 0,P()):E},j.postclip=function(n){return arguments.length?(M=n,S=r=o=i=null,P()):M},j.clipAngle=function(n){return arguments.length?(E=+n?pf(x=n*xs):(x=null,hf),P()):x*bs},j.clipExtent=function(n){return arguments.length?(M=null==n?(S=r=o=i=null,df):vf(S=+n[0][0],r=+n[0][1],o=+n[1][0],i=+n[1][1]),P()):null==S?null:[[S,r],[o,i]]},j.scale=function(n){return arguments.length?(l=+n,C()):l},j.translate=function(n){return arguments.length?(h=+n[0],p=+n[1],C()):[h,p]},j.center=function(n){return arguments.length?(v=n[0]%360*xs,d=n[1]%360*xs,C()):[v*bs,d*bs]},j.rotate=function(n){return arguments.length?(g=n[0]%360*xs,y=n[1]%360*xs,m=n.length>2?n[2]%360*xs:0,C()):[g*bs,y*bs,m*bs]},j.angle=function(n){return arguments.length?(w=n%360*xs,C()):w*bs},j.reflectX=function(n){return arguments.length?(_=n?-1:1,C()):_<0},j.reflectY=function(n){return arguments.length?(b=n?-1:1,C()):b<0},j.precision=function(n){return arguments.length?(a=Tf(u,T=n*n),P()):Ns(T)},j.fitExtent=function(n,t){return Sf(j,n,t)},j.fitSize=function(n,t){return function(n,t,e){return Sf(n,[[0,0],t],e)}(j,n,t)},j.fitWidth=function(n,t){return function(n,t,e){return Ef(n,(function(e){var r=+t,o=r/(e[1][0]-e[0][0]),i=(r-o*(e[1][0]+e[0][0]))/2,a=-o*e[0][1];n.scale(150*o).translate([i,a])}),e)}(j,n,t)},j.fitHeight=function(n,t){return function(n,t,e){return Ef(n,(function(e){var r=+t,o=r/(e[1][1]-e[0][1]),i=-o*e[0][0],a=(r-o*(e[1][1]+e[0][1]))/2;n.scale(150*o).translate([i,a])}),e)}(j,n,t)},function(){return t=n.apply(this,arguments),j.invert=t.invert&&k,C()}}function Nf(n){var t=0,e=ys/3,r=Of(n),o=r(t,e);return o.parallels=function(n){return arguments.length?r(t=n[0]*xs,e=n[1]*xs):[t*bs,e*bs]},o}function Af(n,t){var e=Ps(n),r=(e+Ps(t))/2;if(Es(r)<1e-6)return function(n){var t=Ts(n);function e(n,e){return[n*t,Ps(e)/t]}return e.invert=function(n,e){return[n/t,Rs(e*t)]},e}(n);var o=1+e*(2*r-e),i=Ns(o)/r;function a(n,t){var e=Ns(o-2*r*Ps(t))/r;return[e*Ps(n*=r),i-e*Ts(n)]}return a.invert=function(n,t){var e=i-t,a=Ms(n,Es(e))*Os(e);return e*r<0&&(a-=ys*Os(n)*Os(e)),[a/r,Rs((o-(n*n+e*e)*r*r)/(2*r))]},a}function Rf(){return Nf(Af).scale(155.424).center([0,33.6442])}function If(){return Rf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Df(n,t){return[n,ks(As((ms+t)/2))]}function Lf(){return Bf(Df).scale(961/_s)}function Bf(n){var t,e,r,o=Pf(n),i=o.center,a=o.scale,u=o.translate,c=o.clipExtent,s=null;function f(){var i=ys*a(),u=o(function(n){function t(t){return(t=n(t[0]*xs,t[1]*xs))[0]*=bs,t[1]*=bs,t}return n=Qs(n[0]*xs,n[1]*xs,n.length>2?n[2]*xs:0),t.invert=function(t){return(t=n.invert(t[0]*xs,t[1]*xs))[0]*=bs,t[1]*=bs,t},t}(o.rotate()).invert([0,0]));return c(null==s?[[u[0]-i,u[1]-i],[u[0]+i,u[1]+i]]:n===Df?[[Math.max(u[0]-i,s),t],[Math.min(u[0]+i,e),r]]:[[s,Math.max(u[1]-i,t)],[e,Math.min(u[1]+i,r)]])}return o.scale=function(n){return arguments.length?(a(n),f()):a()},o.translate=function(n){return arguments.length?(u(n),f()):u()},o.center=function(n){return arguments.length?(i(n),f()):i()},o.clipExtent=function(n){return arguments.length?(null==n?s=t=e=r=null:(s=+n[0][0],t=+n[0][1],e=+n[1][0],r=+n[1][1]),f()):null==s?null:[[s,t],[e,r]]},f()}function zf(n){return As((ms+n)/2)}function qf(n,t){var e=Ts(n),r=n===t?Ps(n):ks(e/Ts(t))/ks(zf(t)/zf(n)),o=e*Cs(zf(n),r)/r;if(!r)return Df;function i(n,t){o>0?t<1e-6-ms&&(t=1e-6-ms):t>ms-1e-6&&(t=ms-1e-6);var e=o/Cs(zf(t),r);return[e*Ps(r*n),o-e*Ts(r*n)]}return i.invert=function(n,t){var e=o-t,i=Os(r)*Ns(n*n+e*e),a=Ms(n,Es(e))*Os(e);return e*r<0&&(a-=ys*Os(n)*Os(e)),[a/r,2*Ss(Cs(o/i,1/r))-ms]},i}function Ff(){return Nf(qf).scale(109.5).parallels([30,30])}function Gf(n,t){return[n,t]}function Vf(){return Pf(Gf).scale(152.63)}function Hf(n,t){var e=Ts(n),r=n===t?Ps(n):(e-Ts(t))/(t-n),o=e/r+n;if(Es(r)<1e-6)return Gf;function i(n,t){var e=o-t,i=r*n;return[e*Ps(i),o-e*Ts(i)]}return i.invert=function(n,t){var e=o-t,i=Ms(n,Es(e))*Os(e);return e*r<0&&(i-=ys*Os(n)*Os(e)),[i/r,o-Os(r)*Ns(n*n+e*e)]},i}function Uf(){return Nf(Hf).scale(131.154).center([0,13.9389])}function Wf(n,t){var e=Ts(t),r=1+Ts(n)*e;return[e*Ps(n)/r,Ps(t)/r]}function Yf(n,t){return[ks(As((ms+t)/2)),-n]}function $f(){}Df.invert=function(n,t){return[n,2*Ss(js(t))-ms]},Gf.invert=Gf,Wf.invert=(jf=function(n){return 2*Ss(n)},function(n,t){var e=Ns(n*n+t*t),r=jf(e),o=Ps(r),i=Ts(r);return[Ms(n*o,e*i),Rs(e&&t*o/e)]}),Yf.invert=function(n,t){return[-t,2*Ss(js(n))-ms]};var Jf=1/0,Xf=Jf,Qf=-Jf,Kf=Qf,Zf={point:function(n,t){n<Jf&&(Jf=n);n>Qf&&(Qf=n);t<Xf&&(Xf=t);t>Kf&&(Kf=t)},lineStart:$f,lineEnd:$f,polygonStart:$f,polygonEnd:$f,result:function(){var n=[[Jf,Xf],[Qf,Kf]];return Qf=Kf=-(Xf=Jf=1/0),n}};function nl(n,t,e){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=i&&n.clipExtent(null),Fs(e,n.stream(Zf));var a=Zf.result(),u=Math.min(r/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),c=+t[0][0]+(r-u*(a[1][0]+a[0][0]))/2,s=+t[0][1]+(o-u*(a[1][1]+a[0][1]))/2;return null!=i&&n.clipExtent(i),n.scale(150*u).translate([c,s])}function tl(n,t,e){return nl(n,[[0,0],t],e)}const el=Math.PI,rl=2*el,ol=rl-1e-6;function il(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function al(){return new il}il.prototype=al.prototype={constructor:il,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,e,r){this._+="Q"+ +n+","+ +t+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(n,t,e,r,o,i){this._+="C"+ +n+","+ +t+","+ +e+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(n,t,e,r,o){n=+n,t=+t,e=+e,r=+r,o=+o;var i=this._x1,a=this._y1,u=e-n,c=r-t,s=i-n,f=a-t,l=s*s+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(l>1e-6)if(Math.abs(f*u-c*s)>1e-6&&o){var h=e-i,p=r-a,v=u*u+c*c,d=h*h+p*p,g=Math.sqrt(v),y=Math.sqrt(l),m=o*Math.tan((el-Math.acos((v+l-d)/(2*g*y)))/2),w=m/y,_=m/g;Math.abs(w-1)>1e-6&&(this._+="L"+(n+w*s)+","+(t+w*f)),this._+="A"+o+","+o+",0,0,"+ +(f*h>s*p)+","+(this._x1=n+_*u)+","+(this._y1=t+_*c)}else this._+="L"+(this._x1=n)+","+(this._y1=t);else;},arc:function(n,t,e,r,o,i){n=+n,t=+t,i=!!i;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),c=n+a,s=t+u,f=1^i,l=i?r-o:o-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%rl+rl),l>ol?this._+="A"+e+","+e+",0,1,"+f+","+(n-a)+","+(t-u)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=el)+","+f+","+(this._x1=n+e*Math.cos(o))+","+(this._y1=t+e*Math.sin(o))))},rect:function(n,t,e,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var ul=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoAlbersUsa:function(){var n,t,e,r,o,i,a=If(),u=Rf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Rf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(n,t){i=[n,t]}};function f(n){var t=n[0],a=n[1];return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?u:o>=.166&&o<.234&&r>=-.214&&r<-.115?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(.35*n),c.scale(n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.455*t,f-.238*t],[i+.455*t,f+.238*t]]).stream(s),r=u.translate([i-.307*t,f+.201*t]).clipExtent([[i-.425*t+1e-6,f+.12*t+1e-6],[i-.214*t-1e-6,f+.234*t-1e-6]]).stream(s),o=c.translate([i-.205*t,f+.212*t]).clipExtent([[i-.214*t+1e-6,f+.166*t+1e-6],[i-.115*t-1e-6,f+.234*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return nl(f,n,t)},f.fitSize=function(n,t){return tl(f,n,t)},f.drawCompositionBorders=function(n){var t=a([-102.91,26.3]),e=a([-104,27.5]),r=a([-108,29.1]),o=a([-110,29.1]),i=a([-110,26.7]),u=a([-112.8,27.6]),c=a([-114.3,30.6]),s=a([-119.3,30.1]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(s[0],s[1])},f.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},f.scale(1070)},geoAlbersUsaTerritories:function(){var n,t,e,r,o,i,a,u,c,s=If(),f=Rf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Rf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h=Rf().rotate([66,0]).center([0,18]).parallels([8,18]),p=Vf().rotate([173,14]),v=Vf().rotate([-145,-16.8]),d={point:function(n,t){c=[n,t]}};function g(n){var t=n[0],s=n[1];return c=null,e.point(t,s),c||(r.point(t,s),c)||(o.point(t,s),c)||(i.point(t,s),c)||(a.point(t,s),c)||(u.point(t,s),c)}function y(){return n=t=null,g}return g.invert=function(n){var t=s.scale(),e=s.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?f:o>=.166&&o<.234&&r>=-.214&&r<-.115?l:o>=.2064&&o<.2413&&r>=.312&&r<.385?h:o>=.09&&o<.1197&&r>=-.4243&&r<-.3232?p:o>=-.0518&&o<.0895&&r>=-.4243&&r<-.3824?v:s).invert(n)},g.stream=function(e){return n&&t===e?n:(r=[s.stream(t=e),f.stream(e),l.stream(e),h.stream(e),p.stream(e),v.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},g.precision=function(n){return arguments.length?(s.precision(n),f.precision(n),l.precision(n),h.precision(n),p.precision(n),v.precision(n),y()):s.precision()},g.scale=function(n){return arguments.length?(s.scale(n),f.scale(.35*n),l.scale(n),h.scale(n),p.scale(2*n),v.scale(n),g.translate(s.translate())):s.scale()},g.translate=function(n){if(!arguments.length)return s.translate();var t=s.scale(),c=+n[0],g=+n[1];return e=s.translate(n).clipExtent([[c-.455*t,g-.238*t],[c+.455*t,g+.238*t]]).stream(d),r=f.translate([c-.307*t,g+.201*t]).clipExtent([[c-.425*t+1e-6,g+.12*t+1e-6],[c-.214*t-1e-6,g+.233*t-1e-6]]).stream(d),o=l.translate([c-.205*t,g+.212*t]).clipExtent([[c-.214*t+1e-6,g+.166*t+1e-6],[c-.115*t-1e-6,g+.233*t-1e-6]]).stream(d),i=h.translate([c+.35*t,g+.224*t]).clipExtent([[c+.312*t+1e-6,g+.2064*t+1e-6],[c+.385*t-1e-6,g+.233*t-1e-6]]).stream(d),a=p.translate([c-.492*t,g+.09*t]).clipExtent([[c-.4243*t+1e-6,g+.0903*t+1e-6],[c-.3233*t-1e-6,g+.1197*t-1e-6]]).stream(d),u=v.translate([c-.408*t,g+.018*t]).clipExtent([[c-.4244*t+1e-6,g-.0519*t+1e-6],[c-.3824*t-1e-6,g+.0895*t-1e-6]]).stream(d),y()},g.fitExtent=function(n,t){return nl(g,n,t)},g.fitSize=function(n,t){return tl(g,n,t)},g.drawCompositionBorders=function(n){var t=s([-110.4641,28.2805]),e=s([-104.0597,28.9528]),r=s([-103.7049,25.1031]),o=s([-109.8337,24.4531]),i=s([-124.4745,28.1407]),a=s([-110.931,30.8844]),u=s([-109.8337,24.4531]),c=s([-122.4628,21.8562]),f=s([-76.8579,25.1544]),l=s([-72.429,24.2097]),h=s([-72.8265,22.7056]),p=s([-77.1852,23.6392]),v=s([-125.0093,29.7791]),d=s([-118.5193,31.3262]),g=s([-118.064,29.6912]),y=s([-124.4369,28.169]),m=s([-128.1314,37.4582]),w=s([-125.2132,38.214]),_=s([-122.3616,30.5115]),b=s([-125.0315,29.8211]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(a[0],a[1]),n.lineTo(u[0],u[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.closePath(),n.moveTo(f[0],f[1]),n.lineTo(l[0],l[1]),n.lineTo(h[0],h[1]),n.lineTo(h[0],h[1]),n.lineTo(p[0],p[1]),n.closePath(),n.moveTo(v[0],v[1]),n.lineTo(d[0],d[1]),n.lineTo(g[0],g[1]),n.lineTo(g[0],g[1]),n.lineTo(y[0],y[1]),n.closePath(),n.moveTo(m[0],m[1]),n.lineTo(w[0],w[1]),n.lineTo(_[0],_[1]),n.lineTo(_[0],_[1]),n.lineTo(b[0],b[1]),n.closePath()},g.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},g.scale(1070)},geoConicConformalSpain:function(){var n,t,e,r,o,i=Ff().rotate([5,-38.6]).parallels([0,60]),a=Ff().rotate([5,-38.6]).parallels([0,60]),u={point:function(n,t){o=[n,t]}};function c(n){var t=n[0],i=n[1];return o=null,e.point(t,i),o||(r.point(t,i),o)}function s(){return n=t=null,c}return c.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.05346&&o<.0897&&r>=-.13388&&r<-.0322?a:i).invert(n)},c.stream=function(e){return n&&t===e?n:(r=[i.stream(t=e),a.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},c.precision=function(n){return arguments.length?(i.precision(n),a.precision(n),s()):i.precision()},c.scale=function(n){return arguments.length?(i.scale(n),a.scale(n),c.translate(i.translate())):i.scale()},c.translate=function(n){if(!arguments.length)return i.translate();var t=i.scale(),o=+n[0],c=+n[1];return e=i.translate(n).clipExtent([[o-.06857*t,c-.1288*t],[o+.13249*t,c+.06*t]]).stream(u),r=a.translate([o+.1*t,c-.094*t]).clipExtent([[o-.1331*t+1e-6,c+.053457*t+1e-6],[o-.0354*t-1e-6,c+.08969*t-1e-6]]).stream(u),s()},c.fitExtent=function(n,t){return nl(c,n,t)},c.fitSize=function(n,t){return tl(c,n,t)},c.drawCompositionBorders=function(n){var t=i([-14.034675,34.965007]),e=i([-7.4208899,35.536988]),r=i([-7.3148275,33.54359]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1])},c.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},c.scale(2700)},geoConicConformalPortugal:function(){var n,t,e,r,o,i,a=Ff().rotate([10,-39.3]).parallels([0,60]),u=Ff().rotate([17,-32.7]).parallels([0,60]),c=Ff().rotate([27.8,-38.6]).parallels([0,60]),s={point:function(n,t){i=[n,t]}};function f(n){var t=n[0],a=n[1];return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.0093&&o<.03678&&r>=-.03875&&r<-.0116?u:o>=-.0412&&o<.0091&&r>=-.07782&&r<-.01166?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(n),c.scale(.6*n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.0115*t,f-.1138*t],[i+.2105*t,f+.0673*t]]).stream(s),r=u.translate([i-.0265*t,f+.025*t]).clipExtent([[i-.0388*t+1e-6,f+.0093*t+1e-6],[i-.0116*t-1e-6,f+.0368*t-1e-6]]).stream(s),o=c.translate([i-.045*t,f+-.02*t]).clipExtent([[i-.0778*t+1e-6,f-.0413*t+1e-6],[i-.0117*t-1e-6,f+.0091*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return nl(f,n,t)},f.fitSize=function(n,t){return tl(f,n,t)},f.drawCompositionBorders=function(n){var t=a([-12.8351,38.7113]),e=a([-10.8482,38.7633]),r=a([-10.8181,37.2072]),o=a([-12.7345,37.1573]),i=a([-16.0753,41.4436]),u=a([-10.9168,41.6861]),c=a([-10.8557,38.7747]),s=a([-15.6728,38.5505]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(c[0],c[1]),n.lineTo(s[0],s[1]),n.closePath()},f.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},f.scale(4200)},geoMercatorEcuador:function(){var n,t,e,r,o,i=Lf().rotate([80,1.5]),a=Lf().rotate([90.73,1]),u={point:function(n,t){o=[n,t]}};function c(n){var t=n[0],i=n[1];return o=null,e.point(t,i),o||(r.point(t,i),o)}function s(){return n=t=null,c}return c.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.0676&&o<-.026&&r>=-.0857&&r<-.0263?a:i).invert(n)},c.stream=function(e){return n&&t===e?n:(r=[i.stream(t=e),a.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},c.precision=function(n){return arguments.length?(i.precision(n),a.precision(n),s()):i.precision()},c.scale=function(n){return arguments.length?(i.scale(n),a.scale(n),c.translate(i.translate())):i.scale()},c.translate=function(n){if(!arguments.length)return i.translate();var t=i.scale(),o=+n[0],c=+n[1];return e=i.translate(n).clipExtent([[o-.0262*t,c-.0734*t],[o+.1741*t,c+.079*t]]).stream(u),r=a.translate([o-.06*t,c-.04*t]).clipExtent([[o-.0857*t+1e-6,c-.0676*t+1e-6],[o-.0263*t-1e-6,c-.026*t-1e-6]]).stream(u),s()},c.fitExtent=function(n,t){return nl(c,n,t)},c.fitSize=function(n,t){return tl(c,n,t)},c.drawCompositionBorders=function(n){var t=i([-84.9032,2.3757]),e=i([-81.5047,2.3708]),r=i([-81.5063,-.01]),o=i([-84.9086,-.005]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},c.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},c.scale(3500)},geoTransverseMercatorChile:function(){var n,t,e,r,o,i,a,u,c,s,f=(u=Bf(Yf),c=u.center,s=u.rotate,u.center=function(n){return arguments.length?c([-n[1],n[0]]):[(n=c())[1],-n[0]]},u.rotate=function(n){return arguments.length?s([n[0],n[1],n.length>2?n[2]+90:90]):[(n=s())[0],n[1],n[2]-90]},s([0,0,90]).scale(159.155)).rotate([72,37]),l=Pf(Wf).scale(250).clipAngle(142).rotate([72,0]),h=Lf().rotate([80,33.5]),p=Lf().rotate([110,25]),v={point:function(n,t){a=[n,t]}};function d(n){var t=n[0],u=n[1];return a=null,e.point(t,u),a||(r.point(t,u),a)||(o.point(t,u),a)||(i.point(t,u),a)}function g(){return n=t=null,d}return d.invert=function(n){var t=f.scale(),e=f.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.2582&&o<.32&&r>=-.1036&&r<-.087?l:o>=-.01298&&o<.0133&&r>=-.11396&&r<-.05944?h:o>=.01539&&o<.03911&&r>=-.089&&r<-.0588?p:f).invert(n)},d.stream=function(e){return n&&t===e?n:(r=[f.stream(t=e),l.stream(e),h.stream(e),p.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},d.precision=function(n){return arguments.length?(f.precision(n),l.precision(n),h.precision(n),p.precision(n),g()):f.precision()},d.scale=function(n){return arguments.length?(f.scale(n),l.scale(.15*n),h.scale(1.5*n),p.scale(1.5*n),d.translate(f.translate())):f.scale()},d.translate=function(n){if(!arguments.length)return f.translate();var t=f.scale(),a=+n[0],u=+n[1];return e=f.translate(n).clipExtent([[a-.059*t,u-.3835*t],[a+.4498*t,u+.3375*t]]).stream(v),r=l.translate([a-.087*t,u+.17*t]).clipExtent([[a-.1166*t+1e-6,u+.2582*t+1e-6],[a-.06*t-1e-6,u+.32*t-1e-6]]).stream(v),o=h.translate([a-.092*t,u-0*t]).clipExtent([[a-.114*t+1e-6,u-.013*t+1e-6],[a-.0594*t-1e-6,u+.0133*t-1e-6]]).stream(v),i=p.translate([a-.089*t,u-.0265*t]).clipExtent([[a-.089*t+1e-6,u+.0154*t+1e-6],[a-.0588*t-1e-6,u+.0391*t-1e-6]]).stream(v),g()},d.fitExtent=function(n,t){return nl(d,n,t)},d.fitSize=function(n,t){return tl(d,n,t)},d.drawCompositionBorders=function(n){var t=f([-82.6999,-51.3043]),e=f([-77.5442,-51.6631]),r=f([-78.0254,-55.186]),o=f([-83.6106,-54.7785]),i=f([-80.0638,-35.984]),a=f([-76.2153,-36.1811]),u=f([-76.2994,-37.6839]),c=f([-80.2231,-37.4757]),s=f([-78.442,-37.706]),l=f([-76.263,-37.8054]),h=f([-76.344,-39.1595]),p=f([-78.5638,-39.0559]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(a[0],a[1]),n.lineTo(u[0],u[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.closePath(),n.moveTo(s[0],s[1]),n.lineTo(l[0],l[1]),n.lineTo(h[0],h[1]),n.lineTo(h[0],h[1]),n.lineTo(p[0],p[1]),n.closePath()},d.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},d.scale(700)},geoConicEquidistantJapan:function(){var n,t,e,r,o,i,a=Uf().rotate([-136,-22]).parallels([40,34]),u=Uf().rotate([-146,-26]).parallels([40,34]),c=Uf().rotate([-126,-19]).parallels([40,34]),s={point:function(n,t){i=[n,t]}};function f(n){var t=n[0],a=n[1];return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.10925&&o<-.02701&&r>=-.135&&r<-.0397?u:o>=.04713&&o<.11138&&r>=-.03986&&r<.051?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(n),c.scale(.7*n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.1352*t,f-.1091*t],[i+.117*t,f+.098*t]]).stream(s),r=u.translate([i-.0425*t,f-.005*t]).clipExtent([[i-.135*t+1e-6,f-.1093*t+1e-6],[i-.0397*t-1e-6,f-.027*t-1e-6]]).stream(s),o=c.translate(n).clipExtent([[i-.0399*t+1e-6,f+.0471*t+1e-6],[i+.051*t-1e-6,f+.1114*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return nl(f,n,t)},f.fitSize=function(n,t){return tl(f,n,t)},f.drawCompositionBorders=function(n){var t=a([126.01320483689143,41.621090310215585]),e=a([133.04304387025903,42.15087523707186]),r=a([133.3021766080688,37.43975444725098]),o=a([126.87889168628224,36.95488945159779]),i=a([132.9,29.8]),u=a([134,33]),c=a([139.3,33.2]),s=a([139.16,30.5]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(s[0],s[1])},f.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},f.scale(2200)},geoConicConformalFrance:function(){var n,t,e,r,o,i,a,u,c,s,f,l,h,p,v,d=Ff().rotate([-3,-46.2]).parallels([0,60]),g=Lf().center([-53.2,3.9]),y=Lf().center([-61.03,14.67]),m=Lf().center([-61.46,16.14]),w=Lf().center([-62.85,17.92]),_=Lf().center([-56.23,46.93]),b=Lf().center([45.16,-12.8]),x=Lf().center([55.52,-21.13]),E=Lf().center([165.8,-21.07]),S=Lf().center([-178.1,-14.3]),M=Lf().center([-150.55,-17.11]),T=Lf().center([-150.55,-17.11]),j={point:function(n,t){v=[n,t]}};function k(n){var t=n[0],d=n[1];return v=null,e.point(t,d),v||(r.point(t,d),v)||(o.point(t,d),v)||(i.point(t,d),v)||(a.point(t,d),v)||(u.point(t,d),v)||(c.point(t,d),v)||(s.point(t,d),v)||(f.point(t,d),v)||(l.point(t,d),v)||(h.point(t,d),v)||(p.point(t,d),v)}function C(){return n=t=null,k}return k.invert=function(n){var t=d.scale(),e=d.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.029&&o<.0864&&r>=-.14&&r<-.0996?g:o>=0&&o<.029&&r>=-.14&&r<-.0996?y:o>=-.032&&o<0&&r>=-.14&&r<-.0996?m:o>=-.052&&o<-.032&&r>=-.14&&r<-.0996?w:o>=-.076&&o<.052&&r>=-.14&&r<-.0996?_:o>=-.076&&o<-.052&&r>=.0967&&r<.1371?b:o>=-.052&&o<-.02&&r>=.0967&&r<.1371?x:o>=-.02&&o<.012&&r>=.0967&&r<.1371?E:o>=.012&&o<.033&&r>=.0967&&r<.1371?S:o>=.033&&o<.0864&&r>=.0967&&r<.1371?M:d).invert(n)},k.stream=function(e){return n&&t===e?n:(r=[d.stream(t=e),g.stream(e),y.stream(e),m.stream(e),w.stream(e),_.stream(e),b.stream(e),x.stream(e),E.stream(e),S.stream(e),M.stream(e),T.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},k.precision=function(n){return arguments.length?(d.precision(n),g.precision(n),y.precision(n),m.precision(n),w.precision(n),_.precision(n),b.precision(n),x.precision(n),E.precision(n),S.precision(n),M.precision(n),T.precision(n),C()):d.precision()},k.scale=function(n){return arguments.length?(d.scale(n),g.scale(.6*n),y.scale(1.6*n),m.scale(1.4*n),w.scale(5*n),_.scale(1.3*n),b.scale(1.6*n),x.scale(1.2*n),E.scale(.3*n),S.scale(2.7*n),M.scale(.5*n),T.scale(.06*n),k.translate(d.translate())):d.scale()},k.translate=function(n){if(!arguments.length)return d.translate();var t=d.scale(),v=+n[0],k=+n[1];return e=d.translate(n).clipExtent([[v-.0996*t,k-.0908*t],[v+.0967*t,k+.0864*t]]).stream(j),r=g.translate([v-.12*t,k+.0575*t]).clipExtent([[v-.14*t+1e-6,k+.029*t+1e-6],[v-.0996*t-1e-6,k+.0864*t-1e-6]]).stream(j),o=y.translate([v-.12*t,k+.013*t]).clipExtent([[v-.14*t+1e-6,k+0*t+1e-6],[v-.0996*t-1e-6,k+.029*t-1e-6]]).stream(j),i=m.translate([v-.12*t,k-.014*t]).clipExtent([[v-.14*t+1e-6,k-.032*t+1e-6],[v-.0996*t-1e-6,k+0*t-1e-6]]).stream(j),a=w.translate([v-.12*t,k-.044*t]).clipExtent([[v-.14*t+1e-6,k-.052*t+1e-6],[v-.0996*t-1e-6,k-.032*t-1e-6]]).stream(j),u=_.translate([v-.12*t,k-.065*t]).clipExtent([[v-.14*t+1e-6,k-.076*t+1e-6],[v-.0996*t-1e-6,k-.052*t-1e-6]]).stream(j),c=b.translate([v+.117*t,k-.064*t]).clipExtent([[v+.0967*t+1e-6,k-.076*t+1e-6],[v+.1371*t-1e-6,k-.052*t-1e-6]]).stream(j),s=x.translate([v+.116*t,k-.0355*t]).clipExtent([[v+.0967*t+1e-6,k-.052*t+1e-6],[v+.1371*t-1e-6,k-.02*t-1e-6]]).stream(j),f=E.translate([v+.116*t,k-.0048*t]).clipExtent([[v+.0967*t+1e-6,k-.02*t+1e-6],[v+.1371*t-1e-6,k+.012*t-1e-6]]).stream(j),l=S.translate([v+.116*t,k+.022*t]).clipExtent([[v+.0967*t+1e-6,k+.012*t+1e-6],[v+.1371*t-1e-6,k+.033*t-1e-6]]).stream(j),p=T.translate([v+.11*t,k+.045*t]).clipExtent([[v+.0967*t+1e-6,k+.033*t+1e-6],[v+.1371*t-1e-6,k+.06*t-1e-6]]).stream(j),h=M.translate([v+.115*t,k+.075*t]).clipExtent([[v+.0967*t+1e-6,k+.06*t+1e-6],[v+.1371*t-1e-6,k+.0864*t-1e-6]]).stream(j),C()},k.fitExtent=function(n,t){return nl(k,n,t)},k.fitSize=function(n,t){return tl(k,n,t)},k.drawCompositionBorders=function(n){var t,e,r,o;t=d([-7.938886725111036,43.7219460918835]),e=d([-4.832080896458295,44.12930268549372]),r=d([-4.205299743793263,40.98096346967365]),o=d([-7.071796453126152,40.610037319181444]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([-8.42751373617692,45.32889452553031]),e=d([-5.18599305777107,45.7566442062976]),r=d([-4.832080905154431,44.129302726751426]),o=d([-7.938886737126192,43.72194613263854]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([-9.012656899657046,47.127733821030176]),e=d([-5.6105244772793155,47.579777861410626]),r=d([-5.185993067168585,45.756644248170346]),o=d([-8.427513749141811,45.32889456686326]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([-9.405747558985553,48.26506375557457]),e=d([-5.896175018439575,48.733352850851624]),r=d([-5.610524487556043,47.57977790393761]),o=d([-9.012656913808351,47.127733862971255]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([-9.908436061346974,49.642448789505856]),e=d([-6.262026716233124,50.131426841787174]),r=d([-5.896175029331232,48.73335289377258]),o=d([-9.40574757396393,48.26506379787767]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([11.996907706504462,50.16039028163579]),e=d([15.649907879773343,49.68279246765253]),r=d([15.156712840526632,48.30371557625831]),o=d([11.64122661754411,48.761078240546816]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([11.641226606955788,48.7610781975889]),e=d([15.156712825832164,48.30371553390465]),r=d([14.549932166241172,46.4866532486199]),o=d([11.204443787952183,46.91899233914248]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([11.204443778297161,46.918992296823646]),e=d([14.549932152815039,46.486653206856396]),r=d([13.994409796764009,44.695833444323256]),o=d([10.805306599253848,45.105133870684924]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([10.805306590412085,45.10513382903308]),e=d([13.99440978444733,44.695833403183606]),r=d([13.654633799024392,43.53552468558152]),o=d([10.561516803980956,43.930671459798624]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([10.561516795617383,43.93067141859757]),e=d([13.654633787361952,43.5355246448671]),r=d([12.867691604239901,40.640701985019405]),o=d([9.997809515987688,41.00288343254471]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([10.8,42.4]),e=d([12.8,42.13]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1])},k.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},k.scale(2700)},geoConicConformalEurope:function(){var n,t,e,r,o,i,a,u,c,s,f,l,h,p,v,d=Ff().rotate([-10,-53]).parallels([0,60]),g=Lf().center([-61.46,16.14]),y=Lf().center([-53.2,3.9]),m=Ff().rotate([27.8,-38.9]).parallels([0,60]),w=Ff().rotate([25.43,-37.398]).parallels([0,60]),_=Ff().rotate([31.17,-39.539]).parallels([0,60]),b=Ff().rotate([17,-32.7]).parallels([0,60]),x=Ff().rotate([16,-28.5]).parallels([0,60]),E=Lf().center([-61.03,14.67]),S=Lf().center([45.16,-12.8]),M=Lf().center([55.52,-21.13]),T=Ff().rotate([-14.4,-35.95]).parallels([0,60]),j={point:function(n,t){v=[n,t]}};function k(n){var t=n[0],d=n[1];return v=null,e.point(t,d),v||(o.point(t,d),v)||(f.point(t,d),v)||(r.point(t,d),v)||(s.point(t,d),v)||(c.point(t,d),v)||(l.point(t,d),v)||(h.point(t,d),v)||(p.point(t,d),v)||(i.point(t,d),v)||(a.point(t,d),v)||(u.point(t,d),v)}function C(){return n=t=null,k}return k.invert=function(n){var t=d.scale(),e=d.translate(),r=(n[0]-(e[0]+.08*t))/t,o=(n[1]-e[1])/t;return(o>=-.31&&o<-.24&&r>=.14&&r<.24?g:o>=-.24&&o<-.17&&r>=.14&&r<.24?y:o>=-.17&&o<-.12&&r>=.21&&r<.24?w:o>=-.17&&o<-.14&&r>=.14&&r<.165?_:o>=-.17&&o<-.1&&r>=.14&&r<.24?m:o>=-.1&&o<-.03&&r>=.14&&r<.24?b:o>=-.03&&o<.04&&r>=.14&&r<.24?x:o>=-.31&&o<-.24&&r>=.24&&r<.34?E:o>=-.24&&o<-.17&&r>=.24&&r<.34?S:o>=-.17&&o<-.1&&r>=.24&&r<.34?M:o>=-.1&&o<-.03&&r>=.24&&r<.34?T:d).invert(n)},k.stream=function(e){return n&&t===e?n:(r=[d.stream(t=e),y.stream(e),E.stream(e),g.stream(e),x.stream(e),b.stream(e),S.stream(e),M.stream(e),T.stream(e),m.stream(e),w.stream(e),_.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},k.precision=function(n){return arguments.length?(d.precision(n),y.precision(n),E.precision(n),g.precision(n),x.precision(n),b.precision(n),S.precision(n),M.precision(n),T.precision(n),m.precision(n),w.precision(n),_.precision(n),C()):d.precision()},k.scale=function(n){return arguments.length?(d.scale(n),g.scale(3*n),y.scale(.8*n),E.scale(3.5*n),M.scale(2.7*n),m.scale(2*n),w.scale(2*n),_.scale(2*n),b.scale(3*n),x.scale(n),S.scale(5.5*n),T.scale(6*n),k.translate(d.translate())):d.scale()},k.translate=function(n){if(!arguments.length)return d.translate();var t=d.scale(),v=+n[0],k=+n[1];return e=d.translate([v-.08*t,k]).clipExtent([[v-.51*t,k-.33*t],[v+.5*t,k+.33*t]]).stream(j),r=g.translate([v+.19*t,k-.275*t]).clipExtent([[v+.14*t+1e-6,k-.31*t+1e-6],[v+.24*t-1e-6,k-.24*t-1e-6]]).stream(j),o=y.translate([v+.19*t,k-.205*t]).clipExtent([[v+.14*t+1e-6,k-.24*t+1e-6],[v+.24*t-1e-6,k-.17*t-1e-6]]).stream(j),i=m.translate([v+.19*t,k-.135*t]).clipExtent([[v+.14*t+1e-6,k-.17*t+1e-6],[v+.24*t-1e-6,k-.1*t-1e-6]]).stream(j),a=w.translate([v+.225*t,k-.147*t]).clipExtent([[v+.21*t+1e-6,k-.17*t+1e-6],[v+.24*t-1e-6,k-.12*t-1e-6]]).stream(j),u=_.translate([v+.153*t,k-.15*t]).clipExtent([[v+.14*t+1e-6,k-.17*t+1e-6],[v+.165*t-1e-6,k-.14*t-1e-6]]).stream(j),c=b.translate([v+.19*t,k-.065*t]).clipExtent([[v+.14*t+1e-6,k-.1*t+1e-6],[v+.24*t-1e-6,k-.03*t-1e-6]]).stream(j),s=x.translate([v+.19*t,k+.005*t]).clipExtent([[v+.14*t+1e-6,k-.03*t+1e-6],[v+.24*t-1e-6,k+.04*t-1e-6]]).stream(j),f=E.translate([v+.29*t,k-.275*t]).clipExtent([[v+.24*t+1e-6,k-.31*t+1e-6],[v+.34*t-1e-6,k-.24*t-1e-6]]).stream(j),l=S.translate([v+.29*t,k-.205*t]).clipExtent([[v+.24*t+1e-6,k-.24*t+1e-6],[v+.34*t-1e-6,k-.17*t-1e-6]]).stream(j),h=M.translate([v+.29*t,k-.135*t]).clipExtent([[v+.24*t+1e-6,k-.17*t+1e-6],[v+.34*t-1e-6,k-.1*t-1e-6]]).stream(j),p=T.translate([v+.29*t,k-.065*t]).clipExtent([[v+.24*t+1e-6,k-.1*t+1e-6],[v+.34*t-1e-6,k-.03*t-1e-6]]).stream(j),C()},k.fitExtent=function(n,t){return nl(k,n,t)},k.fitSize=function(n,t){return tl(k,n,t)},k.drawCompositionBorders=function(n){var t,e,r,o;t=d([42.45755610828648,63.343658547914934]),e=d([52.65837266667029,59.35045080290929]),r=d([47.19754502247785,56.12653496548117]),o=d([37.673034273363044,59.61638268506111]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([59.41110754003403,62.35069727399336]),e=d([66.75050228640794,57.11797303636038]),r=d([60.236065725110436,54.63331433818992]),o=d([52.65837313153311,59.350450804599355]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([48.81091130080243,66.93353402634641]),e=d([59.41110730654679,62.35069740653086]),r=d([52.6583728974441,59.3504509222445]),o=d([42.45755631675751,63.34365868805821]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([31.054198418446475,52.1080673766184]),e=d([39.09869284884117,49.400700047190554]),r=d([36.0580811499175,46.02944174908498]),o=d([28.690508588835726,48.433126979386415]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([33.977877745912025,55.849945501331]),e=d([42.75328432167726,52.78455122462353]),r=d([39.09869297540224,49.400700176148625]),o=d([31.05419851807008,52.10806751810923]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([52.658372900759296,59.35045068526415]),e=d([60.23606549583304,54.63331423800264]),r=d([54.6756370953122,51.892298789399455]),o=d([47.19754524788189,56.126534861222794]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([47.19754506082455,56.126534735591456]),e=d([54.675636900123514,51.892298681337095]),r=d([49.94448648951486,48.98775484983285]),o=d([42.75328468716108,52.78455126060818]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([42.75328453416769,52.78455113209101]),e=d([49.94448632339758,48.98775473706457]),r=d([45.912339990394315,45.99361784987003]),o=d([39.09869317356607,49.40070009378711]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([37.673034114296634,59.61638254183119]),e=d([47.197544835420544,56.126534839849846]),r=d([42.75328447467064,52.78455135314068]),o=d([33.977877870363905,55.849945644671145]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([44.56748486446032,57.26489367845818]),r=d([43.9335791193588,53.746540942601726]),o=d([43,56]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([37.673034114296634,59.61638254183119]),e=d([40.25902691953466,58.83002044222639]),r=d([38.458270492742024,57.26232178028002]),o=d([35.97754948030156,58.00266637992386]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},k.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},k.scale(750)},geoConicConformalNetherlands:function(){var n,t,e,r,o,i,a=Ff().rotate([-5.5,-52.2]).parallels([0,60]),u=Lf().center([-68.25,12.2]),c=Lf().center([-63.1,17.5]),s={point:function(n,t){i=[n,t]}};function f(n){const[t,a]=n;return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.0067&&o<.0015&&r>=-.0232&&r<-.0154?u:o>=-.022&&o<-.014&&r>=-.023&&r<-.014?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(n),c.scale(n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();const t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.0245*t,f-.026*t],[i+.023*t,f+.026*t]]).stream(s),r=u.translate([i-.0186*t,f-.00325*t]).clipExtent([[i-.0232*t+1e-6,f-.0067*t+1e-6],[i-.0154*t-1e-6,f+.0015*t-1e-6]]).stream(s),o=c.translate([i-.0185*t,f-.017*t]).clipExtent([[i-.023*t+1e-6,f-.022*t+1e-6],[i-.014*t-1e-6,f-.014*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return nl(f,n,t)},f.fitSize=function(n,t){return tl(f,n,t)},f.drawCompositionBorders=function(n){var t=a([3.30573,52.5562]),e=a([4.043,52.572]),r=a([4.0646,52.1017]),o=a([3.3382,52.0861]),i=a([3.262,53.439]),u=a([4.1373,53.4571]),c=a([4.1574,52.9946]),s=a([3.2951,52.9768]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(c[0],c[1]),n.lineTo(s[0],s[1]),n.closePath()},f.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},f.scale(4200)},geoMercatorMalaysia:function(){var n,t,e,r,o,i=Lf().center([105.25,4]),a=Lf().center([118.65,2.86]),u={point:function(n,t){o=[n,t]}};function c(n){var t=n[0],i=n[1];return o=null,e.point(t,i),o||(r.point(t,i),o)}function s(){return n=t=null,c}return c.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.0521&&o<.0229&&r>=-.0111&&r<.1?a:i).invert(n)},c.stream=function(e){return n&&t===e?n:(r=[i.stream(t=e),a.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},c.precision=function(n){return arguments.length?(i.precision(n),a.precision(n),s()):i.precision()},c.scale=function(n){return arguments.length?(i.scale(n),a.scale(.615*n),c.translate(i.translate())):i.scale()},c.translate=function(n){if(!arguments.length)return i.translate();var t=i.scale(),o=+n[0],c=+n[1];return e=i.translate(n).clipExtent([[o-.11*t,c-.0521*t],[o-.0111*t,c+.0521*t]]).stream(u),r=a.translate([o+.09*t,c-0*t]).clipExtent([[o-.0111*t+1e-6,c-.0521*t+1e-6],[o+.1*t-1e-6,c+.024*t-1e-6]]).stream(u),s()},c.fitExtent=function(n,t){return nl(c,n,t)},c.fitSize=function(n,t){return tl(c,n,t)},c.drawCompositionBorders=function(n){var t=i([106.3214,2.0228]),e=i([105.1843,2.3761]),r=i([104.2151,3.3618]),o=i([104.215,4.5651]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1])},c.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},c.scale(4800)},geoMercatorEquatorialGuinea:function(){var n,t,e,r,o,i,a=Lf().rotate([-9.5,-1.5]),u=Lf().rotate([-8.6,-3.5]),c=Lf().rotate([-5.6,1.45]),s={point:function(n,t){i=[n,t]}};function f(n){var t=n[0],a=n[1];return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.02&&o<0&&r>=-.038&&r<-.005?u:o>=0&&o<.02&&r>=-.038&&r<-.005?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(1.5*n),c.scale(4*n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.005*t,f-.02*t],[i+.038*t,f+.02*t]]).stream(s),r=u.translate([i-.025*t,f-.01*t]).clipExtent([[i-.038*t+1e-6,f-.02*t+1e-6],[i-.005*t-1e-6,f+0*t-1e-6]]).stream(s),o=c.translate([i-.025*t,f+.01*t]).clipExtent([[i-.038*t+1e-6,f-0*t+1e-6],[i-.005*t-1e-6,f+.02*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return nl(f,n,t)},f.fitSize=function(n,t){return tl(f,n,t)},f.drawCompositionBorders=function(n){var t,e,r,o;t=a([9.21327272751682,2.645820439454123]),e=a([11.679126293239872,2.644755519268689]),r=a([11.676845389029227,.35307824637606433]),o=a([9.213572917774014,.35414205204417754]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=a([7.320873711543669,2.64475551449975]),e=a([9.213272722738658,2.645820434679803]),r=a([9.213422896480349,1.4999812505283054]),o=a([7.322014760520787,1.4989168878985566]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=a([7.3220147605302905,1.4989168783492766]),e=a([9.213422896481598,1.499981240979021]),r=a([9.213572912999604,.354142056817247]),o=a([7.323154615739809,.353078251154504]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},f.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},f.scale(12e3)},geoAlbersUk:function(){var n,t,e,r,o,i=If().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),a=If().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),u={point:function(n,t){o=[n,t]}};function c(n){var t=n[0],i=n[1];return o=null,e.point(t,i),o||(r.point(t,i),o)}function s(){return n=t=null,c}return c.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.089&&o<.06&&r>=.029&&r<.046?a:i).invert(n)},c.stream=function(e){return n&&t===e?n:(r=[i.stream(t=e),a.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},c.precision=function(n){return arguments.length?(i.precision(n),a.precision(n),s()):i.precision()},c.scale=function(n){return arguments.length?(i.scale(n),a.scale(n),c.translate(i.translate())):i.scale()},c.translate=function(n){if(!arguments.length)return i.translate();var t=i.scale(),o=+n[0],c=+n[1];return e=i.translate(n).clipExtent([[o-.065*t,c-.089*t],[o+.075*t,c+.089*t]]).stream(u),r=a.translate([o+.01*t,c+.025*t]).clipExtent([[o+.029*t+1e-6,c-.089*t+1e-6],[o+.046*t-1e-6,c-.06*t-1e-6]]).stream(u),s()},c.fitExtent=function(n,t){return nl(c,n,t)},c.fitSize=function(n,t){return tl(c,n,t)},c.drawCompositionBorders=function(n){var t,e,r,o;t=i([-1.113205870242365,59.64920050773357]),e=i([.807899092399606,59.59085836472269]),r=i([.5778611961420386,57.93467822832577]),o=i([-1.25867782078448,57.99029450085142]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},c.getCompositionBorders=function(){var n=al();return this.drawCompositionBorders(n),n.toString()},c.scale(2800)}}));Object.defineProperty(vs,"__esModule",{value:!0});var cl=ct.exports,sl=st,fl=cl.__importStar(Ai),ll=cl.__importStar(us),hl=cl.__importStar(ul);vs.default=function(n,t){if(void 0===t&&(t=!1),sl.isFunction(n))return t?n:n();if(sl.isString(n)){if(fl[n])return t?fl[n]:fl[n]();if(ll[n])return t?ll[n]:ll[n]();if(hl[n])return t?hl[n]:hl[n]()}return null},Object.defineProperty({},"__esModule",{value:!0});var pl=st,vl=Ai,dl=us,gl=cs,yl=ct.exports.__importDefault(vs),ml={geoArea:function(n){return vl.geoArea(n)},geoAreaByName:function(n){return vl.geoArea(this.geoFeatureByName(n))},geoCentroid:function(n){return vl.geoCentroid(n)},geoCentroidByName:function(n){return vl.geoCentroid(this.geoFeatureByName(n))},geoDistance:function(n,t){return vl.geoDistance(n,t)},geoLength:function(n){return vl.geoLength(n)},geoLengthByName:function(n){return vl.geoLength(this.geoFeatureByName(n))},geoContains:function(n,t){return vl.geoContains(n,t)},geoFeatureByName:function(n){var t;return this.rows.some((function(e){return e.name===n&&(t=e,!0)})),t},geoFeatureByPosition:function(n){var t;return this.rows.some((function(e){return!!vl.geoContains(e,n)&&(t=e,!0)})),t},geoNameByPosition:function(n){var t=this.geoFeatureByPosition(n);if(t)return t.name},getGeoProjection:yl.default,geoProject:function(n,t,e){return t=yl.default(t,e),dl.geoProject(n,t)},geoProjectByName:function(n,t,e){return t=yl.default(t,e),dl.geoProject(this.geoFeatureByName(n),t)},geoProjectPosition:function(n,t,e){return yl.default(t,e)(n)},geoProjectInvert:function(n,t,e){return yl.default(t,e).invert(n)}};pl.assign(gl.View.prototype,ml);Object.defineProperty({},"__esModule",{value:!0});var wl=st,_l=cs;wl.assign(_l.View.prototype,{getAllNodes:function(){var n=[],t=this.root;return t&&t.each?t.each((function(t){n.push(t)})):t&&t.eachNode&&t.eachNode((function(t){n.push(t)})),n},getAllLinks:function(){for(var n,t=[],e=[this.root];n=e.pop();){var r=n.children;r&&r.forEach((function(r){t.push({source:n,target:r}),e.push(r)}))}return t}}),wl.assign(_l.View.prototype,{getAllEdges:_l.View.prototype.getAllLinks});var bl={},xl={};Object.defineProperty(xl,"__esModule",{value:!0});var El=st;xl.default=function(n,t){void 0===t&&(t=[]);var e=void 0;return El.isFunction(t)?e=t:El.isArray(t)?e=function(n,e){for(var r=0;r<t.length;r++){var o=t[r];if(n[o]<e[o])return-1;if(n[o]>e[o])return 1}return 0}:El.isString(t)&&(e=function(n,e){return n[t]<e[t]?-1:n[t]>e[t]?1:0}),n.sort(e)},Object.defineProperty(bl,"__esModule",{value:!0});var Sl=st,Ml=ct.exports.__importDefault(xl);bl.default=function(n,t,e){void 0===e&&(e=[]);var r,o=n;return e&&e.length&&(o=Ml.default(n,e)),Sl.isFunction(t)?r=t:Sl.isArray(t)?r=function(n){return"_"+t.map((function(t){return n[t]})).join("-")}:Sl.isString(t)&&(r=function(n){return"_"+n[t]}),Sl.groupBy(o,r)},Object.defineProperty({},"__esModule",{value:!0});var Tl=st,jl=ct.exports.__importDefault(bl),kl=cs;Tl.assign(kl.View.prototype,{partition:function(n,t){return void 0===t&&(t=[]),jl.default(this.rows,n,t)},group:function(n,t){void 0===t&&(t=[]);var e=this.partition(n,t);return Tl.values(e)},groups:function(n,t){return void 0===t&&(t=[]),this.group(n,t)}});function Cl(n){if(0===n.length)return 0;for(var t,e=n[0],r=0,o=1;o<n.length;o++)t=e+n[o],Math.abs(e)>=Math.abs(n[o])?r+=e-t+n[o]:r+=n[o]-t+e,e=t;return e+r}function Pl(n){if(0===n.length)throw new Error("mean requires at least one data point");return Cl(n)/n.length}function Ol(n,t){var e,r,o=Pl(n),i=0;if(2===t)for(r=0;r<n.length;r++)i+=(e=n[r]-o)*e;else for(r=0;r<n.length;r++)i+=Math.pow(n[r]-o,t);return i}function Nl(n){if(0===n.length)throw new Error("variance requires at least one data point");return Ol(n,2)/n.length}function Al(n){if(1===n.length)return 0;var t=Nl(n);return Math.sqrt(t)}function Rl(n){if(0===n.length)throw new Error("mode requires at least one data point");if(1===n.length)return n[0];for(var t=n[0],e=NaN,r=0,o=1,i=1;i<n.length+1;i++)n[i]!==t?(o>r&&(r=o,e=t),o=1,t=n[i]):o++;return e}function Il(n){return n.slice().sort((function(n,t){return n-t}))}function Dl(n){if(0===n.length)throw new Error("min requires at least one data point");for(var t=n[0],e=1;e<n.length;e++)n[e]<t&&(t=n[e]);return t}function Ll(n){if(0===n.length)throw new Error("max requires at least one data point");for(var t=n[0],e=1;e<n.length;e++)n[e]>t&&(t=n[e]);return t}function Bl(n,t){var e=n.length*t;if(0===n.length)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return 1===t?n[n.length-1]:0===t?n[0]:e%1!=0?n[Math.ceil(e)-1]:n.length%2==0?(n[e-1]+n[e])/2:n[e]}function zl(n,t,e,r){for(e=e||0,r=r||n.length-1;r>e;){if(r-e>600){var o=r-e+1,i=t-e+1,a=Math.log(o),u=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*u*(o-u)/o);i-o/2<0&&(c*=-1),zl(n,t,Math.max(e,Math.floor(t-i*u/o+c)),Math.min(r,Math.floor(t+(o-i)*u/o+c)))}var s=n[t],f=e,l=r;for(ql(n,e,t),n[r]>s&&ql(n,e,r);f<l;){for(ql(n,f,l),f++,l--;n[f]<s;)f++;for(;n[l]>s;)l--}n[e]===s?ql(n,e,l):ql(n,++l,r),l<=t&&(e=l+1),t<=l&&(r=l-1)}}function ql(n,t,e){var r=n[t];n[t]=n[e],n[e]=r}function Fl(n,t){var e=n.slice();if(Array.isArray(t)){!function(n,t){for(var e=[0],r=0;r<t.length;r++)e.push(Hl(n.length,t[r]));e.push(n.length-1),e.sort(Vl);for(var o=[0,e.length-1];o.length;){var i=Math.ceil(o.pop()),a=Math.floor(o.pop());if(!(i-a<=1)){var u=Math.floor((a+i)/2);Gl(n,e[u],Math.floor(e[a]),Math.ceil(e[i])),o.push(a,u,u,i)}}}(e,t);for(var r=[],o=0;o<t.length;o++)r[o]=Bl(e,t[o]);return r}return Gl(e,Hl(e.length,t),0,e.length-1),Bl(e,t)}function Gl(n,t,e,r){t%1==0?zl(n,t,e,r):(zl(n,t=Math.floor(t),e,r),zl(n,t+1,t+1,r))}function Vl(n,t){return n-t}function Hl(n,t){var e=n*t;return 1===t?n-1:0===t?0:e%1!=0?Math.ceil(e)-1:n%2==0?e-.5:e}function Ul(n,t){if(t<n[0])return 0;if(t>n[n.length-1])return 1;var e=function(n,t){for(var e=0,r=0,o=n.length;r<o;)t<=n[e=r+o>>>1]?o=e:r=-~e;return r}(n,t);if(n[e]!==t)return e/n.length;e++;var r=function(n,t){for(var e=0,r=0,o=n.length;r<o;)t>=n[e=r+o>>>1]?r=-~e:o=e;return r}(n,t);if(r===e)return e/n.length;var o=r-e+1;return o*(r+e)/2/o/n.length}function Wl(n){var t=Fl(n,.75),e=Fl(n,.25);if("number"==typeof t&&"number"==typeof e)return t-e}function Yl(n){return+Fl(n,.5)}function $l(n){for(var t=Yl(n),e=[],r=0;r<n.length;r++)e.push(Math.abs(n[r]-t));return Yl(e)}function Jl(n,t){t=t||Math.random;for(var e,r,o=n.length;o>0;)r=Math.floor(t()*o--),e=n[o],n[o]=n[r],n[r]=e;return n}function Xl(n,t){return Jl(n.slice().slice(),t)}function Ql(n){for(var t,e=0,r=0;r<n.length;r++)0!==r&&n[r]===t||(t=n[r],e++);return e}function Kl(n,t){for(var e=[],r=0;r<n;r++){for(var o=[],i=0;i<t;i++)o.push(0);e.push(o)}return e}function Zl(n,t,e,r){var o;if(n>0){var i=(e[t]-e[n-1])/(t-n+1);o=r[t]-r[n-1]-(t-n+1)*i*i}else o=r[t]-e[t]*e[t]/(t+1);return o<0?0:o}function nh(n,t,e,r,o,i,a){if(!(n>t)){var u=Math.floor((n+t)/2);r[e][u]=r[e-1][u-1],o[e][u]=u;var c=e;n>e&&(c=Math.max(c,o[e][n-1]||0)),c=Math.max(c,o[e-1][u]||0);var s,f,l,h=u-1;t<r.length-1&&(h=Math.min(h,o[e][t+1]||0));for(var p=h;p>=c&&!((s=Zl(p,u,i,a))+r[e-1][c-1]>=r[e][u]);--p)(f=Zl(c,u,i,a)+r[e-1][c-1])<r[e][u]&&(r[e][u]=f,o[e][u]=c),c++,(l=s+r[e-1][p-1])<r[e][u]&&(r[e][u]=l,o[e][u]=p);nh(n,u-1,e,r,o,i,a),nh(u+1,t,e,r,o,i,a)}}function th(n,t){if(n.length!==t.length)throw new Error("sampleCovariance requires samples with equal lengths");if(n.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var e=Pl(n),r=Pl(t),o=0,i=0;i<n.length;i++)o+=(n[i]-e)*(t[i]-r);return o/(n.length-1)}function eh(n){if(n.length<2)throw new Error("sampleVariance requires at least two data points");return Ol(n,2)/(n.length-1)}function rh(n){var t=eh(n);return Math.sqrt(t)}function oh(n,t,e,r){return(n*t+e*r)/(t+r)}function ih(n){if(0===n.length)throw new Error("rootMeanSquare requires at least one data point");for(var t=0,e=0;e<n.length;e++)t+=Math.pow(n[e],2);return Math.sqrt(t/n.length)}function ah(){this.totalCount=0,this.data={}}function uh(){this.weights=[],this.bias=0}ah.prototype.train=function(n,t){for(var e in this.data[t]||(this.data[t]={}),n){var r=n[e];void 0===this.data[t][e]&&(this.data[t][e]={}),void 0===this.data[t][e][r]&&(this.data[t][e][r]=0),this.data[t][e][r]++}this.totalCount++},ah.prototype.score=function(n){var t,e={};for(var r in n){var o=n[r];for(t in this.data)e[t]={},e[t][r+"_"+o]=this.data[t][r]?(this.data[t][r][o]||0)/this.totalCount:0}var i={};for(t in e)for(var a in i[t]=0,e[t])i[t]+=e[t][a];return i},uh.prototype.predict=function(n){if(n.length!==this.weights.length)return null;for(var t=0,e=0;e<this.weights.length;e++)t+=this.weights[e]*n[e];return(t+=this.bias)>0?1:0},uh.prototype.train=function(n,t){if(0!==t&&1!==t)return null;n.length!==this.weights.length&&(this.weights=n,this.bias=1);var e=this.predict(n);if(e!==t){for(var r=t-e,o=0;o<this.weights.length;o++)this.weights[o]+=r*n[o];this.bias+=r}return this};var ch=1e-4;function sh(n){if(n<0)throw new Error("factorial requires a non-negative value");if(Math.floor(n)!==n)throw new Error("factorial requires an integer input");for(var t=1,e=2;e<=n;e++)t*=e;return t}var fh=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],lh=Math.log(Math.sqrt(2*Math.PI));var hh={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};var ph=Math.sqrt(2*Math.PI),vh={gaussian:function(n){return Math.exp(-.5*n*n)/ph}},dh={nrd:function(n){var t=rh(n),e=Wl(n);return"number"==typeof e&&(t=Math.min(t,e/1.34)),1.06*t*Math.pow(n.length,-.2)}};function gh(n,t,e){var r,o;if(void 0===t)r=vh.gaussian;else if("string"==typeof t){if(!vh[t])throw new Error('Unknown kernel "'+t+'"');r=vh[t]}else r=t;if(void 0===e)o=dh.nrd(n);else if("string"==typeof e){if(!dh[e])throw new Error('Unknown bandwidth method "'+e+'"');o=dh[e](n)}else o=e;return function(t){var e=0,i=0;for(e=0;e<n.length;e++)i+=r((t-n[e])/o);return i/o/n.length}}var yh=Math.sqrt(2*Math.PI);function mh(n){for(var t=n,e=n,r=1;r<15;r++)t+=e*=n*n/(2*r+1);return Math.round(1e4*(.5+t/yh*Math.exp(-n*n/2)))/1e4}for(var wh=[],_h=0;_h<=3.09;_h+=.01)wh.push(mh(_h));function bh(n){var t=1/(1+.5*Math.abs(n)),e=t*Math.exp(-Math.pow(n,2)-1.26551223+1.00002368*t+.37409196*Math.pow(t,2)+.09678418*Math.pow(t,3)-.18628806*Math.pow(t,4)+.27886807*Math.pow(t,5)-1.13520398*Math.pow(t,6)+1.48851587*Math.pow(t,7)-.82215223*Math.pow(t,8)+.17087277*Math.pow(t,9));return n>=0?1-e:e-1}function xh(n){var t=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),e=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*t)+Math.log(1-n*n)/2,2)-Math.log(1-n*n)/t)-(2/(Math.PI*t)+Math.log(1-n*n)/2));return n>=0?e:-e}function Eh(n){if("number"==typeof n)return n<0?-1:0===n?0:1;throw new TypeError("not a number")}var Sh=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",linearRegression:function(n){var t,e,r=n.length;if(1===r)t=0,e=n[0][1];else{for(var o,i,a,u=0,c=0,s=0,f=0,l=0;l<r;l++)u+=i=(o=n[l])[0],c+=a=o[1],s+=i*i,f+=i*a;e=c/r-(t=(r*f-u*c)/(r*s-u*u))*u/r}return{m:t,b:e}},linearRegressionLine:function(n){return function(t){return n.b+n.m*t}},standardDeviation:Al,rSquared:function(n,t){if(n.length<2)return 1;for(var e=0,r=0;r<n.length;r++)e+=n[r][1];for(var o=e/n.length,i=0,a=0;a<n.length;a++)i+=Math.pow(o-n[a][1],2);for(var u=0,c=0;c<n.length;c++)u+=Math.pow(n[c][1]-t(n[c][0]),2);return 1-u/i},mode:function(n){return Rl(Il(n))},modeFast:function(n){for(var t,e=new Map,r=0,o=0;o<n.length;o++){var i=e.get(n[o]);void 0===i?i=1:i++,i>r&&(t=n[o],r=i),e.set(n[o],i)}if(0===r)throw new Error("mode requires at last one data point");return t},modeSorted:Rl,min:Dl,max:Ll,extent:function(n){if(0===n.length)throw new Error("extent requires at least one data point");for(var t=n[0],e=n[0],r=1;r<n.length;r++)n[r]>e&&(e=n[r]),n[r]<t&&(t=n[r]);return[t,e]},minSorted:function(n){return n[0]},maxSorted:function(n){return n[n.length-1]},extentSorted:function(n){return[n[0],n[n.length-1]]},sum:Cl,sumSimple:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e];return t},product:function(n){for(var t=1,e=0;e<n.length;e++)t*=n[e];return t},quantile:Fl,quantileSorted:Bl,quantileRank:function(n,t){return Ul(Il(n),t)},quantileRankSorted:Ul,interquartileRange:Wl,iqr:Wl,medianAbsoluteDeviation:$l,mad:$l,chunk:function(n,t){var e=[];if(t<1)throw new Error("chunk size must be a positive number");if(Math.floor(t)!==t)throw new Error("chunk size must be an integer");for(var r=0;r<n.length;r+=t)e.push(n.slice(r,r+t));return e},sampleWithReplacement:function(n,t,e){if(0===n.length)return[];e=e||Math.random;for(var r=n.length,o=[],i=0;i<t;i++){var a=Math.floor(e()*r);o.push(n[a])}return o},shuffle:Xl,shuffleInPlace:Jl,sample:function(n,t,e){return Xl(n,e).slice(0,t)},ckmeans:function(n,t){if(t>n.length)throw new Error("cannot generate more classes than there are data values");var e=Il(n);if(1===Ql(e))return[e];var r=Kl(t,e.length),o=Kl(t,e.length);!function(n,t,e){for(var r=t[0].length,o=n[Math.floor(r/2)],i=[],a=[],u=0,c=void 0;u<r;++u)c=n[u]-o,0===u?(i.push(c),a.push(c*c)):(i.push(i[u-1]+c),a.push(a[u-1]+c*c)),t[0][u]=Zl(0,u,i,a),e[0][u]=0;for(var s=1;s<t.length;++s)nh(s<t.length-1?s:r-1,r-1,s,t,e,i,a)}(e,r,o);for(var i=[],a=o[0].length-1,u=o.length-1;u>=0;u--){var c=o[u][a];i[u]=e.slice(c,a+1),u>0&&(a=c-1)}return i},uniqueCountSorted:Ql,sumNthPowerDeviations:Ol,equalIntervalBreaks:function(n,t){if(n.length<2)return n;for(var e=Dl(n),r=Ll(n),o=[e],i=(r-e)/t,a=1;a<t;a++)o.push(o[0]+i*a);return o.push(r),o},sampleCovariance:th,sampleCorrelation:function(n,t){return th(n,t)/rh(n)/rh(t)},sampleVariance:eh,sampleStandardDeviation:rh,sampleSkewness:function(n){if(n.length<3)throw new Error("sampleSkewness requires at least three data points");for(var t,e=Pl(n),r=0,o=0,i=0;i<n.length;i++)r+=(t=n[i]-e)*t,o+=t*t*t;var a=Math.sqrt(r/(n.length-1)),u=n.length;return u*o/((u-1)*(u-2)*Math.pow(a,3))},sampleKurtosis:function(n){var t=n.length;if(t<4)throw new Error("sampleKurtosis requires at least four data points");for(var e,r=Pl(n),o=0,i=0,a=0;a<t;a++)o+=(e=n[a]-r)*e,i+=e*e*e*e;return(t-1)/((t-2)*(t-3))*(t*(t+1)*i/(o*o)-3*(t-1))},permutationsHeap:function(n){for(var t=new Array(n.length),e=[n.slice()],r=0;r<n.length;r++)t[r]=0;for(var o=0;o<n.length;)if(t[o]<o){var i=0;o%2!=0&&(i=t[o]);var a=n[i];n[i]=n[o],n[o]=a,e.push(n.slice()),t[o]++,o=0}else t[o]=0,o++;return e},combinations:function n(t,e){var r,o,i,a,u=[];for(r=0;r<t.length;r++)if(1===e)u.push([t[r]]);else for(i=n(t.slice(r+1,t.length),e-1),o=0;o<i.length;o++)(a=i[o]).unshift(t[r]),u.push(a);return u},combinationsReplacement:function n(t,e){for(var r=[],o=0;o<t.length;o++)if(1===e)r.push([t[o]]);else for(var i=n(t.slice(o,t.length),e-1),a=0;a<i.length;a++)r.push([t[o]].concat(i[a]));return r},addToMean:function(n,t,e){return n+(e-n)/(t+1)},combineMeans:oh,combineVariances:function(n,t,e,r,o,i){var a=oh(t,e,o,i);return(e*(n+Math.pow(t-a,2))+i*(r+Math.pow(o-a,2)))/(e+i)},geometricMean:function(n){if(0===n.length)throw new Error("geometricMean requires at least one data point");for(var t=1,e=0;e<n.length;e++){if(n[e]<=0)throw new Error("geometricMean requires only positive numbers as input");t*=n[e]}return Math.pow(t,1/n.length)},harmonicMean:function(n){if(0===n.length)throw new Error("harmonicMean requires at least one data point");for(var t=0,e=0;e<n.length;e++){if(n[e]<=0)throw new Error("harmonicMean requires only positive numbers as input");t+=1/n[e]}return n.length/t},average:Pl,mean:Pl,median:Yl,medianSorted:function(n){return Bl(n,.5)},subtractFromMean:function(n,t,e){return(n*t-e)/(t-1)},rootMeanSquare:ih,rms:ih,variance:Nl,tTest:function(n,t){return(Pl(n)-t)/(Al(n)/Math.sqrt(n.length))},tTestTwoSample:function(n,t,e){var r=n.length,o=t.length;if(!r||!o)return null;e||(e=0);var i=Pl(n),a=Pl(t),u=eh(n),c=eh(t);return"number"==typeof i&&"number"==typeof a&&"number"==typeof u&&"number"==typeof c?(i-a-e)/Math.sqrt(((r-1)*u+(o-1)*c)/(r+o-2)*(1/r+1/o)):void 0},BayesianClassifier:ah,bayesian:ah,PerceptronModel:uh,perceptron:uh,epsilon:ch,factorial:sh,gamma:function n(t){if("number"==typeof(e=t)&&isFinite(e)&&Math.floor(e)===e)return t<=0?NaN:sh(t-1);var e;if(--t<0)return Math.PI/(Math.sin(Math.PI*-t)*n(-t));var r=t+.25;return Math.pow(t/Math.E,t)*Math.sqrt(2*Math.PI*(t+1/6))*(1+1/144/Math.pow(r,2)-1/12960/Math.pow(r,3)-257/207360/Math.pow(r,4)-52/2612736/Math.pow(r,5)+5741173/9405849600/Math.pow(r,6)+37529/18811699200/Math.pow(r,7))},gammaln:function(n){if(n<=0)return 1/0;n--;for(var t=fh[0],e=1;e<15;e++)t+=fh[e]/(n+e);var r=5.2421875+n;return lh+Math.log(t)-r+(n+.5)*Math.log(r)},bernoulliDistribution:function(n){if(n<0||n>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-n,n]},binomialDistribution:function(n,t){if(!(t<0||t>1||n<=0||n%1!=0)){var e=0,r=0,o=[],i=1;do{o[e]=i*Math.pow(t,e)*Math.pow(1-t,n-e),r+=o[e],i=i*(n-++e+1)/e}while(r<1-ch);return o}},poissonDistribution:function(n){if(!(n<=0)){var t=0,e=0,r=[],o=1;do{r[t]=Math.exp(-n)*Math.pow(n,t)/o,e+=r[t],o*=++t}while(e<1-ch);return r}},chiSquaredDistributionTable:hh,chiSquaredGoodnessOfFit:function(n,t,e){for(var r=0,o=t(Pl(n)),i=[],a=[],u=0;u<n.length;u++)void 0===i[n[u]]&&(i[n[u]]=0),i[n[u]]++;for(var c=0;c<i.length;c++)void 0===i[c]&&(i[c]=0);for(var s in o)s in i&&(a[+s]=o[s]*n.length);for(var f=a.length-1;f>=0;f--)a[f]<3&&(a[f-1]+=a[f],a.pop(),i[f-1]+=i[f],i.pop());for(var l=0;l<i.length;l++)r+=Math.pow(i[l]-a[l],2)/a[l];return hh[i.length-1-1][e]<r},kernelDensityEstimation:gh,kde:gh,zScore:function(n,t,e){return(n-t)/e},cumulativeStdNormalProbability:function(n){var t=Math.abs(n),e=Math.min(Math.round(100*t),wh.length-1);return n>=0?wh[e]:+(1-wh[e]).toFixed(4)},get standardNormalTable(){return wh},errorFunction:bh,erf:bh,inverseErrorFunction:xh,probit:function(n){return 0===n?n=ch:n>=1&&(n=1-ch),Math.sqrt(2)*xh(2*n-1)},permutationTest:function(n,t,e,r){if(void 0===r&&(r=1e4),void 0===e&&(e="two_side"),"two_side"!==e&&"greater"!==e&&"less"!==e)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var o=Pl(n)-Pl(t),i=new Array(r),a=n.concat(t),u=Math.floor(a.length/2),c=0;c<r;c++){Jl(a);var s=a.slice(0,u),f=a.slice(u,a.length),l=Pl(s)-Pl(f);i[c]=l}var h=0;if("two_side"===e)for(var p=0;p<=r;p++)Math.abs(i[p])>=Math.abs(o)&&(h+=1);else if("greater"===e)for(var v=0;v<=r;v++)i[v]>=o&&(h+=1);else for(var d=0;d<=r;d++)i[d]<=o&&(h+=1);return h/r},bisect:function(n,t,e,r,o){if("function"!=typeof n)throw new TypeError("func must be a function");for(var i=0;i<r;i++){var a=(t+e)/2;if(0===n(a)||Math.abs((e-t)/2)<o)return a;Eh(n(a))===Eh(n(t))?t=a:e=a}throw new Error("maximum number of iterations exceeded")},quickselect:zl,sign:Eh,numericSort:Il})),Mh={};Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.default=function(n){for(var t=1/n,e=[],r=0;r<=1;r+=t)e.push(r);return e};var Th={};Object.defineProperty(Th,"__esModule",{value:!0}),Th.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]},Object.defineProperty({},"__esModule",{value:!0});var jh=ct.exports,kh=jh.__importStar(Sh),Ch=st,Ph=cs,Oh=jh.__importDefault(Mh);function Nh(n,t){var e=n.getColumn(t);return Ch.isArray(e)&&Ch.isArray(e[0])&&(e=Ch.flattenDeep(e)),e}jh.__importDefault(Th).default.STATISTICS_METHODS.forEach((function(n){Ph.View.prototype[n]=function(t){return kh[n](Nh(this,t))}}));var Ah=kh.quantile;Ch.assign(Ph.View.prototype,{average:Ph.View.prototype.mean,quantile:function(n,t){return Ah(Nh(this,n),t)},quantiles:function(n,t){var e=Nh(this,n);return t.map((function(n){return Ah(e,n)}))},quantilesByFraction:function(n,t){return this.quantiles(n,Oh.default(t))},range:function(n){return[this.min(n),this.max(n)]},extent:function(n){return this.range(n)}});var Rh={};Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.DataSet=void 0;var Ih=ct.exports,Dh=st,Lh=Ih.__importDefault(ss.exports),Bh=cs,zh=Ih.__importDefault(Th),qh=function(n){function t(t){void 0===t&&(t={state:{}});var e=n.call(this)||this;return e.isDataSet=!0,e._onChangeTimer=null,e.views={},e.state={},e.state=t.state,e}return Ih.__extends(t,n),t.registerConnector=function(n,e){t.connectors[n]=e},t.getConnector=function(n){return t.connectors[n]||t.connectors.default},t.registerTransform=function(n,e){t.transforms[n]=e},t.getTransform=function(n){return t.transforms[n]||t.transforms.default},t.prototype._getUniqueViewName=function(){for(var n=Dh.uniqueId("view_");this.views[n];)n=Dh.uniqueId("view_");return n},t.prototype.createView=function(n,t){if(Dh.isNil(n)&&(n=this._getUniqueViewName()),Dh.isObject(n)&&(t=n,n=this._getUniqueViewName()),this.views[n])throw new Error("data view exists: "+n);var e=new Bh.View(this,t);return this.views[n]=e,e},t.prototype.getView=function(n){return this.views[n]},t.prototype.setView=function(n,t){this.views[n]=t},t.prototype.setState=function(n,t){var e=this;this.state[n]=t,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout((function(){e.emit("statechange",n,t)}),16)},t.CONSTANTS=zh.default,t.connectors={},t.transforms={},t.DataSet=t,t.DataView=Bh.View,t.View=Bh.View,t.version="____DATASET_VERSION____",t}(Lh.default);Rh.DataSet=qh,Dh.assign(qh,zh.default),Dh.assign(qh.prototype,{view:qh.prototype.createView}),Bh.View.DataSet=qh,Object.defineProperty({},"__esModule",{value:!0});var Fh=st;Rh.DataSet.registerConnector("default",(function(n,t){var e;if(!(e=Fh.isString(n)?t.getView(n):n))throw new TypeError("Invalid dataView");return Fh.deepMix([],e.rows)}));var Gh={},Vh={};function Hh(n){return new Function("d","return {"+n.map((function(n,t){return JSON.stringify(n)+": d["+t+'] || ""'})).join(",")+"}")}function Uh(n){var t=Object.create(null),e=[];return n.forEach((function(n){for(var r in n)r in t||e.push(t[r]=r)})),e}function Wh(n,t){var e=n+"",r=e.length;return r<t?new Array(t-r+1).join(0)+e:e}function Yh(n){var t,e=n.getUTCHours(),r=n.getUTCMinutes(),o=n.getUTCSeconds(),i=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":((t=n.getUTCFullYear())<0?"-"+Wh(-t,6):t>9999?"+"+Wh(t,6):Wh(t,4))+"-"+Wh(n.getUTCMonth()+1,2)+"-"+Wh(n.getUTCDate(),2)+(i?"T"+Wh(e,2)+":"+Wh(r,2)+":"+Wh(o,2)+"."+Wh(i,3)+"Z":o?"T"+Wh(e,2)+":"+Wh(r,2)+":"+Wh(o,2)+"Z":r||e?"T"+Wh(e,2)+":"+Wh(r,2)+"Z":"")}function $h(n){var t=new RegExp('["'+n+"\n\r]"),e=n.charCodeAt(0);function r(n,t){var r,o=[],i=n.length,a=0,u=0,c=i<=0,s=!1;function f(){if(c)return Vh;if(s)return s=!1,Gh;var t,r,o=a;if(34===n.charCodeAt(o)){for(;a++<i&&34!==n.charCodeAt(a)||34===n.charCodeAt(++a););return(t=a)>=i?c=!0:10===(r=n.charCodeAt(a++))?s=!0:13===r&&(s=!0,10===n.charCodeAt(a)&&++a),n.slice(o+1,t-1).replace(/""/g,'"')}for(;a<i;){if(10===(r=n.charCodeAt(t=a++)))s=!0;else if(13===r)s=!0,10===n.charCodeAt(a)&&++a;else if(r!==e)continue;return n.slice(o,t)}return c=!0,n.slice(o,i)}for(10===n.charCodeAt(i-1)&&--i,13===n.charCodeAt(i-1)&&--i;(r=f())!==Vh;){for(var l=[];r!==Gh&&r!==Vh;)l.push(r),r=f();t&&null==(l=t(l,u++))||o.push(l)}return o}function o(t,e){return t.map((function(t){return e.map((function(n){return a(t[n])})).join(n)}))}function i(t){return t.map(a).join(n)}function a(n){return null==n?"":n instanceof Date?Yh(n):t.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:function(n,t){var e,o,i=r(n,(function(n,r){if(e)return e(n,r-1);o=n,e=t?function(n,t){var e=Hh(n);return function(r,o){return t(e(r),o,n)}}(n,t):Hh(n)}));return i.columns=o||[],i},parseRows:r,format:function(t,e){return null==e&&(e=Uh(t)),[e.map(a).join(n)].concat(o(t,e)).join("\n")},formatBody:function(n,t){return null==t&&(t=Uh(n)),o(n,t).join("\n")},formatRows:function(n){return n.map(i).join("\n")},formatRow:i,formatValue:a}}var Jh=$h(","),Xh=Jh.parse,Qh=Jh.parseRows,Kh=Jh.format,Zh=Jh.formatBody,np=Jh.formatRows,tp=Jh.formatRow,ep=Jh.formatValue,rp=$h("\t"),op=rp.parse,ip=rp.parseRows,ap=rp.format,up=rp.formatBody,cp=rp.formatRows,sp=rp.formatRow,fp=rp.formatValue;var lp=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),hp=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dsvFormat:$h,csvParse:Xh,csvParseRows:Qh,csvFormat:Kh,csvFormatBody:Zh,csvFormatRows:np,csvFormatRow:tp,csvFormatValue:ep,tsvParse:op,tsvParseRows:ip,tsvFormat:ap,tsvFormatBody:up,tsvFormatRows:cp,tsvFormatRow:sp,tsvFormatValue:fp,autoType:function(n){for(var t in n){var e,r,o=n[t].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(e=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;lp&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=e;else o=null;n[t]=o}return n}}));Object.defineProperty({},"__esModule",{value:!0});var pp=st,vp=hp,dp=Rh;dp.DataSet.registerConnector("dsv",(function(n,t){void 0===t&&(t={});var e=t.delimiter||",";if(!pp.isString(e))throw new TypeError("Invalid delimiter: must be a string!");return vp.dsvFormat(e).parse(n)})),dp.DataSet.registerConnector("csv",(function(n){return vp.csvParse(n)})),dp.DataSet.registerConnector("tsv",(function(n){return vp.tsvParse(n)}));var gp={};Object.defineProperty(gp,"__esModule",{value:!0});var yp=Ai,mp=Rh;function wp(n,t){t.dataType="geo-graticule";var e=yp.geoGraticule().lines();return e.map((function(n,t){return n.index=""+t,n})),t.rows=e,e}gp.default=wp,mp.DataSet.registerConnector("geo-graticule",wp);var _p={},bp=function(n){var t=[];return n.replace(Ep,(function(n,e,r){var o=e.toLowerCase();for(r=function(n){var t=n.match(Sp);return t?t.map(Number):[]}(r),"m"==o&&r.length>2&&(t.push([e].concat(r.splice(0,2))),o="l",e="m"==e?"l":"L");;){if(r.length==xp[o])return r.unshift(e),t.push(r);if(r.length<xp[o])throw new Error("malformed path data");t.push([e].concat(r.splice(0,xp[o])))}})),t},xp={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Ep=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var Sp=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;var Mp=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)};var Tp=bp,jp=Mp,kp=function(n){var t=0,e=0,r=0,o=0;return n.map((function(n){var i=(n=n.slice())[0],a=i.toUpperCase();if(i!=a)switch(n[0]=a,i){case"a":n[6]+=r,n[7]+=o;break;case"v":n[1]+=o;break;case"h":n[1]+=r;break;default:for(var u=1;u<n.length;)n[u++]+=r,n[u++]+=o}switch(a){case"Z":r=t,o=e;break;case"H":r=n[1];break;case"V":o=n[1];break;case"M":r=t=n[1],o=e=n[2];break;default:r=n[n.length-2],o=n[n.length-1]}return n}))},Cp=Pp;function Pp(n){if(!(this instanceof Pp))return new Pp(n);this._path=jp(n)?n:Tp(n),this._path=kp(this._path),this._path=function(n){for(var t,e=[],r=["L",0,0],o=0,i=n.length;o<i;o++){var a=n[o];switch(a[0]){case"M":r=["L",a[1],a[2]],e.push(a);break;case"Z":e.push(r);break;case"H":t=e[e.length-1]||["L",0,0],e.push(["L",a[1],t[t.length-1]]);break;case"V":t=e[e.length-1]||["L",0,0],e.push(["L",t[t.length-2],a[1]]);break;default:e.push(a)}}return e}(this._path),this._path=function(n){for(var t,e=0,r=0,o={S:{to:"C",x:3},T:{to:"Q",x:1}},i=0,a=n.length;i<a;i++){var u=n[i],c=o[u[0]];c&&(u[0]=c.to,t&&(t[0]===c.to?(e=2*t[c.x+2]-t[c.x],r=2*t[c.x+3]-t[c.x+1]):(e=t[t.length-2],r=t[t.length-1])),u.splice(1,0,e,r)),t=u}return n}(this._path)}function Op(n,t,e,r){var o=n-e,i=t-r;return Math.sqrt(o*o+i*i)}Pp.prototype.at=function(n,t){return this._walk(n,t).pos},Pp.prototype.length=function(){return this._walk(null).length},Pp.prototype._walk=function(n,t){for(var e,r,o=[0,0],i=[0,0,0],a=[0,0],u=0,c=0;c<this._path.length;c++){var s=this._path[c];if("M"===s[0]){if(o[0]=s[1],o[1]=s[2],0===n)return{length:u,pos:o}}else if("C"===s[0]){i[0]=a[0]=o[0],i[1]=a[1]=o[1],i[2]=u;for(var f=100,l=0;l<=f;l++){var h=(e=s,r=d=l/f,Math.pow(1-r,3)*a[0]+3*Math.pow(1-r,2)*r*e[1]+3*(1-r)*Math.pow(r,2)*e[3]+Math.pow(r,3)*e[5]),p=g(s,d);if(u+=Op(o[0],o[1],h,p),o[0]=h,o[1]=p,"number"==typeof n&&u>=n){var v=(u-n)/(u-i[2]);return{length:u,pos:[o[0]*(1-v)+i[0]*v,o[1]*(1-v)+i[1]*v]}}i[0]=o[0],i[1]=o[1],i[2]=u}}else if("Q"===s[0]){i[0]=a[0]=o[0],i[1]=a[1]=o[1],i[2]=u;for(f=100,l=0;l<=f;l++){var d;h=y(s,d=l/f),p=m(s,d);if(u+=Op(o[0],o[1],h,p),o[0]=h,o[1]=p,"number"==typeof n&&u>=n){v=(u-n)/(u-i[2]);return{length:u,pos:[o[0]*(1-v)+i[0]*v,o[1]*(1-v)+i[1]*v]}}i[0]=o[0],i[1]=o[1],i[2]=u}}else if("L"===s[0]){if(i[0]=o[0],i[1]=o[1],i[2]=u,u+=Op(o[0],o[1],s[1],s[2]),o[0]=s[1],o[1]=s[2],"number"==typeof n&&u>=n){v=(u-n)/(u-i[2]);return{length:u,pos:[o[0]*(1-v)+i[0]*v,o[1]*(1-v)+i[1]*v]}}i[0]=o[0],i[1]=o[1],i[2]=u}}return{length:u,pos:o};function g(n,t){return Math.pow(1-t,3)*a[1]+3*Math.pow(1-t,2)*t*n[2]+3*(1-t)*Math.pow(t,2)*n[4]+Math.pow(t,3)*n[6]}function y(n,t){return Math.pow(1-t,2)*a[0]+2*(1-t)*t*n[1]+Math.pow(t,2)*n[3]}function m(n,t){return Math.pow(1-t,2)*a[1]+2*(1-t)*t*n[2]+Math.pow(t,2)*n[4]}},Object.defineProperty(_p,"__esModule",{value:!0});var Np=ct.exports.__importDefault(Cp),Ap=st,Rp=Rh,Ip=Ai.geoPath();function Dp(n,t,e){e.dataType=Rp.DataSet.CONSTANTS.GEO;var r=Ap.deepMix([],n.features);return r.forEach((function(n){n.name=n.properties.name,n.longitude=[],n.latitude=[];var t=n.pathData=Ip(n);Np.default(t)._path.forEach((function(t){n.longitude.push(t[1]),n.latitude.push(t[2])}));var e=Ip.centroid(n);n.centroidX=e[0],n.centroidY=e[1]})),r}Rp.DataSet.registerConnector("geo",Dp),Rp.DataSet.registerConnector("geojson",Dp),Rp.DataSet.registerConnector("GeoJSON",Dp),_p.default=Dp;Object.defineProperty({},"__esModule",{value:!0});var Lp=st,Bp=Rh,zp={nodes:function(n){return n.nodes},edges:function(n){return n.edges}};function qp(n,t,e){t=Lp.assign({},zp,t),e.dataType=Bp.DataSet.CONSTANTS.GRAPH;var r=t.nodes,o=t.edges;if(r&&!Lp.isFunction(r))throw new TypeError("Invalid nodes: must be a function!");if(o&&!Lp.isFunction(o))throw new TypeError("Invalid edges: must be a function!");return e.rows=e.graph={nodes:r(n),edges:o(n)},Lp.assign(e,e.graph),e.rows}Bp.DataSet.registerConnector("graph",qp),Bp.DataSet.registerConnector("diagram",qp);var Fp={};function Gp(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Vp(n,t){var e,r,o=n.length,i=-1;if(null==t){for(;++i<o;)if(null!=(e=n[i])&&e>=e)for(r=e;++i<o;)null!=(e=n[i])&&e>r&&(r=e)}else for(;++i<o;)if(null!=(e=t(n[i],i,n))&&e>=e)for(r=e;++i<o;)null!=(e=t(n[i],i,n))&&e>r&&(r=e);return r}function Hp(n,t){var e,r,o=n.length,i=-1;if(null==t){for(;++i<o;)if(null!=(e=n[i])&&e>=e)for(r=e;++i<o;)null!=(e=n[i])&&r>e&&(r=e)}else for(;++i<o;)if(null!=(e=t(n[i],i,n))&&e>=e)for(r=e;++i<o;)null!=(e=t(n[i],i,n))&&r>e&&(r=e);return r}function Up(n,t,e,r){var o=0,i=0;switch(t){case"odd-r":i=n.rc%2==1?e:e/2,o=n.qc*e+i;break;case"even-r":i=n.rc%2==0?e:e/2,o=n.qc*e+i;break;case"odd-q":case"even-q":o=n.qc*r*1.5+r}return o}function Wp(n,t,e,r){var o=0,i=0;switch(t){case"odd-r":case"even-r":o=n.rc*r*1.5+r;break;case"odd-q":i=n.qc%2==1?e:e/2,o=n.rc*e+i;break;case"even-q":i=n.qc%2==0?e:e/2,o=n.rc*e+i}return o}!function(n){1===n.length&&(n=function(n){return function(t,e){return Gp(n(t),e)}}(n))}(Gp);var Yp=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",renderHexJSON:function(n,t,e){var r=n.layout,o=[],i=0;Object.keys(n.hexes).forEach((function(t){n.hexes[t].key=t,o.push(n.hexes[t])}));var a=Vp(o,(function(n){return+n.q})),u=Hp(o,(function(n){return+n.q})),c=Vp(o,(function(n){return+n.r})),s=Hp(o,(function(n){return+n.r})),f=a-u+1,l=c-s+1,h=(i=Hp("odd-r"===r||"even-r"===r?[t/((f+.5)*Math.sqrt(3)),e/(1.5*(l+1/3))]:[e/((l+.5)*Math.sqrt(3)),t/(1.5*(f+1/3))]))*Math.sqrt(3),p=function(n,t,e){var r=[];switch(n){case"odd-r":case"even-r":r.push({x:0,y:0-e}),r.push({x:0+.5*t,y:0-.5*e}),r.push({x:0+.5*t,y:0+.5*e}),r.push({x:0,y:0+e}),r.push({x:0-.5*t,y:0+.5*e}),r.push({x:0-.5*t,y:0-.5*e});break;case"odd-q":case"even-q":r.push({x:0-e,y:0}),r.push({x:0-.5*e,y:0-.5*t}),r.push({x:0+.5*e,y:0-.5*t}),r.push({x:0+e,y:0}),r.push({x:0+.5*e,y:0+.5*t}),r.push({x:0-.5*e,y:0+.5*t})}return r}(r,h,i),v=function(n){var t="";return n.forEach((function(n){t+=n.x+","+n.y+" "})),t.substring(0,t.length-1)}(p);return o.forEach((function(n){n.qc=n.q-u,n.rc=c-n.r,n.x=Up(n,r,h,i),n.y=Wp(n,r,h,i),n.vertices=p,n.points=v})),o},getGridForHexJSON:function(n){var t={};t.layout=n.layout,t.hexes={};var e=[];Object.keys(n.hexes).forEach((function(t){e.push(n.hexes[t])}));var r,o,i,a=Vp(e,(function(n){return+n.q})),u=Hp(e,(function(n){return+n.q})),c=Vp(e,(function(n){return+n.r})),s=Hp(e,(function(n){return+n.r}));for(r=u;r<=a;r++)for(o=s;o<=c;o++)i="Q"+r+"R"+o,t.hexes[i]={q:r,r:o};return t},getBoundaryDotsForHexJSON:function(n,t,e,r){var o=[],i=n.layout;Object.keys(n.hexes).forEach((function(t){o.push(n.hexes[t])}));var a,u=Vp(o,(function(n){return+n.q})),c=Hp(o,(function(n){return+n.q})),s=Vp(o,(function(n){return+n.r})),f=Hp(o,(function(n){return+n.r})),l=u-c+1,h=s-f+1,p=(a=Hp("odd-r"===i||"even-r"===i?[t/((l+.5)*Math.sqrt(3)),e/(1.5*(h+1/3))]:[e/((h+.5)*Math.sqrt(3)),t/(1.5*(l+1/3))]))*Math.sqrt(3),v=[],d=a*a*4,g=o.length;if(g>1){o.forEach((function(n){n.qc=n.q-c,n.rc=s-n.r,n.x=Up(n,i,p,a),n.y=Wp(n,i,p,a)}));for(var y=0;y<g-1;y++)for(var m=y+1;m<g;m++){var w=o[y],_=o[m];if(w[r]!==_[r]&&Math.abs(w.q-_.q)<=1&&Math.abs(w.r-_.r)<=1&&(w.x-_.x)*(w.x-_.x)+(w.y-_.y)*(w.y-_.y)<d){var b={};b.x=_.x+(w.x-_.x)/2,b.y=_.y+(w.y-_.y)/2;var x={},E=4*Math.sqrt(3);x.dx=(w.y-_.y)/E,x.dy=-(w.x-_.x)/E,v.push({x:b.x-2*x.dx,y:b.y-2*x.dy}),v.push({x:b.x-x.dx,y:b.y-x.dy}),v.push({x:b.x,y:b.y}),v.push({x:b.x+x.dx,y:b.y+x.dy}),v.push({x:b.x+2*x.dx,y:b.y+2*x.dy})}}}return v},getBoundarySegmentsForHexJSON:function(n,t,e,r){var o=[],i=n.layout;Object.keys(n.hexes).forEach((function(t){o.push(n.hexes[t])}));var a,u=Vp(o,(function(n){return+n.q})),c=Hp(o,(function(n){return+n.q})),s=Vp(o,(function(n){return+n.r})),f=Hp(o,(function(n){return+n.r})),l=u-c+1,h=s-f+1,p=(a=Hp("odd-r"===i||"even-r"===i?[t/((l+.5)*Math.sqrt(3)),e/(1.5*(h+1/3))]:[e/((h+.5)*Math.sqrt(3)),t/(1.5*(l+1/3))]))*Math.sqrt(3),v=[],d=a*a*4,g=o.length;if(g>1){o.forEach((function(n){n.qc=n.q-c,n.rc=s-n.r,n.x=Up(n,i,p,a),n.y=Wp(n,i,p,a)}));for(var y=0;y<g-1;y++)for(var m=y+1;m<g;m++){var w=o[y],_=o[m];if(w[r]!==_[r]&&Math.abs(w.q-_.q)<=1&&Math.abs(w.r-_.r)<=1&&(w.x-_.x)*(w.x-_.x)+(w.y-_.y)*(w.y-_.y)<d){var b={};b.x=_.x+(w.x-_.x)/2,b.y=_.y+(w.y-_.y)/2;var x={},E=1;w[r]<_[r]&&(E=-1);var S=2*Math.sqrt(3)*E;x.dx=(w.y-_.y)/S,x.dy=-(w.x-_.x)/S,v.push({x1:b.x-x.dx,y1:b.y-x.dy,x2:b.x+x.dx,y2:b.y+x.dy})}}}return v}}));Object.defineProperty(Fp,"__esModule",{value:!0});var $p=st,Jp=Yp,Xp=Rh,Qp={width:1,height:1};function Kp(n){return n.cx=n.x,n.cy=n.y,n.x=[],n.y=[],n.vertices.forEach((function(t){n.x.push(t.x+n.cx),n.y.push(t.y+n.cy)})),n}function Zp(n,t,e){e.dataType=Xp.DataSet.CONSTANTS.HEX;var r=(t=$p.assign({},Qp,t)).width,o=t.height,i=$p.deepMix([],n);e._HexJSON=i;var a=e._GridHexJSON=Jp.getGridForHexJSON(i),u=e.rows=Jp.renderHexJSON(i,r,o).map(Kp);return e._gridRows=Jp.renderHexJSON(a,r,o).map(Kp),u}Xp.DataSet.registerConnector("hex",Zp),Xp.DataSet.registerConnector("hexjson",Zp),Xp.DataSet.registerConnector("hex-json",Zp),Xp.DataSet.registerConnector("HexJSON",Zp),Fp.default=Zp;function nv(n,t){return n.parent===t.parent?1:2}function tv(n,t){return n+t.x}function ev(n,t){return Math.max(n,t.y)}function rv(n){var t=0,e=n.children,r=e&&e.length;if(r)for(;--r>=0;)t+=e[r].value;else t=1;n.value=t}function ov(n,t){var e,r,o,i,a,u=new cv(n),c=+n.value&&(u.value=n.value),s=[u];for(null==t&&(t=iv);e=s.pop();)if(c&&(e.value=+e.data.value),(o=t(e.data))&&(a=o.length))for(e.children=new Array(a),i=a-1;i>=0;--i)s.push(r=e.children[i]=new cv(o[i])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(uv)}function iv(n){return n.children}function av(n){n.data=n.data.data}function uv(n){var t=0;do{n.height=t}while((n=n.parent)&&n.height<++t)}function cv(n){this.data=n,this.depth=this.height=0,this.parent=null}cv.prototype=ov.prototype={constructor:cv,count:function(){return this.eachAfter(rv)},each:function(n){var t,e,r,o,i=this,a=[i];do{for(t=a.reverse(),a=[];i=t.pop();)if(n(i),e=i.children)for(r=0,o=e.length;r<o;++r)a.push(e[r])}while(a.length);return this},eachAfter:function(n){for(var t,e,r,o=this,i=[o],a=[];o=i.pop();)if(a.push(o),t=o.children)for(e=0,r=t.length;e<r;++e)i.push(t[e]);for(;o=a.pop();)n(o);return this},eachBefore:function(n){for(var t,e,r=this,o=[r];r=o.pop();)if(n(r),t=r.children)for(e=t.length-1;e>=0;--e)o.push(t[e]);return this},sum:function(n){return this.eachAfter((function(t){for(var e=+n(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)e+=r[o].value;t.value=e}))},sort:function(n){return this.eachBefore((function(t){t.children&&t.children.sort(n)}))},path:function(n){for(var t=this,e=function(n,t){if(n===t)return n;var e=n.ancestors(),r=t.ancestors(),o=null;n=e.pop(),t=r.pop();for(;n===t;)o=n,n=e.pop(),t=r.pop();return o}(t,n),r=[t];t!==e;)t=t.parent,r.push(t);for(var o=r.length;n!==e;)r.splice(o,0,n),n=n.parent;return r},ancestors:function(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t},descendants:function(){var n=[];return this.each((function(t){n.push(t)})),n},leaves:function(){var n=[];return this.eachBefore((function(t){t.children||n.push(t)})),n},links:function(){var n=this,t=[];return n.each((function(e){e!==n&&t.push({source:e.parent,target:e})})),t},copy:function(){return ov(this).eachBefore(av)}};var sv=Array.prototype.slice;function fv(n){for(var t,e,r=0,o=(n=function(n){for(var t,e,r=n.length;r;)e=Math.random()*r--|0,t=n[r],n[r]=n[e],n[e]=t;return n}(sv.call(n))).length,i=[];r<o;)t=n[r],e&&pv(e,t)?++r:(e=dv(i=lv(i,t)),r=0);return e}function lv(n,t){var e,r;if(vv(t,n))return[t];for(e=0;e<n.length;++e)if(hv(t,n[e])&&vv(gv(n[e],t),n))return[n[e],t];for(e=0;e<n.length-1;++e)for(r=e+1;r<n.length;++r)if(hv(gv(n[e],n[r]),t)&&hv(gv(n[e],t),n[r])&&hv(gv(n[r],t),n[e])&&vv(yv(n[e],n[r],t),n))return[n[e],n[r],t];throw new Error}function hv(n,t){var e=n.r-t.r,r=t.x-n.x,o=t.y-n.y;return e<0||e*e<r*r+o*o}function pv(n,t){var e=n.r-t.r+1e-6,r=t.x-n.x,o=t.y-n.y;return e>0&&e*e>r*r+o*o}function vv(n,t){for(var e=0;e<t.length;++e)if(!pv(n,t[e]))return!1;return!0}function dv(n){switch(n.length){case 1:return{x:(t=n[0]).x,y:t.y,r:t.r};case 2:return gv(n[0],n[1]);case 3:return yv(n[0],n[1],n[2])}var t}function gv(n,t){var e=n.x,r=n.y,o=n.r,i=t.x,a=t.y,u=t.r,c=i-e,s=a-r,f=u-o,l=Math.sqrt(c*c+s*s);return{x:(e+i+c/l*f)/2,y:(r+a+s/l*f)/2,r:(l+o+u)/2}}function yv(n,t,e){var r=n.x,o=n.y,i=n.r,a=t.x,u=t.y,c=t.r,s=e.x,f=e.y,l=e.r,h=r-a,p=r-s,v=o-u,d=o-f,g=c-i,y=l-i,m=r*r+o*o-i*i,w=m-a*a-u*u+c*c,_=m-s*s-f*f+l*l,b=p*v-h*d,x=(v*_-d*w)/(2*b)-r,E=(d*g-v*y)/b,S=(p*w-h*_)/(2*b)-o,M=(h*y-p*g)/b,T=E*E+M*M-1,j=2*(i+x*E+S*M),k=x*x+S*S-i*i,C=-(T?(j+Math.sqrt(j*j-4*T*k))/(2*T):k/j);return{x:r+x+E*C,y:o+S+M*C,r:C}}function mv(n,t,e){var r,o,i,a,u=n.x-t.x,c=n.y-t.y,s=u*u+c*c;s?(o=t.r+e.r,o*=o,a=n.r+e.r,o>(a*=a)?(r=(s+a-o)/(2*s),i=Math.sqrt(Math.max(0,a/s-r*r)),e.x=n.x-r*u-i*c,e.y=n.y-r*c+i*u):(r=(s+o-a)/(2*s),i=Math.sqrt(Math.max(0,o/s-r*r)),e.x=t.x+r*u-i*c,e.y=t.y+r*c+i*u)):(e.x=t.x+e.r,e.y=t.y)}function wv(n,t){var e=n.r+t.r-1e-6,r=t.x-n.x,o=t.y-n.y;return e>0&&e*e>r*r+o*o}function _v(n){var t=n._,e=n.next._,r=t.r+e.r,o=(t.x*e.r+e.x*t.r)/r,i=(t.y*e.r+e.y*t.r)/r;return o*o+i*i}function bv(n){this._=n,this.next=null,this.previous=null}function xv(n){if(!(o=n.length))return 0;var t,e,r,o,i,a,u,c,s,f,l;if((t=n[0]).x=0,t.y=0,!(o>1))return t.r;if(e=n[1],t.x=-e.r,e.x=t.r,e.y=0,!(o>2))return t.r+e.r;mv(e,t,r=n[2]),t=new bv(t),e=new bv(e),r=new bv(r),t.next=r.previous=e,e.next=t.previous=r,r.next=e.previous=t;n:for(u=3;u<o;++u){mv(t._,e._,r=n[u]),r=new bv(r),c=e.next,s=t.previous,f=e._.r,l=t._.r;do{if(f<=l){if(wv(c._,r._)){e=c,t.next=e,e.previous=t,--u;continue n}f+=c._.r,c=c.next}else{if(wv(s._,r._)){(t=s).next=e,e.previous=t,--u;continue n}l+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=t,r.next=e,t.next=e.previous=e=r,i=_v(t);(r=r.next)!==e;)(a=_v(r))<i&&(t=r,i=a);e=t.next}for(t=[e._],r=e;(r=r.next)!==e;)t.push(r._);for(r=fv(t),u=0;u<o;++u)(t=n[u]).x-=r.x,t.y-=r.y;return r.r}function Ev(n){return null==n?null:Sv(n)}function Sv(n){if("function"!=typeof n)throw new Error;return n}function Mv(){return 0}function Tv(n){return function(){return n}}function jv(n){return Math.sqrt(n.value)}function kv(n){return function(t){t.children||(t.r=Math.max(0,+n(t)||0))}}function Cv(n,t){return function(e){if(r=e.children){var r,o,i,a=r.length,u=n(e)*t||0;if(u)for(o=0;o<a;++o)r[o].r+=u;if(i=xv(r),u)for(o=0;o<a;++o)r[o].r-=u;e.r=i+u}}}function Pv(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function Ov(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function Nv(n,t,e,r,o){for(var i,a=n.children,u=-1,c=a.length,s=n.value&&(r-t)/n.value;++u<c;)(i=a[u]).y0=e,i.y1=o,i.x0=t,i.x1=t+=i.value*s}var Av={depth:-1},Rv={};function Iv(n){return n.id}function Dv(n){return n.parentId}function Lv(n,t){return n.parent===t.parent?1:2}function Bv(n){var t=n.children;return t?t[0]:n.t}function zv(n){var t=n.children;return t?t[t.length-1]:n.t}function qv(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Fv(n,t,e){return n.a.parent===t.parent?n.a:e}function Gv(n,t){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Vv(n,t,e,r,o){for(var i,a=n.children,u=-1,c=a.length,s=n.value&&(o-e)/n.value;++u<c;)(i=a[u]).x0=t,i.x1=r,i.y0=e,i.y1=e+=i.value*s}Gv.prototype=Object.create(cv.prototype);var Hv=(1+Math.sqrt(5))/2;function Uv(n,t,e,r,o,i){for(var a,u,c,s,f,l,h,p,v,d,g,y=[],m=t.children,w=0,_=0,b=m.length,x=t.value;w<b;){c=o-e,s=i-r;do{f=m[_++].value}while(!f&&_<b);for(l=h=f,g=f*f*(d=Math.max(s/c,c/s)/(x*n)),v=Math.max(h/g,g/l);_<b;++_){if(f+=u=m[_].value,u<l&&(l=u),u>h&&(h=u),g=f*f*d,(p=Math.max(h/g,g/l))>v){f-=u;break}v=p}y.push(a={value:f,dice:c<s,children:m.slice(w,_)}),a.dice?Nv(a,e,r,o,x?r+=s*f/x:i):Vv(a,e,r,x?e+=c*f/x:o,i),x-=f,w=_}return y}var Wv=function n(t){function e(n,e,r,o,i){Uv(t,n,e,r,o,i)}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(Hv);var Yv=function n(t){function e(n,e,r,o,i){if((a=n._squarify)&&a.ratio===t)for(var a,u,c,s,f,l=-1,h=a.length,p=n.value;++l<h;){for(c=(u=a[l]).children,s=u.value=0,f=c.length;s<f;++s)u.value+=c[s].value;u.dice?Nv(u,e,r,o,r+=(i-r)*u.value/p):Vv(u,e,r,e+=(o-e)*u.value/p,i),p-=u.value}else n._squarify=a=Uv(t,n,e,r,o,i),a.ratio=t}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(Hv),$v=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",cluster:function(){var n=nv,t=1,e=1,r=!1;function o(o){var i,a=0;o.eachAfter((function(t){var e=t.children;e?(t.x=function(n){return n.reduce(tv,0)/n.length}(e),t.y=function(n){return 1+n.reduce(ev,0)}(e)):(t.x=i?a+=n(t,i):0,t.y=0,i=t)}));var u=function(n){for(var t;t=n.children;)n=t[0];return n}(o),c=function(n){for(var t;t=n.children;)n=t[t.length-1];return n}(o),s=u.x-n(u,c)/2,f=c.x+n(c,u)/2;return o.eachAfter(r?function(n){n.x=(n.x-o.x)*t,n.y=(o.y-n.y)*e}:function(n){n.x=(n.x-s)/(f-s)*t,n.y=(1-(o.y?n.y/o.y:1))*e})}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(n){return arguments.length?(r=!1,t=+n[0],e=+n[1],o):r?null:[t,e]},o.nodeSize=function(n){return arguments.length?(r=!0,t=+n[0],e=+n[1],o):r?[t,e]:null},o},hierarchy:ov,pack:function(){var n=null,t=1,e=1,r=Mv;function o(o){return o.x=t/2,o.y=e/2,n?o.eachBefore(kv(n)).eachAfter(Cv(r,.5)).eachBefore(Pv(1)):o.eachBefore(kv(jv)).eachAfter(Cv(Mv,1)).eachAfter(Cv(r,o.r/Math.min(t,e))).eachBefore(Pv(Math.min(t,e)/(2*o.r))),o}return o.radius=function(t){return arguments.length?(n=Ev(t),o):n},o.size=function(n){return arguments.length?(t=+n[0],e=+n[1],o):[t,e]},o.padding=function(n){return arguments.length?(r="function"==typeof n?n:Tv(+n),o):r},o},packSiblings:function(n){return xv(n),n},packEnclose:fv,partition:function(){var n=1,t=1,e=0,r=!1;function o(o){var i=o.height+1;return o.x0=o.y0=e,o.x1=n,o.y1=t/i,o.eachBefore(function(n,t){return function(r){r.children&&Nv(r,r.x0,n*(r.depth+1)/t,r.x1,n*(r.depth+2)/t);var o=r.x0,i=r.y0,a=r.x1-e,u=r.y1-e;a<o&&(o=a=(o+a)/2),u<i&&(i=u=(i+u)/2),r.x0=o,r.y0=i,r.x1=a,r.y1=u}}(t,i)),r&&o.eachBefore(Ov),o}return o.round=function(n){return arguments.length?(r=!!n,o):r},o.size=function(e){return arguments.length?(n=+e[0],t=+e[1],o):[n,t]},o.padding=function(n){return arguments.length?(e=+n,o):e},o},stratify:function(){var n=Iv,t=Dv;function e(e){var r,o,i,a,u,c,s,f=e.length,l=new Array(f),h={};for(o=0;o<f;++o)r=e[o],u=l[o]=new cv(r),null!=(c=n(r,o,e))&&(c+="")&&(h[s="$"+(u.id=c)]=s in h?Rv:u);for(o=0;o<f;++o)if(u=l[o],null!=(c=t(e[o],o,e))&&(c+="")){if(!(a=h["$"+c]))throw new Error("missing: "+c);if(a===Rv)throw new Error("ambiguous: "+c);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(i)throw new Error("multiple roots");i=u}if(!i)throw new Error("no root");if(i.parent=Av,i.eachBefore((function(n){n.depth=n.parent.depth+1,--f})).eachBefore(uv),i.parent=null,f>0)throw new Error("cycle");return i}return e.id=function(t){return arguments.length?(n=Sv(t),e):n},e.parentId=function(n){return arguments.length?(t=Sv(n),e):t},e},tree:function(){var n=Lv,t=1,e=1,r=null;function o(o){var c=function(n){for(var t,e,r,o,i,a=new Gv(n,0),u=[a];t=u.pop();)if(r=t._.children)for(t.children=new Array(i=r.length),o=i-1;o>=0;--o)u.push(e=t.children[o]=new Gv(r[o],o)),e.parent=t;return(a.parent=new Gv(null,0)).children=[a],a}(o);if(c.eachAfter(i),c.parent.m=-c.z,c.eachBefore(a),r)o.eachBefore(u);else{var s=o,f=o,l=o;o.eachBefore((function(n){n.x<s.x&&(s=n),n.x>f.x&&(f=n),n.depth>l.depth&&(l=n)}));var h=s===f?1:n(s,f)/2,p=h-s.x,v=t/(f.x+h+p),d=e/(l.depth||1);o.eachBefore((function(n){n.x=(n.x+p)*v,n.y=n.depth*d}))}return o}function i(t){var e=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(e){!function(n){for(var t,e=0,r=0,o=n.children,i=o.length;--i>=0;)(t=o[i]).z+=e,t.m+=e,e+=t.s+(r+=t.c)}(t);var i=(e[0].z+e[e.length-1].z)/2;o?(t.z=o.z+n(t._,o._),t.m=t.z-i):t.z=i}else o&&(t.z=o.z+n(t._,o._));t.parent.A=function(t,e,r){if(e){for(var o,i=t,a=t,u=e,c=i.parent.children[0],s=i.m,f=a.m,l=u.m,h=c.m;u=zv(u),i=Bv(i),u&&i;)c=Bv(c),(a=zv(a)).a=t,(o=u.z+l-i.z-s+n(u._,i._))>0&&(qv(Fv(u,t,r),t,o),s+=o,f+=o),l+=u.m,s+=i.m,h+=c.m,f+=a.m;u&&!zv(a)&&(a.t=u,a.m+=l-f),i&&!Bv(c)&&(c.t=i,c.m+=s-h,r=t)}return r}(t,o,t.parent.A||r[0])}function a(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n){n.x*=t,n.y=n.depth*e}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(n){return arguments.length?(r=!1,t=+n[0],e=+n[1],o):r?null:[t,e]},o.nodeSize=function(n){return arguments.length?(r=!0,t=+n[0],e=+n[1],o):r?[t,e]:null},o},treemap:function(){var n=Wv,t=!1,e=1,r=1,o=[0],i=Mv,a=Mv,u=Mv,c=Mv,s=Mv;function f(n){return n.x0=n.y0=0,n.x1=e,n.y1=r,n.eachBefore(l),o=[0],t&&n.eachBefore(Ov),n}function l(t){var e=o[t.depth],r=t.x0+e,f=t.y0+e,l=t.x1-e,h=t.y1-e;l<r&&(r=l=(r+l)/2),h<f&&(f=h=(f+h)/2),t.x0=r,t.y0=f,t.x1=l,t.y1=h,t.children&&(e=o[t.depth+1]=i(t)/2,r+=s(t)-e,f+=a(t)-e,(l-=u(t)-e)<r&&(r=l=(r+l)/2),(h-=c(t)-e)<f&&(f=h=(f+h)/2),n(t,r,f,l,h))}return f.round=function(n){return arguments.length?(t=!!n,f):t},f.size=function(n){return arguments.length?(e=+n[0],r=+n[1],f):[e,r]},f.tile=function(t){return arguments.length?(n=Sv(t),f):n},f.padding=function(n){return arguments.length?f.paddingInner(n).paddingOuter(n):f.paddingInner()},f.paddingInner=function(n){return arguments.length?(i="function"==typeof n?n:Tv(+n),f):i},f.paddingOuter=function(n){return arguments.length?f.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):f.paddingTop()},f.paddingTop=function(n){return arguments.length?(a="function"==typeof n?n:Tv(+n),f):a},f.paddingRight=function(n){return arguments.length?(u="function"==typeof n?n:Tv(+n),f):u},f.paddingBottom=function(n){return arguments.length?(c="function"==typeof n?n:Tv(+n),f):c},f.paddingLeft=function(n){return arguments.length?(s="function"==typeof n?n:Tv(+n),f):s},f},treemapBinary:function(n,t,e,r,o){var i,a,u=n.children,c=u.length,s=new Array(c+1);for(s[0]=a=i=0;i<c;++i)s[i+1]=a+=u[i].value;!function n(t,e,r,o,i,a,c){if(t>=e-1){var f=u[t];return f.x0=o,f.y0=i,f.x1=a,void(f.y1=c)}var l=s[t],h=r/2+l,p=t+1,v=e-1;for(;p<v;){var d=p+v>>>1;s[d]<h?p=d+1:v=d}h-s[p-1]<s[p]-h&&t+1<p&&--p;var g=s[p]-l,y=r-g;if(a-o>c-i){var m=(o*y+a*g)/r;n(t,p,g,o,i,m,c),n(p,e,y,m,i,a,c)}else{var w=(i*y+c*g)/r;n(t,p,g,o,i,a,w),n(p,e,y,o,w,a,c)}}(0,c,n.value,t,e,r,o)},treemapDice:Nv,treemapSlice:Vv,treemapSliceDice:function(n,t,e,r,o){(1&n.depth?Vv:Nv)(n,t,e,r,o)},treemapSquarify:Wv,treemapResquarify:Yv}));Object.defineProperty({},"__esModule",{value:!0});var Jv=st,Xv=$v,Qv=Rh;function Kv(n,t,e){e.dataType=Qv.DataSet.CONSTANTS.HIERARCHY;var r=t&&t.children?t.children:null;if(r&&!Jv.isFunction(r))throw new TypeError("Invalid children: must be a function!");return t.pureData?e.rows=e.root=n:e.rows=e.root=Xv.hierarchy(n,r),n}Qv.DataSet.registerConnector("hierarchy",Kv),Qv.DataSet.registerConnector("tree",Kv);function Zv(n){return n}function nd(n){if(null==n)return Zv;var t,e,r=n.scale[0],o=n.scale[1],i=n.translate[0],a=n.translate[1];return function(n,u){u||(t=e=0);var c=2,s=n.length,f=new Array(s);for(f[0]=(t+=n[0])*r+i,f[1]=(e+=n[1])*o+a;c<s;)f[c]=n[c],++c;return f}}function td(n){var t,e=nd(n.transform),r=1/0,o=r,i=-r,a=-r;function u(n){(n=e(n))[0]<r&&(r=n[0]),n[0]>i&&(i=n[0]),n[1]<o&&(o=n[1]),n[1]>a&&(a=n[1])}function c(n){switch(n.type){case"GeometryCollection":n.geometries.forEach(c);break;case"Point":u(n.coordinates);break;case"MultiPoint":n.coordinates.forEach(u)}}for(t in n.arcs.forEach((function(n){for(var t,u=-1,c=n.length;++u<c;)(t=e(n[u],u))[0]<r&&(r=t[0]),t[0]>i&&(i=t[0]),t[1]<o&&(o=t[1]),t[1]>a&&(a=t[1])})),n.objects)c(n.objects[t]);return[r,o,i,a]}function ed(n,t){var e=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,i=rd(n,t);return null==e&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:e,properties:o,geometry:i}:{type:"Feature",id:e,bbox:r,properties:o,geometry:i}}function rd(n,t){var e=nd(n.transform),r=n.arcs;function o(n,t){t.length&&t.pop();for(var o=r[n<0?~n:n],i=0,a=o.length;i<a;++i)t.push(e(o[i],i));n<0&&function(n,t){for(var e,r=n.length,o=r-t;o<--r;)e=n[o],n[o++]=n[r],n[r]=e}(t,a)}function i(n){return e(n)}function a(n){for(var t=[],e=0,r=n.length;e<r;++e)o(n[e],t);return t.length<2&&t.push(t[0]),t}function u(n){for(var t=a(n);t.length<4;)t.push(t[0]);return t}function c(n){return n.map(u)}return function n(t){var e,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(n)};case"Point":e=i(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(i);break;case"LineString":e=a(t.arcs);break;case"MultiLineString":e=t.arcs.map(a);break;case"Polygon":e=c(t.arcs);break;case"MultiPolygon":e=t.arcs.map(c);break;default:return null}return{type:r,coordinates:e}}(t)}function od(n,t){var e={},r={},o={},i=[],a=-1;function u(n,t){for(var r in n){var o=n[r];delete t[o.start],delete o.start,delete o.end,o.forEach((function(n){e[n<0?~n:n]=1})),i.push(o)}}return t.forEach((function(e,r){var o,i=n.arcs[e<0?~e:e];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++a],t[a]=e,t[r]=o)})),t.forEach((function(t){var e,i,a=function(t){var e,r=n.arcs[t<0?~t:t],o=r[0];n.transform?(e=[0,0],r.forEach((function(n){e[0]+=n[0],e[1]+=n[1]}))):e=r[r.length-1];return t<0?[e,o]:[o,e]}(t),u=a[0],c=a[1];if(e=o[u])if(delete o[e.end],e.push(t),e.end=c,i=r[c]){delete r[i.start];var s=i===e?e:e.concat(i);r[s.start=e.start]=o[s.end=i.end]=s}else r[e.start]=o[e.end]=e;else if(e=r[c])if(delete r[e.start],e.unshift(t),e.start=u,i=o[u]){delete o[i.end];var f=i===e?e:i.concat(e);r[f.start=i.start]=o[f.end=e.end]=f}else r[e.start]=o[e.end]=e;else r[(e=[t]).start=u]=o[e.end=c]=e})),u(o,r),u(r,o),t.forEach((function(n){e[n<0?~n:n]||i.push([n])})),i}function id(n,t,e){var r,o,i;if(arguments.length>1)r=ad(n,t,e);else for(o=0,r=new Array(i=n.arcs.length);o<i;++o)r[o]=o;return{type:"MultiLineString",arcs:od(n,r)}}function ad(n,t,e){var r,o=[],i=[];function a(n){var t=n<0?~n:n;(i[t]||(i[t]=[])).push({i:n,g:r})}function u(n){n.forEach(a)}function c(n){n.forEach(u)}return function n(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"LineString":u(t.arcs);break;case"MultiLineString":case"Polygon":c(t.arcs);break;case"MultiPolygon":t.arcs.forEach(c)}}(t),i.forEach(null==e?function(n){o.push(n[0].i)}:function(n){e(n[0].g,n[n.length-1].g)&&o.push(n[0].i)}),o}function ud(n,t){var e={},r=[],o=[];function i(n){n.forEach((function(t){t.forEach((function(t){(e[t=t<0?~t:t]||(e[t]=[])).push(n)}))})),r.push(n)}function a(t){return function(n){for(var t,e=-1,r=n.length,o=n[r-1],i=0;++e<r;)t=o,o=n[e],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}(rd(n,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach((function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Polygon":i(t.arcs);break;case"MultiPolygon":t.arcs.forEach(i)}})),r.forEach((function(n){if(!n._){var t=[],r=[n];for(n._=1,o.push(t);n=r.pop();)t.push(n),n.forEach((function(n){n.forEach((function(n){e[n<0?~n:n].forEach((function(n){n._||(n._=1,r.push(n))}))}))}))}})),r.forEach((function(n){delete n._})),{type:"MultiPolygon",arcs:o.map((function(t){var r,o=[];if(t.forEach((function(n){n.forEach((function(n){n.forEach((function(n){e[n<0?~n:n].length<2&&o.push(n)}))}))})),(r=(o=od(n,o)).length)>1)for(var i,u,c=1,s=a(o[0]);c<r;++c)(i=a(o[c]))>s&&(u=o[0],o[0]=o[c],o[c]=u,s=i);return o})).filter((function(n){return n.length>0}))}}function cd(n,t){for(var e=0,r=n.length;e<r;){var o=e+r>>>1;n[o]<t?e=o+1:r=o}return e}function sd(n){if(null==n)return Zv;var t,e,r=n.scale[0],o=n.scale[1],i=n.translate[0],a=n.translate[1];return function(n,u){u||(t=e=0);var c=2,s=n.length,f=new Array(s),l=Math.round((n[0]-i)/r),h=Math.round((n[1]-a)/o);for(f[0]=l-t,t=l,f[1]=h-e,e=h;c<s;)f[c]=n[c],++c;return f}}var fd=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bbox:td,feature:function(n,t){return"string"==typeof t&&(t=n.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return ed(n,t)}))}:ed(n,t)},mesh:function(n){return rd(n,id.apply(this,arguments))},meshArcs:id,merge:function(n){return rd(n,ud.apply(this,arguments))},mergeArcs:ud,neighbors:function(n){var t={},e=n.map((function(){return[]}));function r(n,e){n.forEach((function(n){n<0&&(n=~n);var r=t[n];r?r.push(e):t[n]=[e]}))}function o(n,t){n.forEach((function(n){r(n,t)}))}var i={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(n,t){n.forEach((function(n){o(n,t)}))}};for(var a in n.forEach((function n(t,e){"GeometryCollection"===t.type?t.geometries.forEach((function(t){n(t,e)})):t.type in i&&i[t.type](t.arcs,e)})),t)for(var u=t[a],c=u.length,s=0;s<c;++s)for(var f=s+1;f<c;++f){var l,h=u[s],p=u[f];(l=e[h])[a=cd(l,p)]!==p&&l.splice(a,0,p),(l=e[p])[a=cd(l,h)]!==h&&l.splice(a,0,h)}return e},quantize:function(n,t){if(n.transform)throw new Error("already quantized");if(t&&t.scale)u=n.bbox;else{if(!((e=Math.floor(t))>=2))throw new Error("n must be 2");var e,r=(u=n.bbox||td(n))[0],o=u[1],i=u[2],a=u[3];t={scale:[i-r?(i-r)/(e-1):1,a-o?(a-o)/(e-1):1],translate:[r,o]}}var u,c,s=sd(t),f=n.objects,l={};function h(n){return s(n)}function p(n){var t;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(p)};break;case"Point":t={type:"Point",coordinates:h(n.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:n.coordinates.map(h)};break;default:return n}return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),null!=n.properties&&(t.properties=n.properties),t}for(c in f)l[c]=p(f[c]);return{type:"Topology",bbox:u,transform:t,objects:l,arcs:n.arcs.map((function(n){var t,e=0,r=1,o=n.length,i=new Array(o);for(i[0]=s(n[0],0);++e<o;)((t=s(n[e],e))[0]||t[1])&&(i[r++]=t);return 1===r&&(i[r++]=[0,0]),i.length=r,i}))}},transform:nd,untransform:sd}));Object.defineProperty({},"__esModule",{value:!0});var ld=st,hd=fd,pd=ct.exports.__importDefault(_p),vd=Rh;function dd(n,t,e){var r=t.object;if(!ld.isString(r))throw new TypeError("Invalid object: must be a string!");var o=hd.feature(n,n.objects[r]);return pd.default(o,void 0,e)}vd.DataSet.registerConnector("topojson",dd),vd.DataSet.registerConnector("TopoJSON",dd);Object.defineProperty({},"__esModule",{value:!0}),Rh.DataSet.registerTransform("default",(function(n){return n}));function gd(n){return!!n}Object.defineProperty({},"__esModule",{value:!0}),Rh.DataSet.registerTransform("filter",(function(n,t){n.rows=n.rows.filter(t.callback||gd)}));var yd={};Object.defineProperty(yd,"__esModule",{value:!0}),yd.getFields=yd.getField=void 0;var md=st,wd="Invalid fields: it must be an array!";yd.getField=function(n,t){var e=n.field,r=n.fields;if(md.isString(e))return e;if(md.isArray(e))return console.warn("Invalid field: it must be a string!"),e[0];if(console.warn("Invalid field: it must be a string! will try to get fields instead."),md.isString(r))return r;if(md.isArray(r)&&r.length)return r[0];if(t)return t;throw new TypeError("Invalid field: it must be a string!")},yd.getFields=function(n,t){var e=n.field,r=n.fields;if(md.isArray(r))return r;if(md.isString(r))return console.warn(wd),[r];if(console.warn(wd+" will try to get field instead."),md.isString(e))return console.warn(wd),[e];if(md.isArray(e)&&e.length)return console.warn(wd),e;if(t)return t;throw new TypeError(wd)},Object.defineProperty({},"__esModule",{value:!0});var _d=st,bd=yd,xd={fields:[],key:"key",retains:[],value:"value"};Rh.DataSet.registerTransform("fold",(function(n,t){var e=n.getColumnNames();t=_d.assign({},xd,t);var r=bd.getFields(t);0===r.length&&(console.warn("warning: option fields is not specified, will fold all columns."),r=e);var o=t.key,i=t.value,a=t.retains;a&&0!==a.length||(a=_d.difference(e,r));var u=[];n.rows.forEach((function(n){r.forEach((function(t){var e=_d.pick(n,a);e[o]=t,e[i]=n[t],u.push(e)}))})),n.rows=u}));function Ed(n){return n}Object.defineProperty({},"__esModule",{value:!0}),Rh.DataSet.registerTransform("map",(function(n,t){n.rows=n.rows.map(t.callback||Ed)}));Object.defineProperty({},"__esModule",{value:!0});var Sd=st,Md=ct.exports.__importDefault(bl),Td=Rh,jd={groupBy:[],orderBy:[]};function kd(n,t){t=Sd.assign({},jd,t),n.rows=Sd.values(Md.default(n.rows,t.groupBy,t.orderBy))}Td.DataSet.registerTransform("partition",(function(n,t){t=Sd.assign({},jd,t),n.rows=Md.default(n.rows,t.groupBy,t.orderBy)})),Td.DataSet.registerTransform("group",kd),Td.DataSet.registerTransform("groups",kd);Object.defineProperty({},"__esModule",{value:!0});var Cd=st,Pd=Sh,Od=ct.exports.__importDefault(bl),Nd=yd,Ad={groupBy:[],as:"_percent"};Rh.DataSet.registerTransform("percent",(function(n,t){t=Cd.assign({},Ad,t);var e=Nd.getField(t),r=t.dimension,o=t.groupBy,i=t.as;if(!Cd.isString(r))throw new TypeError("Invalid dimension: must be a string!");if(Cd.isArray(i)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),i=i[0]),!Cd.isString(i))throw new TypeError("Invalid as: must be a string!");var a=n.rows,u=[],c=Od.default(a,o);Cd.forIn(c,(function(n){var t=Pd.sum(n.map((function(n){return n[e]}))),o=Od.default(n,[r]);Cd.forIn(o,(function(n){var o=Pd.sum(n.map((function(n){return n[e]}))),a=n[0],c=a[r];a[e]=o,a[r]=c,a[i]=0===t?0:o/t,u.push(a)}))})),n.rows=u}));Object.defineProperty({},"__esModule",{value:!0});var Rd=st,Id=yd;Rh.DataSet.registerTransform("pick",(function(n,t){var e=Id.getFields(t,n.getColumnNames());n.rows=n.rows.map((function(n){return Rd.pick(n,e)}))}));Object.defineProperty({},"__esModule",{value:!0});var Dd=st,Ld=ct.exports.__importDefault(bl),Bd=yd,zd={groupBy:[],as:"_proportion"};Rh.DataSet.registerTransform("proportion",(function(n,t){t=Dd.assign({},zd,t);var e=Bd.getField(t),r=t.dimension,o=t.groupBy,i=t.as;if(!Dd.isString(r))throw new TypeError("Invalid dimension: must be a string!");if(Dd.isArray(i)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),i=i[0]),!Dd.isString(i))throw new TypeError("Invalid as: must be a string!");var a=n.rows,u=[],c=Ld.default(a,o);Dd.forIn(c,(function(n){var t=n.length,o=Ld.default(n,[r]);Dd.forIn(o,(function(n){var o=n.length,a=n[0],c=a[r];a[e]=o,a[r]=c,a[i]=o/t,u.push(a)}))})),n.rows=u}));Object.defineProperty({},"__esModule",{value:!0});var qd=st,Fd=Rh;function Gd(n,t){var e=t.map||{},r={};qd.isPlainObject(e)&&qd.forIn(e,(function(n,t){qd.isString(n)&&qd.isString(t)&&(r[t]=n)})),n.rows.forEach((function(n){qd.forIn(r,(function(t,e){var r=n[e];delete n[e],n[t]=r}))}))}Fd.DataSet.registerTransform("rename",Gd),Fd.DataSet.registerTransform("rename-fields",Gd);Object.defineProperty({},"__esModule",{value:!0}),Rh.DataSet.registerTransform("reverse",(function(n){n.rows.reverse()}));Object.defineProperty({},"__esModule",{value:!0}),Rh.DataSet.registerTransform("sort",(function(n,t){var e=n.getColumnName(0);n.rows.sort(t.callback||function(n,t){return n[e]-t[e]})}));Object.defineProperty({},"__esModule",{value:!0});var Vd=st,Hd=Rh,Ud=yd,Wd=["ASC","DESC"];function Yd(n,t){var e=Ud.getFields(t,[n.getColumnName(0)]);if(!Vd.isArray(e))throw new TypeError("Invalid fields: must be an array with strings!");n.rows=Vd.sortBy(n.rows,e);var r=t.order;if(r&&-1===Wd.indexOf(r))throw new TypeError("Invalid order: "+r+" must be one of "+Wd.join(", "));"DESC"===r&&n.rows.reverse()}Hd.DataSet.registerTransform("sort-by",Yd),Hd.DataSet.registerTransform("sortBy",Yd);Object.defineProperty({},"__esModule",{value:!0});var $d=yd;Rh.DataSet.registerTransform("subset",(function(n,t){var e=t.startRowIndex||0,r=t.endRowIndex||n.rows.length-1,o=$d.getFields(t,n.getColumnNames());n.rows=n.getSubset(e,r,o)}));Object.defineProperty({},"__esModule",{value:!0});var Jd=st,Xd=ct.exports.__importDefault(bl),Qd=Rh,Kd={fillBy:"group",groupBy:[],orderBy:[]};function Zd(n,t){var e=n.map((function(n){return n}));return t.forEach((function(n){var t=e.indexOf(n);t>-1&&e.splice(t,1)})),e}function ng(n,t){t=Jd.assign({},Kd,t);var e=n.rows,r=t.groupBy,o=t.orderBy,i=Xd.default(e,r,o),a=0,u=[];Jd.forIn(i,(function(n){n.length>a&&(a=n.length,u=n)}));var c=[],s={};if(u.forEach((function(n){var t=o.map((function(t){return n[t]})).join("-");c.push(t),s[t]=n})),"order"===t.fillBy){var f=u[0],l=[],h={};e.forEach((function(n){var t=o.map((function(t){return n[t]})).join("-");-1===l.indexOf(t)&&(l.push(t),h[t]=n)})),Zd(l,c).forEach((function(n){var t={};r.forEach((function(n){t[n]=f[n]})),o.forEach((function(e){t[e]=h[n][e]})),e.push(t),u.push(t),c.push(n),s[n]=t})),a=u.length}Jd.forIn(i,(function(n){if(n!==u&&n.length<a){var t=n[0],i=[];n.forEach((function(n){i.push(o.map((function(t){return n[t]})).join("-"))})),Zd(c,i).some((function(i,u){if(u>=a-n.length)return!0;var c=s[i],f={};return r.forEach((function(n){f[n]=t[n]})),o.forEach((function(n){f[n]=c[n]})),e.push(f),!1}))}}))}Qd.DataSet.registerTransform("fill-rows",ng),Qd.DataSet.registerTransform("fillRows",ng);Object.defineProperty({},"__esModule",{value:!0});var tg=ct.exports,eg=st,rg=tg.__importStar(Sh),og=tg.__importDefault(bl),ig=Rh,ag=yd,ug={groupBy:[]};function cg(n){return n.filter((function(n){return!eg.isUndefined(n)}))}var sg=["mean","median","max","min"],fg={};sg.forEach((function(n){fg[n]=function(t,e){return rg[n](e)}})),fg.value=function(n,t,e){return e},ig.DataSet.registerTransform("impute",(function(n,t){t=eg.assign({},ug,t);var e=ag.getField(t),r=t.method;if(!r)throw new TypeError("Invalid method!");if("value"===r&&!eg.has(t,"value"))throw new TypeError("Invalid value: it is nil.");var o=cg(n.getColumn(e)),i=og.default(n.rows,t.groupBy);eg.forIn(i,(function(n){var i=cg(n.map((function(n){return n[e]})));0===i.length&&(i=o),n.forEach((function(o){if(eg.isUndefined(o[e]))if(eg.isFunction(r))o[e]=r(o,i,t.value,n);else{if(!eg.isString(r))throw new TypeError("Invalid method: must be a function or one of "+sg.join(", "));o[e]=fg[r](o,i,t.value)}}))}))}));var lg={};Object.defineProperty(lg,"__esModule",{value:!0});var hg=ct.exports,pg=st,vg=hg.__importStar(Sh),dg=hg.__importDefault(bl),gg=Rh,yg=gg.DataSet.registerTransform,mg=yd,wg={as:[],fields:[],groupBy:[],operations:[]},_g={count:function(n){return n.length},distinct:function(n,t){return pg.uniq(n.map((function(n){return n[t]}))).length}};function bg(n,t){t=pg.assign({},wg,t);var e=mg.getFields(t);if(!pg.isArray(e))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var r=t.as||[];pg.isString(r)&&(r=[r]);var o=t.operations;pg.isString(o)&&(o=[o]);var i=["count"];if(pg.isArray(o)&&o.length||(console.warn('operations is not defined, will use [ "count" ] directly.'),r=o=i),1!==o.length||"count"!==o[0]){if(o.length!==e.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(r.length!==e.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var a=dg.default(n.rows,t.groupBy),u=[];pg.forIn(a,(function(n){var t=n[0];o.forEach((function(o,i){var a=r[i],u=e[i];t[a]=_g[o](n,u)})),u.push(t)})),n.rows=u}gg.DataSet.CONSTANTS.STATISTICS_METHODS.forEach((function(n){_g[n]=function(t,e){var r=t.map((function(n){return n[e]}));return pg.isArray(r)&&pg.isArray(r[0])&&(r=pg.flattenDeep(r)),vg[n](r)}})),_g.average=_g.mean,yg("aggregate",bg),yg("summary",bg),lg.default={VALID_AGGREGATES:pg.keys(_g)};var xg={},Eg={exports:{}};!function(n){function t(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var e=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n};function r(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}var o={order:2,precision:2,period:null};function i(n,t){var e=[],r=[];n.forEach((function(n,o){null!==n[1]&&(r.push(n),e.push(t[o]))}));var o=r.reduce((function(n,t){return n+t[1]}),0)/r.length,i=r.reduce((function(n,t){var e=t[1]-o;return n+e*e}),0);return 1-r.reduce((function(n,t,r){var o=e[r],i=t[1]-o[1];return n+i*i}),0)/i}function a(n,t){for(var e=n,r=n.length-1,o=[t],i=0;i<r;i++){for(var a=i,u=i+1;u<r;u++)Math.abs(e[i][u])>Math.abs(e[i][a])&&(a=u);for(var c=i;c<r+1;c++){var s=e[c][i];e[c][i]=e[c][a],e[c][a]=s}for(var f=i+1;f<r;f++)for(var l=r;l>=i;l--)e[l][f]-=e[l][i]*e[i][f]/e[i][i]}for(var h=r-1;h>=0;h--){for(var p=0,v=h+1;v<r;v++)p+=e[v][h]*o[v];o[h]=(e[r][h]-p)/e[h][h]}return o}function u(n,t){var e=Math.pow(10,t);return Math.round(n*e)/e}var c={linear:function(n,t){for(var e=[0,0,0,0,0],r=0,o=0;o<n.length;o++)null!==n[o][1]&&(r++,e[0]+=n[o][0],e[1]+=n[o][1],e[2]+=n[o][0]*n[o][0],e[3]+=n[o][0]*n[o][1],e[4]+=n[o][1]*n[o][1]);var a=r*e[2]-e[0]*e[0],c=r*e[3]-e[0]*e[1],s=0===a?0:u(c/a,t.precision),f=u(e[1]/r-s*e[0]/r,t.precision),l=function(n){return[u(n,t.precision),u(s*n+f,t.precision)]},h=n.map((function(n){return l(n[0])}));return{points:h,predict:l,equation:[s,f],r2:u(i(n,h),t.precision),string:0===f?"y = "+s+"x":"y = "+s+"x + "+f}},exponential:function(n,t){for(var e=[0,0,0,0,0,0],r=0;r<n.length;r++)null!==n[r][1]&&(e[0]+=n[r][0],e[1]+=n[r][1],e[2]+=n[r][0]*n[r][0]*n[r][1],e[3]+=n[r][1]*Math.log(n[r][1]),e[4]+=n[r][0]*n[r][1]*Math.log(n[r][1]),e[5]+=n[r][0]*n[r][1]);var o=e[1]*e[2]-e[5]*e[5],a=Math.exp((e[2]*e[3]-e[5]*e[4])/o),c=(e[1]*e[4]-e[5]*e[3])/o,s=u(a,t.precision),f=u(c,t.precision),l=function(n){return[u(n,t.precision),u(s*Math.exp(f*n),t.precision)]},h=n.map((function(n){return l(n[0])}));return{points:h,predict:l,equation:[s,f],string:"y = "+s+"e^("+f+"x)",r2:u(i(n,h),t.precision)}},logarithmic:function(n,t){for(var e=[0,0,0,0],r=n.length,o=0;o<r;o++)null!==n[o][1]&&(e[0]+=Math.log(n[o][0]),e[1]+=n[o][1]*Math.log(n[o][0]),e[2]+=n[o][1],e[3]+=Math.pow(Math.log(n[o][0]),2));var a=u((r*e[1]-e[2]*e[0])/(r*e[3]-e[0]*e[0]),t.precision),c=u((e[2]-a*e[0])/r,t.precision),s=function(n){return[u(n,t.precision),u(u(c+a*Math.log(n),t.precision),t.precision)]},f=n.map((function(n){return s(n[0])}));return{points:f,predict:s,equation:[c,a],string:"y = "+c+" + "+a+" ln(x)",r2:u(i(n,f),t.precision)}},power:function(n,t){for(var e=[0,0,0,0,0],r=n.length,o=0;o<r;o++)null!==n[o][1]&&(e[0]+=Math.log(n[o][0]),e[1]+=Math.log(n[o][1])*Math.log(n[o][0]),e[2]+=Math.log(n[o][1]),e[3]+=Math.pow(Math.log(n[o][0]),2));var a=(r*e[1]-e[0]*e[2])/(r*e[3]-Math.pow(e[0],2)),c=(e[2]-a*e[0])/r,s=u(Math.exp(c),t.precision),f=u(a,t.precision),l=function(n){return[u(n,t.precision),u(u(s*Math.pow(n,f),t.precision),t.precision)]},h=n.map((function(n){return l(n[0])}));return{points:h,predict:l,equation:[s,f],string:"y = "+s+"x^"+f,r2:u(i(n,h),t.precision)}},polynomial:function(n,t){for(var e=[],o=[],c=0,s=0,f=n.length,l=t.order+1,h=0;h<l;h++){for(var p=0;p<f;p++)null!==n[p][1]&&(c+=Math.pow(n[p][0],h)*n[p][1]);e.push(c),c=0;for(var v=[],d=0;d<l;d++){for(var g=0;g<f;g++)null!==n[g][1]&&(s+=Math.pow(n[g][0],h+d));v.push(s),s=0}o.push(v)}o.push(e);for(var y=a(o,l).map((function(n){return u(n,t.precision)})),m=function(n){return[u(n,t.precision),u(y.reduce((function(t,e,r){return t+e*Math.pow(n,r)}),0),t.precision)]},w=n.map((function(n){return m(n[0])})),_="y = ",b=y.length-1;b>=0;b--)_+=b>1?y[b]+"x^"+b+" + ":1===b?y[b]+"x + ":y[b];return{string:_,points:w,predict:m,equation:[].concat(r(y)).reverse(),r2:u(i(n,w),t.precision)}}};function s(){var n=function(n,r){return e({_round:u},n,t({},r,(function(n,t){return c[r](n,e({},o,t))})))};return Object.keys(c).reduce(n,{})}n.exports=s()}(Eg);var Sg={};Object.defineProperty(Sg,"__esModule",{value:!0});var Mg=ct.exports;Sg.default=function(n,t){for(var e=t||1,r=Mg.__read(n,2),o=r[0],i=r[1],a=[],u=o;u<i;)a.push(u),u+=e;return a.push(i),a};var Tg={};Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.nrd=Tg.silverman=void 0;var jg=Sh;Tg.silverman=function(n){var t=jg.standardDeviation(n),e=4*Math.pow(t,5),r=3*n.length;return Math.pow(e/r,.2)},Tg.nrd=function(n){var t=jg.standardDeviation(n),e=jg.interquartileRange(n);return"number"==typeof e&&(t=Math.min(t,e/1.34)),1.06*t*Math.pow(n.length,-.2)},Object.defineProperty(xg,"__esModule",{value:!0});var kg=ct.exports,Cg=kg.__importDefault(Eg.exports),Pg=st,Og=kg.__importDefault(Sg),Ng=yd,Ag=Tg,Rg={as:["x","y"],method:"linear",order:2,precision:2},Ig=["linear","exponential","logarithmic","power","polynomial"];Rh.DataSet.registerTransform("regression",(function(n,t){t=Pg.assign({},Rg,t);var e=Ng.getFields(t);if(!Pg.isArray(e)||2!==e.length)throw new TypeError("invalid fields: must be an array of 2 strings.");var r=kg.__read(e,2),o=r[0],i=r[1],a=t.method;if(-1===Ig.indexOf(a))throw new TypeError("invalid method: "+a+". Must be one of "+Ig.join(", "));var u=n.rows.map((function(n){return[n[o],n[i]]})),c=Cg.default[a](u,t),s=t.extent;Pg.isArray(s)&&2===s.length||(s=n.range(o));var f=t.bandwidth;(!Pg.isNumber(f)||f<=0)&&(f=Ag.silverman(n.getColumn(o)));var l=Og.default(s,f),h=[],p=kg.__read(t.as,2),v=p[0],d=p[1];l.forEach((function(n){var t={},e=kg.__read(c.predict(n),2),r=e[0],o=e[1];t[v]=r,t[d]=o,isFinite(o)&&h.push(t)})),n.rows=h})),xg.default={REGRESSION_METHODS:Ig};var Dg={},Lg={};function Bg(n){return Math.abs(n)<=1?.5:0}Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.default={boxcar:Bg,cosine:function(n){return Math.abs(n)<=1?Math.PI/4*Math.cos(Math.PI/2*n):0},epanechnikov:function(n){return Math.abs(n)<1?.75*(1-n*n):0},gaussian:function(n){return.3989422804*Math.exp(-.5*n*n)},quartic:function(n){if(Math.abs(n)<1){var t=1-n*n;return 15/16*t*t}return 0},triangular:function(n){var t=Math.abs(n);return t<1?1-t:0},tricube:function(n){return Math.abs(n)<1?70/81*function(n){var t=1-Math.pow(Math.abs(n),3);return Math.pow(t,3)}(n):0},triweight:function(n){if(Math.abs(n)<1){var t=1-n*n;return 35/32*t*t*t}return 0},uniform:Bg},Object.defineProperty(Dg,"__esModule",{value:!0});var zg=ct.exports,qg=st,Fg=zg.__importDefault(Sg),Gg=zg.__importDefault(Lg),Vg=zg.__importStar(Tg),Hg=zg.__importDefault(bl),Ug=Rh,Wg=yd,Yg=Sh,$g={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},Jg=qg.keys(Gg.default),Xg=qg.keys(Vg);function Qg(n,t){t=qg.assign({},$g,t);var e=Wg.getFields(t);if(!qg.isArray(e)||e.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var r=t.as;if(!qg.isArray(r)||3!==r.length)throw new TypeError("invalid as: must be an array of 3 strings!");var o=t.method;if(qg.isString(o)){if(-1===Jg.indexOf(o))throw new TypeError("invalid method: "+o+". Must be one of "+Jg.join(", "));o=Gg.default[o]}if(!qg.isFunction(o))throw new TypeError("invalid method: kernel method must be a function!");var i=t.extent;if(!qg.isArray(i)||0===i.length){var a=[];qg.each(e,(function(t){var e=n.range(t);a=a.concat(e)})),i=[Math.min.apply(Math,zg.__spread(a)),Math.max.apply(Math,zg.__spread(a))]}var u=t.bandwidth;qg.isString(u)&&Vg[u]?u=Vg[u](n.getColumn(e[0])):qg.isFunction(u)?u=u(n.getColumn(e[0])):(!qg.isNumber(u)||u<=0)&&(u=Vg.nrd(n.getColumn(e[0])));var c=Fg.default(i,t.step?t.step:u),s=[],f=t.groupBy,l=Hg.default(n.rows,f);qg.forIn(l,(function(n){var i={};qg.each(e,(function(e){var a=qg.pick(n[0],f);i[e]=Yg.kernelDensityEstimation(n.map((function(n){return n[e]})),o,u);var l=zg.__read(r,3),h=l[0],p=l[1],v=l[2];a[h]=e,a[p]=[],a[v]=[],qg.each(c,(function(n){var r=i[e](n);r>=t.minSize&&(a[p].push(n),a[v].push(r))})),s.push(a)}))})),n.rows=s}Ug.DataSet.registerTransform("kernel-density-estimation",Qg),Ug.DataSet.registerTransform("kde",Qg),Ug.DataSet.registerTransform("KDE",Qg),Dg.default={KERNEL_METHODS:Jg,BANDWIDTH_METHODS:Xg};Object.defineProperty({},"__esModule",{value:!0});var Kg=ct.exports,Zg=st,ny=Rh,ty=yd,ey={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},ry=Math.sqrt(3),oy=Math.PI/3,iy=[0,oy,2*oy,3*oy,4*oy,5*oy];function ay(n,t,e,r){return Math.sqrt((n-e)*(n-e)+(t-r)*(t-r))}function uy(n,t,e){var r=n-e;t/=2;var o=Math.floor(r/t);return[t*(o+(1===Math.abs(o%2)?1:0))+e,t*(o+(1===Math.abs(o%2)?0:1))+e]}function cy(n,t){t=Zg.assign({},ey,t);var e=ty.getFields(t);if(!Zg.isArray(e)||2!==e.length)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var r=Kg.__read(e,2),o=r[0],i=r[1],a=n.range(o),u=n.range(i),c=a[1]-a[0],s=u[1]-u[0],f=t.binWidth||[];if(2!==f.length){var l=Kg.__read(t.bins,2),h=l[0],p=l[1];if(h<=0||p<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");f=[c/h,s/p]}var v=Kg.__read(t.offset,2),d=v[0],g=v[1],y=3*f[0]/(ry*f[1]),m=function(n,t,e){void 0===t&&(t=[1,1]),void 0===e&&(e=[0,0]);var r={},o=Kg.__read(t,2),i=o[0],a=o[1],u=Kg.__read(e,2),c=u[0],s=u[1];return n.forEach((function(n){var t,e,o,u,f,l=Kg.__read(n,2),h=l[0],p=l[1],v=Kg.__read(uy(h,i,c),2),d=v[0],g=v[1],y=Kg.__read(uy(p,a,s),2),m=y[0],w=y[1];ay(h,p,d,m)<ay(h,p,g,w)?(o="x"+d+"y"+m,u=(t=Kg.__read([d,m],2))[0],f=t[1]):(o="x"+g+"y"+w,u=(e=Kg.__read([g,w],2))[0],f=e[1]),r[o]=r[o]||{x:u,y:f,count:0},r[o].count++})),r}(n.rows.map((function(n){return[n[o],y*n[i]]})),[f[0],y*f[1]],[d,y*g]),w=Kg.__read(t.as,3),_=w[0],b=w[1],x=w[2];if(!_||!b||!x)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var E=f[0]/ry,S=iy.map((function(n){return[Math.sin(n)*E,-Math.cos(n)*E]})),M=[],T=0;t.sizeByCount&&Zg.forIn(m,(function(n){n.count>T&&(T=n.count)})),Zg.forIn(m,(function(n){var e=n.x,r=n.y,o=n.count,i={};i[x]=o,t.sizeByCount?(i[_]=S.map((function(t){return e+n.count/T*t[0]})),i[b]=S.map((function(t){return(r+n.count/T*t[1])/y}))):(i[_]=S.map((function(n){return e+n[0]})),i[b]=S.map((function(n){return(r+n[1])/y}))),M.push(i)})),n.rows=M}ny.DataSet.registerTransform("bin.hexagon",cy),ny.DataSet.registerTransform("bin.hex",cy),ny.DataSet.registerTransform("hexbin",cy);Object.defineProperty({},"__esModule",{value:!0});var sy=ct.exports,fy=st,ly=sy.__importDefault(bl),hy=Rh,py=yd,vy={as:["x","count"],bins:void 0,offset:0,groupBy:[]};function dy(n,t){t=fy.assign({},vy,t);var e=py.getField(t);if(0!==n.rows.length){var r,o=n.range(e),i=o[1]-o[0],a=t.binWidth,u=t.bins;if(!a&&u){if(u<=0)throw new TypeError("Invalid bins: it must be a positive number!");a=i/u}if(!a&&!u){var c=(r=n.rows.length,Math.ceil(Math.log(r)/Math.LN2)+1);a=i/c}var s=t.offset%a,f=[],l=t.groupBy,h=ly.default(n.rows,l);fy.forIn(h,(function(n){var r={};n.map((function(n){return n[e]})).forEach((function(n){var t=sy.__read(function(n,t,e){var r=n-e,o=Math.floor(r/t);return[o*t+e,(o+1)*t+e]}(n,a,s),2),e=t[0],o=t[1],i=e+"-"+o;r[i]=r[i]||{x0:e,x1:o,count:0},r[i].count++}));var o=sy.__read(t.as,2),i=o[0],u=o[1];if(!i||!u)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var c=fy.pick(n[0],l);fy.forIn(r,(function(n){var t=fy.assign({},c);t[i]=[n.x0,n.x1],t[u]=n.count,f.push(t)}))})),n.rows=f}}hy.DataSet.registerTransform("bin.histogram",dy),hy.DataSet.registerTransform("bin.dot",dy);Object.defineProperty({},"__esModule",{value:!0});var gy=ct.exports,yy=st,my=Sh,wy=gy.__importDefault(bl),_y=gy.__importDefault(Mh),by=Rh.DataSet.registerTransform,xy=yd,Ey={as:"_bin",groupBy:[],fraction:4};by("bin.quantile",(function(n,t){t=yy.assign({},Ey,t);var e=xy.getField(t),r=t.as;if(!yy.isString(r))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var o=t.p,i=t.fraction;yy.isArray(o)&&0!==o.length||(o=_y.default(i));var a=n.rows,u=t.groupBy,c=wy.default(a,u),s=[];yy.forIn(c,(function(n){var t=n[0],i=n.map((function(n){return n[e]})),a=o.map((function(n){return my.quantile(i,n)}));t[r]=a,s.push(t)})),n.rows=s}));Object.defineProperty({},"__esModule",{value:!0});var Sy=ct.exports,My=st,Ty=Rh.DataSet.registerTransform,jy=yd,ky={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function Cy(n,t,e){var r=n-e,o=Math.floor(r/t);return[o*t+e,(o+1)*t+e]}function Py(n,t){t=My.assign({},ky,t);var e=Sy.__read(jy.getFields(t),2),r=e[0],o=e[1];if(!r||!o)throw new TypeError("Invalid fields: must be an array with 2 strings!");var i=n.range(r),a=n.range(o),u=i[1]-i[0],c=a[1]-a[0],s=t.binWidth||[];if(2!==s.length){var f=Sy.__read(t.bins,2),l=f[0],h=f[1];if(l<=0||h<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");s=[u/l,c/h]}var p=n.rows.map((function(n){return[n[r],n[o]]})),v={},d=Sy.__read(t.offset,2),g=d[0],y=d[1];p.forEach((function(n){var t=Sy.__read(Cy(n[0],s[0],g),2),e=t[0],r=t[1],o=Sy.__read(Cy(n[1],s[1],y),2),i=o[0],a=o[1],u=e+"-"+r+"-"+i+"-"+a;v[u]=v[u]||{x0:e,x1:r,y0:i,y1:a,count:0},v[u].count++}));var m=[],w=Sy.__read(t.as,3),_=w[0],b=w[1],x=w[2];if(!_||!b||!x)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(t.sizeByCount){var E=0;My.forIn(v,(function(n){n.count>E&&(E=n.count)})),My.forIn(v,(function(n){var t=n.x0,e=n.x1,r=n.y0,o=n.y1,i=n.count,a=i/E,u=Sy.__read([(t+e)/2,(r+o)/2],2),c=u[0],s=u[1],f=(e-t)*a/2,l=(o-r)*a/2,h=c-f,p=c+f,v=s-l,d=s+l,g={};g[_]=[h,p,p,h],g[b]=[v,v,d,d],g[x]=i,m.push(g)}))}else My.forIn(v,(function(n){var t={};t[_]=[n.x0,n.x1,n.x1,n.x0],t[b]=[n.y0,n.y0,n.y1,n.y1],t[x]=n.count,m.push(t)}));n.rows=m}Ty("bin.rectangle",Py),Ty("bin.rect",Py);Object.defineProperty({},"__esModule",{value:!0});var Oy=st,Ny=Rh.DataSet.registerTransform,Ay=yd,Ry={as:["_centroid_x","_centroid_y"]};Ny("geo.centroid",(function(n,t){t=Oy.assign({},Ry,t);var e=Ay.getField(t),r=t.geoView||t.geoDataView;if(Oy.isString(r)&&n.dataSet&&(r=n.dataSet.getView(r)),!r||"geo"!==r.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var o=t.as;if(!Oy.isArray(o)||2!==o.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var i=o[0],a=o[1];n.rows.forEach((function(n){var t=r.geoFeatureByName(n[e]);t&&(r._projectedAs?(n[i]=t[r._projectedAs[2]],n[a]=t[r._projectedAs[3]]):(n[i]=t.centroidX,n[a]=t.centroidY))}))}));Object.defineProperty({},"__esModule",{value:!0});var Iy=ct.exports,Dy=st,Ly=Ai,By=Iy.__importDefault(Cp),zy=Rh.DataSet.registerTransform,qy=Iy.__importDefault(vs),Fy={as:["_x","_y","_centroid_x","_centroid_y"]};zy("geo.projection",(function(n,t){if("geo"!==n.dataType&&"geo-graticule"!==n.dataType)throw new TypeError("Invalid dataView: this transform is for Geo data only!");var e=(t=Dy.assign({},Fy,t)).projection;if(!e)throw new TypeError("Invalid projection!");e=qy.default(e);var r=Ly.geoPath(e),o=t.as;if(!Dy.isArray(o)||4!==o.length)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');n._projectedAs=o;var i=Iy.__read(o,4),a=i[0],u=i[1],c=i[2],s=i[3];n.rows.forEach((function(n){n[a]=[],n[u]=[];var t=r(n);if(t){By.default(t)._path.forEach((function(t){n[a].push(t[1]),n[u].push(t[2])}));var e=r.centroid(n);n[c]=e[0],n[s]=e[1]}})),n.rows=n.rows.filter((function(n){return 0!==n[a].length}))}));Object.defineProperty({},"__esModule",{value:!0});var Gy=st,Vy=Rh.DataSet.registerTransform,Hy=yd,Uy={as:["_x","_y"]};Vy("geo.region",(function(n,t){t=Gy.assign({},Uy,t);var e=Hy.getField(t),r=t.geoView||t.geoDataView;if(Gy.isString(r)&&(r=n.dataSet.getView(r)),!r||"geo"!==r.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var o=t.as;if(!Gy.isArray(o)||2!==o.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i=o[0],a=o[1];n.rows.forEach((function(n){var t=r.geoFeatureByName(n[e]);t&&(r._projectedAs?(n[i]=t[r._projectedAs[0]],n[a]=t[r._projectedAs[1]]):(n[i]=t.longitude,n[a]=t.latitude))}))}));Object.defineProperty({},"__esModule",{value:!0});var Wy=st,Yy=Rh,$y={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(n){return n.id},source:function(n){return n.source},target:function(n){return n.target},sourceWeight:function(n){return n.value||1},targetWeight:function(n){return n.value||1},sortBy:null};function Jy(n,t){t=Wy.assign({},$y,t);var e={},r=n.nodes,o=n.edges;Wy.isArray(r)&&0!==r.length||(r=function(n,t,e){return void 0===e&&(e={}),n.forEach((function(n){var r=t.edgeSource(n),o=t.edgeTarget(n);e[r]||(e[r]={id:r}),e[o]||(e[o]={id:o})})),Wy.values(e)}(o,t,e)),r.forEach((function(n){var r=t.id(n);e[r]=n})),function(n,t,e){Wy.forIn(n,(function(n,r){n.inEdges=t.filter((function(n){return""+e.target(n)==""+r})),n.outEdges=t.filter((function(n){return""+e.source(n)==""+r})),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach((function(t){n.value+=e.targetWeight(t)})),n.outEdges.forEach((function(t){n.value+=e.sourceWeight(t)}))}))}(e,o,t),function(n,t){var e={weight:function(n,t){return t.value-n.value},frequency:function(n,t){return t.frequency-n.frequency},id:function(n,e){return(""+t.id(n)).localeCompare(""+t.id(e))}}[t.sortBy];!e&&Wy.isFunction(t.sortBy)&&(e=t.sortBy),e&&n.sort(e)}(r,t),function(n,t){var e=n.length;if(!e)throw new TypeError("Invalid nodes: it's empty!");if(t.weight){var r=t.marginRatio;if(r<0||r>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var o=r/(2*e),i=t.thickness;if(i<=0||i>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var a=0;n.forEach((function(n){a+=n.value})),n.forEach((function(n){n.weight=n.value/a,n.width=n.weight*(1-r),n.height=i})),n.forEach((function(e,r){for(var a=0,u=r-1;u>=0;u--)a+=n[u].width+2*o;var c=e.minX=o+a,s=e.maxX=e.minX+e.width,f=e.minY=t.y-i/2,l=e.maxY=f+i;e.x=[c,s,s,c],e.y=[f,f,l,l]}))}else{var u=1/e;n.forEach((function(n,e){n.x=(e+.5)*u,n.y=t.y}))}}(r,t),function(n,t,e){if(e.weight){var r={};Wy.forIn(n,(function(n,t){r[t]=n.value})),t.forEach((function(t){var o=e.source(t),i=e.target(t),a=n[o],u=n[i];if(a&&u){var c=r[o],s=e.sourceWeight(t),f=a.minX+(a.value-c)/a.value*a.width,l=f+s/a.value*a.width;r[o]-=s;var h=r[i],p=e.targetWeight(t),v=u.minX+(u.value-h)/u.value*u.width,d=v+p/u.value*u.width;r[i]-=p;var g=e.y;t.x=[f,l,v,d],t.y=[g,g,g,g]}}))}else t.forEach((function(t){var r=n[e.source(t)],o=n[e.target(t)];r&&o&&(t.x=[r.x,o.x],t.y=[r.y,o.y])}))}(e,o,t),n.nodes=r,n.edges=o}Yy.DataSet.registerTransform("diagram.arc",Jy),Yy.DataSet.registerTransform("arc",Jy);var Xy=function(){this.__data__=[],this.size=0};var Qy=function(n,t){return n===t||n!=n&&t!=t},Ky=Qy;var Zy=function(n,t){for(var e=n.length;e--;)if(Ky(n[e][0],t))return e;return-1},nm=Zy,tm=Array.prototype.splice;var em=Zy;var rm=Zy;var om=Zy;var im=Xy,am=function(n){var t=this.__data__,e=nm(t,n);return!(e<0)&&(e==t.length-1?t.pop():tm.call(t,e,1),--this.size,!0)},um=function(n){var t=this.__data__,e=em(t,n);return e<0?void 0:t[e][1]},cm=function(n){return rm(this.__data__,n)>-1},sm=function(n,t){var e=this.__data__,r=om(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this};function fm(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}fm.prototype.clear=im,fm.prototype.delete=am,fm.prototype.get=um,fm.prototype.has=cm,fm.prototype.set=sm;var lm=fm,hm=lm;var pm=function(){this.__data__=new hm,this.size=0};var vm=function(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e};var dm=function(n){return this.__data__.get(n)};var gm=function(n){return this.__data__.has(n)},ym="object"==typeof n&&n&&n.Object===Object&&n,mm=ym,wm="object"==typeof self&&self&&self.Object===Object&&self,_m=mm||wm||Function("return this")(),bm=_m.Symbol,xm=bm,Em=Object.prototype,Sm=Em.hasOwnProperty,Mm=Em.toString,Tm=xm?xm.toStringTag:void 0;var jm=function(n){var t=Sm.call(n,Tm),e=n[Tm];try{n[Tm]=void 0;var r=!0}catch(i){}var o=Mm.call(n);return r&&(t?n[Tm]=e:delete n[Tm]),o},km=Object.prototype.toString;var Cm=jm,Pm=function(n){return km.call(n)},Om=bm?bm.toStringTag:void 0;var Nm=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":Om&&Om in Object(n)?Cm(n):Pm(n)};var Am=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},Rm=Nm,Im=Am;var Dm,Lm=function(n){if(!Im(n))return!1;var t=Rm(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Bm=_m["__core-js_shared__"],zm=(Dm=/[^.]+$/.exec(Bm&&Bm.keys&&Bm.keys.IE_PROTO||""))?"Symbol(src)_1."+Dm:"";var qm=function(n){return!!zm&&zm in n},Fm=Function.prototype.toString;var Gm=function(n){if(null!=n){try{return Fm.call(n)}catch(t){}try{return n+""}catch(t){}}return""},Vm=Lm,Hm=qm,Um=Am,Wm=Gm,Ym=/^\[object .+?Constructor\]$/,$m=Function.prototype,Jm=Object.prototype,Xm=$m.toString,Qm=Jm.hasOwnProperty,Km=RegExp("^"+Xm.call(Qm).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Zm=function(n){return!(!Um(n)||Hm(n))&&(Vm(n)?Km:Ym).test(Wm(n))},nw=function(n,t){return null==n?void 0:n[t]};var tw=function(n,t){var e=nw(n,t);return Zm(e)?e:void 0},ew=tw(_m,"Map"),rw=tw(Object,"create"),ow=rw;var iw=function(){this.__data__=ow?ow(null):{},this.size=0};var aw=function(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},uw=rw,cw=Object.prototype.hasOwnProperty;var sw=function(n){var t=this.__data__;if(uw){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return cw.call(t,n)?t[n]:void 0},fw=rw,lw=Object.prototype.hasOwnProperty;var hw=rw;var pw=iw,vw=aw,dw=sw,gw=function(n){var t=this.__data__;return fw?void 0!==t[n]:lw.call(t,n)},yw=function(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=hw&&void 0===t?"__lodash_hash_undefined__":t,this};function mw(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}mw.prototype.clear=pw,mw.prototype.delete=vw,mw.prototype.get=dw,mw.prototype.has=gw,mw.prototype.set=yw;var ww=mw,_w=lm,bw=ew;var xw=function(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n};var Ew=function(n,t){var e=n.__data__;return xw(t)?e["string"==typeof t?"string":"hash"]:e.map},Sw=Ew;var Mw=Ew;var Tw=Ew;var jw=Ew;var kw=function(){this.size=0,this.__data__={hash:new ww,map:new(bw||_w),string:new ww}},Cw=function(n){var t=Sw(this,n).delete(n);return this.size-=t?1:0,t},Pw=function(n){return Mw(this,n).get(n)},Ow=function(n){return Tw(this,n).has(n)},Nw=function(n,t){var e=jw(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this};function Aw(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Aw.prototype.clear=kw,Aw.prototype.delete=Cw,Aw.prototype.get=Pw,Aw.prototype.has=Ow,Aw.prototype.set=Nw;var Rw=Aw,Iw=lm,Dw=ew,Lw=Rw;var Bw=lm,zw=pm,qw=vm,Fw=dm,Gw=gm,Vw=function(n,t){var e=this.__data__;if(e instanceof Iw){var r=e.__data__;if(!Dw||r.length<199)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new Lw(r)}return e.set(n,t),this.size=e.size,this};function Hw(n){var t=this.__data__=new Bw(n);this.size=t.size}Hw.prototype.clear=zw,Hw.prototype.delete=qw,Hw.prototype.get=Fw,Hw.prototype.has=Gw,Hw.prototype.set=Vw;var Uw=Hw;var Ww=function(n,t){for(var e=-1,r=null==n?0:n.length;++e<r&&!1!==t(n[e],e,n););return n},Yw=tw,$w=function(){try{var n=Yw(Object,"defineProperty");return n({},"",{}),n}catch(t){}}(),Jw=$w;var Xw=function(n,t,e){"__proto__"==t&&Jw?Jw(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e},Qw=Xw,Kw=Qy,Zw=Object.prototype.hasOwnProperty;var n_=function(n,t,e){var r=n[t];Zw.call(n,t)&&Kw(r,e)&&(void 0!==e||t in n)||Qw(n,t,e)},t_=n_,e_=Xw;var r_=function(n,t,e,r){var o=!e;e||(e={});for(var i=-1,a=t.length;++i<a;){var u=t[i],c=r?r(e[u],n[u],u,e,n):void 0;void 0===c&&(c=n[u]),o?e_(e,u,c):t_(e,u,c)}return e};var o_=function(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r};var i_=function(n){return null!=n&&"object"==typeof n},a_=Nm,u_=i_;var c_=function(n){return u_(n)&&"[object Arguments]"==a_(n)},s_=i_,f_=Object.prototype,l_=f_.hasOwnProperty,h_=f_.propertyIsEnumerable,p_=c_(function(){return arguments}())?c_:function(n){return s_(n)&&l_.call(n,"callee")&&!h_.call(n,"callee")},v_=Array.isArray,d_={exports:{}};var g_=function(){return!1};!function(n,t){var e=_m,r=g_,o=t&&!t.nodeType&&t,i=o&&n&&!n.nodeType&&n,a=i&&i.exports===o?e.Buffer:void 0,u=(a?a.isBuffer:void 0)||r;n.exports=u}(d_,d_.exports);var y_=/^(?:0|[1-9]\d*)$/;var m_=function(n,t){var e=typeof n;return!!(t=null==t?9007199254740991:t)&&("number"==e||"symbol"!=e&&y_.test(n))&&n>-1&&n%1==0&&n<t};var w_=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},__=Nm,b_=w_,x_=i_,E_={};E_["[object Float32Array]"]=E_["[object Float64Array]"]=E_["[object Int8Array]"]=E_["[object Int16Array]"]=E_["[object Int32Array]"]=E_["[object Uint8Array]"]=E_["[object Uint8ClampedArray]"]=E_["[object Uint16Array]"]=E_["[object Uint32Array]"]=!0,E_["[object Arguments]"]=E_["[object Array]"]=E_["[object ArrayBuffer]"]=E_["[object Boolean]"]=E_["[object DataView]"]=E_["[object Date]"]=E_["[object Error]"]=E_["[object Function]"]=E_["[object Map]"]=E_["[object Number]"]=E_["[object Object]"]=E_["[object RegExp]"]=E_["[object Set]"]=E_["[object String]"]=E_["[object WeakMap]"]=!1;var S_=function(n){return x_(n)&&b_(n.length)&&!!E_[__(n)]};var M_=function(n){return function(t){return n(t)}},T_={exports:{}};!function(n,t){var e=ym,r=t&&!t.nodeType&&t,o=r&&n&&!n.nodeType&&n,i=o&&o.exports===r&&e.process,a=function(){try{var n=o&&o.require&&o.require("util").types;return n||i&&i.binding&&i.binding("util")}catch(t){}}();n.exports=a}(T_,T_.exports);var j_=S_,k_=M_,C_=T_.exports,P_=C_&&C_.isTypedArray,O_=P_?k_(P_):j_,N_=o_,A_=p_,R_=v_,I_=d_.exports,D_=m_,L_=O_,B_=Object.prototype.hasOwnProperty;var z_=function(n,t){var e=R_(n),r=!e&&A_(n),o=!e&&!r&&I_(n),i=!e&&!r&&!o&&L_(n),a=e||r||o||i,u=a?N_(n.length,String):[],c=u.length;for(var s in n)!t&&!B_.call(n,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||D_(s,c))||u.push(s);return u},q_=Object.prototype;var F_=function(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||q_)};var G_=function(n,t){return function(e){return n(t(e))}},V_=G_(Object.keys,Object),H_=F_,U_=V_,W_=Object.prototype.hasOwnProperty;var Y_=function(n){if(!H_(n))return U_(n);var t=[];for(var e in Object(n))W_.call(n,e)&&"constructor"!=e&&t.push(e);return t},$_=Lm,J_=w_;var X_=function(n){return null!=n&&J_(n.length)&&!$_(n)},Q_=z_,K_=Y_,Z_=X_;var nb=function(n){return Z_(n)?Q_(n):K_(n)},tb=r_,eb=nb;var rb=function(n,t){return n&&tb(t,eb(t),n)};var ob=Am,ib=F_,ab=function(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t},ub=Object.prototype.hasOwnProperty;var cb=z_,sb=function(n){if(!ob(n))return ab(n);var t=ib(n),e=[];for(var r in n)("constructor"!=r||!t&&ub.call(n,r))&&e.push(r);return e},fb=X_;var lb=function(n){return fb(n)?cb(n,!0):sb(n)},hb=r_,pb=lb;var vb=function(n,t){return n&&hb(t,pb(t),n)},db={exports:{}};!function(n,t){var e=_m,r=t&&!t.nodeType&&t,o=r&&n&&!n.nodeType&&n,i=o&&o.exports===r?e.Buffer:void 0,a=i?i.allocUnsafe:void 0;n.exports=function(n,t){if(t)return n.slice();var e=n.length,r=a?a(e):new n.constructor(e);return n.copy(r),r}}(db,db.exports);var gb=function(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t};var yb=function(n,t){for(var e=-1,r=null==n?0:n.length,o=0,i=[];++e<r;){var a=n[e];t(a,e,n)&&(i[o++]=a)}return i};var mb=function(){return[]},wb=yb,_b=mb,bb=Object.prototype.propertyIsEnumerable,xb=Object.getOwnPropertySymbols,Eb=xb?function(n){return null==n?[]:(n=Object(n),wb(xb(n),(function(t){return bb.call(n,t)})))}:_b,Sb=r_,Mb=Eb;var Tb=function(n,t){return Sb(n,Mb(n),t)};var jb=function(n,t){for(var e=-1,r=t.length,o=n.length;++e<r;)n[o+e]=t[e];return n},kb=G_(Object.getPrototypeOf,Object),Cb=jb,Pb=kb,Ob=Eb,Nb=mb,Ab=Object.getOwnPropertySymbols?function(n){for(var t=[];n;)Cb(t,Ob(n)),n=Pb(n);return t}:Nb,Rb=r_,Ib=Ab;var Db=function(n,t){return Rb(n,Ib(n),t)},Lb=jb,Bb=v_;var zb=function(n,t,e){var r=t(n);return Bb(n)?r:Lb(r,e(n))},qb=zb,Fb=Eb,Gb=nb;var Vb=function(n){return qb(n,Gb,Fb)},Hb=zb,Ub=Ab,Wb=lb;var Yb=function(n){return Hb(n,Wb,Ub)},$b=tw(_m,"DataView"),Jb=tw(_m,"Promise"),Xb=tw(_m,"Set"),Qb=$b,Kb=ew,Zb=Jb,nx=Xb,tx=tw(_m,"WeakMap"),ex=Nm,rx=Gm,ox=rx(Qb),ix=rx(Kb),ax=rx(Zb),ux=rx(nx),cx=rx(tx),sx=ex;(Qb&&"[object DataView]"!=sx(new Qb(new ArrayBuffer(1)))||Kb&&"[object Map]"!=sx(new Kb)||Zb&&"[object Promise]"!=sx(Zb.resolve())||nx&&"[object Set]"!=sx(new nx)||tx&&"[object WeakMap]"!=sx(new tx))&&(sx=function(n){var t=ex(n),e="[object Object]"==t?n.constructor:void 0,r=e?rx(e):"";if(r)switch(r){case ox:return"[object DataView]";case ix:return"[object Map]";case ax:return"[object Promise]";case ux:return"[object Set]";case cx:return"[object WeakMap]"}return t});var fx=sx,lx=Object.prototype.hasOwnProperty;var hx=function(n){var t=n.length,e=new n.constructor(t);return t&&"string"==typeof n[0]&&lx.call(n,"index")&&(e.index=n.index,e.input=n.input),e},px=_m.Uint8Array,vx=px;var dx=function(n){var t=new n.constructor(n.byteLength);return new vx(t).set(new vx(n)),t},gx=dx;var yx=function(n,t){var e=t?gx(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)},mx=/\w*$/;var wx=function(n){var t=new n.constructor(n.source,mx.exec(n));return t.lastIndex=n.lastIndex,t},_x=bm?bm.prototype:void 0,bx=_x?_x.valueOf:void 0;var xx=dx;var Ex=function(n,t){var e=t?xx(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)},Sx=dx,Mx=yx,Tx=wx,jx=function(n){return bx?Object(bx.call(n)):{}},kx=Ex;var Cx=function(n,t,e){var r=n.constructor;switch(t){case"[object ArrayBuffer]":return Sx(n);case"[object Boolean]":case"[object Date]":return new r(+n);case"[object DataView]":return Mx(n,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return kx(n,e);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(n);case"[object RegExp]":return Tx(n);case"[object Set]":return new r;case"[object Symbol]":return jx(n)}},Px=Am,Ox=Object.create,Nx=function(){function n(){}return function(t){if(!Px(t))return{};if(Ox)return Ox(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}(),Ax=Nx,Rx=kb,Ix=F_;var Dx=function(n){return"function"!=typeof n.constructor||Ix(n)?{}:Ax(Rx(n))},Lx=fx,Bx=i_;var zx=function(n){return Bx(n)&&"[object Map]"==Lx(n)},qx=M_,Fx=T_.exports,Gx=Fx&&Fx.isMap,Vx=Gx?qx(Gx):zx,Hx=fx,Ux=i_;var Wx=function(n){return Ux(n)&&"[object Set]"==Hx(n)},Yx=M_,$x=T_.exports,Jx=$x&&$x.isSet,Xx=Jx?Yx(Jx):Wx,Qx=Uw,Kx=Ww,Zx=n_,nE=rb,tE=vb,eE=db.exports,rE=gb,oE=Tb,iE=Db,aE=Vb,uE=Yb,cE=fx,sE=hx,fE=Cx,lE=Dx,hE=v_,pE=d_.exports,vE=Vx,dE=Am,gE=Xx,yE=nb,mE=lb,wE={};wE["[object Arguments]"]=wE["[object Array]"]=wE["[object ArrayBuffer]"]=wE["[object DataView]"]=wE["[object Boolean]"]=wE["[object Date]"]=wE["[object Float32Array]"]=wE["[object Float64Array]"]=wE["[object Int8Array]"]=wE["[object Int16Array]"]=wE["[object Int32Array]"]=wE["[object Map]"]=wE["[object Number]"]=wE["[object Object]"]=wE["[object RegExp]"]=wE["[object Set]"]=wE["[object String]"]=wE["[object Symbol]"]=wE["[object Uint8Array]"]=wE["[object Uint8ClampedArray]"]=wE["[object Uint16Array]"]=wE["[object Uint32Array]"]=!0,wE["[object Error]"]=wE["[object Function]"]=wE["[object WeakMap]"]=!1;var _E=function n(t,e,r,o,i,a){var u,c=1&e,s=2&e,f=4&e;if(r&&(u=i?r(t,o,i,a):r(t)),void 0!==u)return u;if(!dE(t))return t;var l=hE(t);if(l){if(u=sE(t),!c)return rE(t,u)}else{var h=cE(t),p="[object Function]"==h||"[object GeneratorFunction]"==h;if(pE(t))return eE(t,c);if("[object Object]"==h||"[object Arguments]"==h||p&&!i){if(u=s||p?{}:lE(t),!c)return s?iE(t,tE(u,t)):oE(t,nE(u,t))}else{if(!wE[h])return i?t:{};u=fE(t,h,c)}}a||(a=new Qx);var v=a.get(t);if(v)return v;a.set(t,u),gE(t)?t.forEach((function(o){u.add(n(o,e,r,o,t,a))})):vE(t)&&t.forEach((function(o,i){u.set(i,n(o,e,r,i,t,a))}));var d=l?void 0:(f?s?uE:aE:s?mE:yE)(t);return Kx(d||t,(function(o,i){d&&(o=t[i=o]),Zx(u,i,n(o,e,r,i,t,a))})),u},bE=_E;var xE=function(n){return bE(n,4)};var EE=function(n){return function(){return n}};var SE=function(n){return function(t,e,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var c=a[n?u:++o];if(!1===e(i[c],c,i))break}return t}}(),ME=SE,TE=nb;var jE=function(n,t){return n&&ME(n,t,TE)},kE=X_;var CE=function(n,t){return function(e,r){if(null==e)return e;if(!kE(e))return n(e,r);for(var o=e.length,i=t?o:-1,a=Object(e);(t?i--:++i<o)&&!1!==r(a[i],i,a););return e}}(jE);var PE=function(n){return n},OE=PE;var NE=function(n){return"function"==typeof n?n:OE},AE=Ww,RE=CE,IE=NE,DE=v_;var LE=function(n,t){return(DE(n)?AE:RE)(n,IE(t))},BE=LE,zE=CE;var qE=function(n,t){var e=[];return zE(n,(function(n,r,o){t(n,r,o)&&e.push(n)})),e};var FE=Rw,GE=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},VE=function(n){return this.__data__.has(n)};function HE(n){var t=-1,e=null==n?0:n.length;for(this.__data__=new FE;++t<e;)this.add(n[t])}HE.prototype.add=HE.prototype.push=GE,HE.prototype.has=VE;var UE=HE;var WE=function(n,t){return n.has(t)},YE=UE,$E=function(n,t){for(var e=-1,r=null==n?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1},JE=WE;var XE=function(n,t,e,r,o,i){var a=1&e,u=n.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(n),f=i.get(t);if(s&&f)return s==t&&f==n;var l=-1,h=!0,p=2&e?new YE:void 0;for(i.set(n,t),i.set(t,n);++l<u;){var v=n[l],d=t[l];if(r)var g=a?r(d,v,l,t,n,i):r(v,d,l,n,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!$E(t,(function(n,t){if(!JE(p,t)&&(v===n||o(v,n,e,r,i)))return p.push(t)}))){h=!1;break}}else if(v!==d&&!o(v,d,e,r,i)){h=!1;break}}return i.delete(n),i.delete(t),h};var QE=function(n){var t=-1,e=Array(n.size);return n.forEach((function(n){e[++t]=n})),e},KE=px,ZE=Qy,nS=XE,tS=function(n){var t=-1,e=Array(n.size);return n.forEach((function(n,r){e[++t]=[r,n]})),e},eS=QE,rS=bm?bm.prototype:void 0,oS=rS?rS.valueOf:void 0;var iS=function(n,t,e,r,o,i,a){switch(e){case"[object DataView]":if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=t.byteLength||!i(new KE(n),new KE(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ZE(+n,+t);case"[object Error]":return n.name==t.name&&n.message==t.message;case"[object RegExp]":case"[object String]":return n==t+"";case"[object Map]":var u=tS;case"[object Set]":var c=1&r;if(u||(u=eS),n.size!=t.size&&!c)return!1;var s=a.get(n);if(s)return s==t;r|=2,a.set(n,t);var f=nS(u(n),u(t),r,o,i,a);return a.delete(n),f;case"[object Symbol]":if(oS)return oS.call(n)==oS.call(t)}return!1},aS=Vb,uS=Object.prototype.hasOwnProperty;var cS=Uw,sS=XE,fS=iS,lS=function(n,t,e,r,o,i){var a=1&e,u=aS(n),c=u.length;if(c!=aS(t).length&&!a)return!1;for(var s=c;s--;){var f=u[s];if(!(a?f in t:uS.call(t,f)))return!1}var l=i.get(n),h=i.get(t);if(l&&h)return l==t&&h==n;var p=!0;i.set(n,t),i.set(t,n);for(var v=a;++s<c;){var d=n[f=u[s]],g=t[f];if(r)var y=a?r(g,d,f,t,n,i):r(d,g,f,n,t,i);if(!(void 0===y?d===g||o(d,g,e,r,i):y)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var m=n.constructor,w=t.constructor;m==w||!("constructor"in n)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof w&&w instanceof w||(p=!1)}return i.delete(n),i.delete(t),p},hS=fx,pS=v_,vS=d_.exports,dS=O_,gS=Object.prototype.hasOwnProperty;var yS=function(n,t,e,r,o,i){var a=pS(n),u=pS(t),c=a?"[object Array]":hS(n),s=u?"[object Array]":hS(t),f="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),l="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),h=c==s;if(h&&vS(n)){if(!vS(t))return!1;a=!0,f=!1}if(h&&!f)return i||(i=new cS),a||dS(n)?sS(n,t,e,r,o,i):fS(n,t,c,e,r,o,i);if(!(1&e)){var p=f&&gS.call(n,"__wrapped__"),v=l&&gS.call(t,"__wrapped__");if(p||v){var d=p?n.value():n,g=v?t.value():t;return i||(i=new cS),o(d,g,e,r,i)}}return!!h&&(i||(i=new cS),lS(n,t,e,r,o,i))},mS=i_;var wS=function n(t,e,r,o,i){return t===e||(null==t||null==e||!mS(t)&&!mS(e)?t!=t&&e!=e:yS(t,e,r,o,n,i))},_S=Uw,bS=wS;var xS=Am;var ES=function(n){return n==n&&!xS(n)},SS=ES,MS=nb;var TS=function(n,t){return function(e){return null!=e&&(e[n]===t&&(void 0!==t||n in Object(e)))}},jS=function(n,t,e,r){var o=e.length,i=o,a=!r;if(null==n)return!i;for(n=Object(n);o--;){var u=e[o];if(a&&u[2]?u[1]!==n[u[0]]:!(u[0]in n))return!1}for(;++o<i;){var c=(u=e[o])[0],s=n[c],f=u[1];if(a&&u[2]){if(void 0===s&&!(c in n))return!1}else{var l=new _S;if(r)var h=r(s,f,c,n,t,l);if(!(void 0===h?bS(f,s,3,r,l):h))return!1}}return!0},kS=function(n){for(var t=MS(n),e=t.length;e--;){var r=t[e],o=n[r];t[e]=[r,o,SS(o)]}return t},CS=TS;var PS=function(n){var t=kS(n);return 1==t.length&&t[0][2]?CS(t[0][0],t[0][1]):function(e){return e===n||jS(e,n,t)}},OS=Nm,NS=i_;var AS=function(n){return"symbol"==typeof n||NS(n)&&"[object Symbol]"==OS(n)},RS=v_,IS=AS,DS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LS=/^\w*$/;var BS=function(n,t){if(RS(n))return!1;var e=typeof n;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=n&&!IS(n))||(LS.test(n)||!DS.test(n)||null!=t&&n in Object(t))},zS=Rw;function qS(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var e=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var a=n.apply(this,r);return e.cache=i.set(o,a)||i,a};return e.cache=new(qS.Cache||zS),e}qS.Cache=zS;var FS=qS;var GS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,VS=/\\(\\)?/g,HS=function(n){var t=FS(n,(function(n){return 500===e.size&&e.clear(),n})),e=t.cache;return t}((function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(GS,(function(n,e,r,o){t.push(r?o.replace(VS,"$1"):e||n)})),t}));var US=function(n,t){for(var e=-1,r=null==n?0:n.length,o=Array(r);++e<r;)o[e]=t(n[e],e,n);return o},WS=US,YS=v_,$S=AS,JS=bm?bm.prototype:void 0,XS=JS?JS.toString:void 0;var QS=function n(t){if("string"==typeof t)return t;if(YS(t))return WS(t,n)+"";if($S(t))return XS?XS.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var KS=function(n){return null==n?"":QS(n)},ZS=v_,nM=BS,tM=HS,eM=KS;var rM=function(n,t){return ZS(n)?n:nM(n,t)?[n]:tM(eM(n))},oM=AS;var iM=function(n){if("string"==typeof n||oM(n))return n;var t=n+"";return"0"==t&&1/n==-Infinity?"-0":t},aM=rM,uM=iM;var cM=function(n,t){for(var e=0,r=(t=aM(t,n)).length;null!=n&&e<r;)n=n[uM(t[e++])];return e&&e==r?n:void 0},sM=cM;var fM=rM,lM=p_,hM=v_,pM=m_,vM=w_,dM=iM;var gM=function(n,t,e){for(var r=-1,o=(t=fM(t,n)).length,i=!1;++r<o;){var a=dM(t[r]);if(!(i=null!=n&&e(n,a)))break;n=n[a]}return i||++r!=o?i:!!(o=null==n?0:n.length)&&vM(o)&&pM(a,o)&&(hM(n)||lM(n))},yM=function(n,t){return null!=n&&t in Object(n)},mM=gM;var wM=function(n,t){return null!=n&&mM(n,t,yM)},_M=wS,bM=function(n,t,e){var r=null==n?void 0:sM(n,t);return void 0===r?e:r},xM=wM,EM=BS,SM=ES,MM=TS,TM=iM;var jM=function(n){return function(t){return null==t?void 0:t[n]}},kM=cM;var CM=jM,PM=function(n){return function(t){return kM(t,n)}},OM=BS,NM=iM;var AM=PS,RM=function(n,t){return EM(n)&&SM(t)?MM(TM(n),t):function(e){var r=bM(e,n);return void 0===r&&r===t?xM(e,n):_M(t,r,3)}},IM=PE,DM=v_,LM=function(n){return OM(n)?CM(NM(n)):PM(n)};var BM=function(n){return"function"==typeof n?n:null==n?IM:"object"==typeof n?DM(n)?RM(n[0],n[1]):AM(n):LM(n)},zM=yb,qM=qE,FM=BM,GM=v_;var VM=function(n,t){return(GM(n)?zM:qM)(n,FM(t))},HM=Object.prototype.hasOwnProperty;var UM=function(n,t){return null!=n&&HM.call(n,t)},WM=gM;var YM=function(n,t){return null!=n&&WM(n,t,UM)},$M=Y_,JM=fx,XM=p_,QM=v_,KM=X_,ZM=d_.exports,nT=F_,tT=O_,eT=Object.prototype.hasOwnProperty;var rT=function(n){if(null==n)return!0;if(KM(n)&&(QM(n)||"string"==typeof n||"function"==typeof n.splice||ZM(n)||tT(n)||XM(n)))return!n.length;var t=JM(n);if("[object Map]"==t||"[object Set]"==t)return!n.size;if(nT(n))return!$M(n).length;for(var e in n)if(eT.call(n,e))return!1;return!0};var oT=function(n){return void 0===n},iT=CE,aT=X_;var uT=function(n,t){var e=-1,r=aT(n)?Array(n.length):[];return iT(n,(function(n,o,i){r[++e]=t(n,o,i)})),r},cT=US,sT=BM,fT=uT,lT=v_;var hT=function(n,t){return(lT(n)?cT:fT)(n,sT(t))};var pT=function(n,t,e,r){var o=-1,i=null==n?0:n.length;for(r&&i&&(e=n[++o]);++o<i;)e=t(e,n[o],o,n);return e},vT=CE,dT=BM,gT=function(n,t,e,r,o){return o(n,(function(n,o,i){e=r?(r=!1,n):t(e,n,o,i)})),e},yT=v_;var mT=function(n,t,e){var r=yT(n)?pT:gT,o=arguments.length<3;return r(n,dT(t),e,o,vT)},wT=Nm,_T=v_,bT=i_;var xT=function(n){return"string"==typeof n||!_T(n)&&bT(n)&&"[object String]"==wT(n)},ET=jM("length"),ST=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var MT=function(n){return ST.test(n)},TT="[\\ud800-\\udfff]",jT="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",kT="\\ud83c[\\udffb-\\udfff]",CT="[^\\ud800-\\udfff]",PT="(?:\\ud83c[\\udde6-\\uddff]){2}",OT="[\\ud800-\\udbff][\\udc00-\\udfff]",NT="(?:"+jT+"|"+kT+")"+"?",AT="[\\ufe0e\\ufe0f]?"+NT+("(?:\\u200d(?:"+[CT,PT,OT].join("|")+")[\\ufe0e\\ufe0f]?"+NT+")*"),RT="(?:"+[CT+jT+"?",jT,PT,OT,TT].join("|")+")",IT=RegExp(kT+"(?="+kT+")|"+RT+AT,"g");var DT=ET,LT=MT,BT=function(n){for(var t=IT.lastIndex=0;IT.test(n);)++t;return t};var zT=Y_,qT=fx,FT=X_,GT=xT,VT=function(n){return LT(n)?BT(n):DT(n)};var HT=function(n){if(null==n)return 0;if(FT(n))return GT(n)?VT(n):n.length;var t=qT(n);return"[object Map]"==t||"[object Set]"==t?n.size:zT(n).length},UT=Ww,WT=Nx,YT=jE,$T=BM,JT=kb,XT=v_,QT=d_.exports,KT=Lm,ZT=Am,nj=O_;var tj=function(n,t,e){var r=XT(n),o=r||QT(n)||nj(n);if(t=$T(t),null==e){var i=n&&n.constructor;e=o?r?new i:[]:ZT(n)&&KT(i)?WT(JT(n)):{}}return(o?UT:YT)(n,(function(n,r,o){return t(e,n,r,o)})),e},ej=p_,rj=v_,oj=bm?bm.isConcatSpreadable:void 0;var ij=jb,aj=function(n){return rj(n)||ej(n)||!!(oj&&n&&n[oj])};var uj=function n(t,e,r,o,i){var a=-1,u=t.length;for(r||(r=aj),i||(i=[]);++a<u;){var c=t[a];e>0&&r(c)?e>1?n(c,e-1,r,o,i):ij(i,c):o||(i[i.length]=c)}return i};var cj=function(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)},sj=Math.max;var fj=function(n,t,e){return t=sj(void 0===t?n.length-1:t,0),function(){for(var r=arguments,o=-1,i=sj(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=r[o];return u[t]=e(a),cj(n,this,u)}},lj=EE,hj=$w,pj=hj?function(n,t){return hj(n,"toString",{configurable:!0,enumerable:!1,value:lj(t),writable:!0})}:PE,vj=Date.now;var dj=function(n){var t=0,e=0;return function(){var r=vj(),o=16-(r-e);if(e=r,o>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(pj),gj=PE,yj=fj,mj=dj;var wj=function(n,t){return mj(yj(n,t,gj),n+"")};var _j=function(n,t,e,r){for(var o=n.length,i=e+(r?1:-1);r?i--:++i<o;)if(t(n[i],i,n))return i;return-1};var bj=_j,xj=function(n){return n!=n},Ej=function(n,t,e){for(var r=e-1,o=n.length;++r<o;)if(n[r]===t)return r;return-1};var Sj=function(n,t,e){return t==t?Ej(n,t,e):bj(n,xj,e)};var Mj=function(n,t){return!!(null==n?0:n.length)&&Sj(n,t,0)>-1};var Tj=function(n,t,e){for(var r=-1,o=null==n?0:n.length;++r<o;)if(e(t,n[r]))return!0;return!1};var jj=Xb,kj=function(){},Cj=jj&&1/QE(new jj([,-0]))[1]==1/0?function(n){return new jj(n)}:kj,Pj=UE,Oj=Mj,Nj=Tj,Aj=WE,Rj=Cj,Ij=QE;var Dj=X_,Lj=i_;var Bj=function(n){return Lj(n)&&Dj(n)},zj=uj,qj=function(n,t,e){var r=-1,o=Oj,i=n.length,a=!0,u=[],c=u;if(e)a=!1,o=Nj;else if(i>=200){var s=t?null:Rj(n);if(s)return Ij(s);a=!1,o=Aj,c=new Pj}else c=t?[]:u;n:for(;++r<i;){var f=n[r],l=t?t(f):f;if(f=e||0!==f?f:0,a&&l==l){for(var h=c.length;h--;)if(c[h]===l)continue n;t&&c.push(l),u.push(f)}else o(c,l,e)||(c!==u&&c.push(l),u.push(f))}return u},Fj=Bj,Gj=wj((function(n){return qj(zj(n,1,Fj,!0))})),Vj=US;var Hj=function(n,t){return Vj(t,(function(t){return n[t]}))},Uj=nb;var Wj,Yj=function(n){return null==n?[]:Hj(n,Uj(n))};if("function"==typeof e)try{Wj={clone:xE,constant:EE,each:BE,filter:VM,has:YM,isArray:v_,isEmpty:rT,isFunction:Lm,isUndefined:oT,keys:nb,map:hT,reduce:mT,size:HT,transform:tj,union:Gj,values:Yj}}catch(HB){}Wj||(Wj=window._);var $j=Wj,Jj=$j,Xj=Qj;function Qj(n){this._isDirected=!Jj.has(n,"directed")||n.directed,this._isMultigraph=!!Jj.has(n,"multigraph")&&n.multigraph,this._isCompound=!!Jj.has(n,"compound")&&n.compound,this._label=void 0,this._defaultNodeLabelFn=Jj.constant(void 0),this._defaultEdgeLabelFn=Jj.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function Kj(n,t){n[t]?n[t]++:n[t]=1}function Zj(n,t){--n[t]||delete n[t]}function nk(n,t,e,r){var o=""+t,i=""+e;if(!n&&o>i){var a=o;o=i,i=a}return o+""+i+""+(Jj.isUndefined(r)?"\0":r)}function tk(n,t,e,r){var o=""+t,i=""+e;if(!n&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return r&&(u.name=r),u}function ek(n,t){return nk(n,t.v,t.w,t.name)}Qj.prototype._nodeCount=0,Qj.prototype._edgeCount=0,Qj.prototype.isDirected=function(){return this._isDirected},Qj.prototype.isMultigraph=function(){return this._isMultigraph},Qj.prototype.isCompound=function(){return this._isCompound},Qj.prototype.setGraph=function(n){return this._label=n,this},Qj.prototype.graph=function(){return this._label},Qj.prototype.setDefaultNodeLabel=function(n){return Jj.isFunction(n)||(n=Jj.constant(n)),this._defaultNodeLabelFn=n,this},Qj.prototype.nodeCount=function(){return this._nodeCount},Qj.prototype.nodes=function(){return Jj.keys(this._nodes)},Qj.prototype.sources=function(){var n=this;return Jj.filter(this.nodes(),(function(t){return Jj.isEmpty(n._in[t])}))},Qj.prototype.sinks=function(){var n=this;return Jj.filter(this.nodes(),(function(t){return Jj.isEmpty(n._out[t])}))},Qj.prototype.setNodes=function(n,t){var e=arguments,r=this;return Jj.each(n,(function(n){e.length>1?r.setNode(n,t):r.setNode(n)})),this},Qj.prototype.setNode=function(n,t){return Jj.has(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=t),this):(this._nodes[n]=arguments.length>1?t:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]="\0",this._children[n]={},this._children["\0"][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)},Qj.prototype.node=function(n){return this._nodes[n]},Qj.prototype.hasNode=function(n){return Jj.has(this._nodes,n)},Qj.prototype.removeNode=function(n){var t=this;if(Jj.has(this._nodes,n)){var e=function(n){t.removeEdge(t._edgeObjs[n])};delete this._nodes[n],this._isCompound&&(this._removeFromParentsChildList(n),delete this._parent[n],Jj.each(this.children(n),(function(n){t.setParent(n)})),delete this._children[n]),Jj.each(Jj.keys(this._in[n]),e),delete this._in[n],delete this._preds[n],Jj.each(Jj.keys(this._out[n]),e),delete this._out[n],delete this._sucs[n],--this._nodeCount}return this},Qj.prototype.setParent=function(n,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Jj.isUndefined(t))t="\0";else{for(var e=t+="";!Jj.isUndefined(e);e=this.parent(e))if(e===n)throw new Error("Setting "+t+" as parent of "+n+" would create a cycle");this.setNode(t)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=t,this._children[t][n]=!0,this},Qj.prototype._removeFromParentsChildList=function(n){delete this._children[this._parent[n]][n]},Qj.prototype.parent=function(n){if(this._isCompound){var t=this._parent[n];if("\0"!==t)return t}},Qj.prototype.children=function(n){if(Jj.isUndefined(n)&&(n="\0"),this._isCompound){var t=this._children[n];if(t)return Jj.keys(t)}else{if("\0"===n)return this.nodes();if(this.hasNode(n))return[]}},Qj.prototype.predecessors=function(n){var t=this._preds[n];if(t)return Jj.keys(t)},Qj.prototype.successors=function(n){var t=this._sucs[n];if(t)return Jj.keys(t)},Qj.prototype.neighbors=function(n){var t=this.predecessors(n);if(t)return Jj.union(t,this.successors(n))},Qj.prototype.isLeaf=function(n){return 0===(this.isDirected()?this.successors(n):this.neighbors(n)).length},Qj.prototype.filterNodes=function(n){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var e=this;Jj.each(this._nodes,(function(e,r){n(r)&&t.setNode(r,e)})),Jj.each(this._edgeObjs,(function(n){t.hasNode(n.v)&&t.hasNode(n.w)&&t.setEdge(n,e.edge(n))}));var r={};function o(n){var i=e.parent(n);return void 0===i||t.hasNode(i)?(r[n]=i,i):i in r?r[i]:o(i)}return this._isCompound&&Jj.each(t.nodes(),(function(n){t.setParent(n,o(n))})),t},Qj.prototype.setDefaultEdgeLabel=function(n){return Jj.isFunction(n)||(n=Jj.constant(n)),this._defaultEdgeLabelFn=n,this},Qj.prototype.edgeCount=function(){return this._edgeCount},Qj.prototype.edges=function(){return Jj.values(this._edgeObjs)},Qj.prototype.setPath=function(n,t){var e=this,r=arguments;return Jj.reduce(n,(function(n,o){return r.length>1?e.setEdge(n,o,t):e.setEdge(n,o),o})),this},Qj.prototype.setEdge=function(){var n,t,e,r,o=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(n=i.v,t=i.w,e=i.name,2===arguments.length&&(r=arguments[1],o=!0)):(n=i,t=arguments[1],e=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),n=""+n,t=""+t,Jj.isUndefined(e)||(e=""+e);var a=nk(this._isDirected,n,t,e);if(Jj.has(this._edgeLabels,a))return o&&(this._edgeLabels[a]=r),this;if(!Jj.isUndefined(e)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(n),this.setNode(t),this._edgeLabels[a]=o?r:this._defaultEdgeLabelFn(n,t,e);var u=tk(this._isDirected,n,t,e);return n=u.v,t=u.w,Object.freeze(u),this._edgeObjs[a]=u,Kj(this._preds[t],n),Kj(this._sucs[n],t),this._in[t][a]=u,this._out[n][a]=u,this._edgeCount++,this},Qj.prototype.edge=function(n,t,e){var r=1===arguments.length?ek(this._isDirected,arguments[0]):nk(this._isDirected,n,t,e);return this._edgeLabels[r]},Qj.prototype.hasEdge=function(n,t,e){var r=1===arguments.length?ek(this._isDirected,arguments[0]):nk(this._isDirected,n,t,e);return Jj.has(this._edgeLabels,r)},Qj.prototype.removeEdge=function(n,t,e){var r=1===arguments.length?ek(this._isDirected,arguments[0]):nk(this._isDirected,n,t,e),o=this._edgeObjs[r];return o&&(n=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],Zj(this._preds[t],n),Zj(this._sucs[n],t),delete this._in[t][r],delete this._out[n][r],this._edgeCount--),this},Qj.prototype.inEdges=function(n,t){var e=this._in[n];if(e){var r=Jj.values(e);return t?Jj.filter(r,(function(n){return n.v===t})):r}},Qj.prototype.outEdges=function(n,t){var e=this._out[n];if(e){var r=Jj.values(e);return t?Jj.filter(r,(function(n){return n.w===t})):r}},Qj.prototype.nodeEdges=function(n,t){var e=this.inEdges(n,t);if(e)return e.concat(this.outEdges(n,t))};var rk={Graph:Xj,version:"2.1.8"},ok=$j,ik=Xj,ak={write:function(n){var t={options:{directed:n.isDirected(),multigraph:n.isMultigraph(),compound:n.isCompound()},nodes:uk(n),edges:ck(n)};ok.isUndefined(n.graph())||(t.value=ok.clone(n.graph()));return t},read:function(n){var t=new ik(n.options).setGraph(n.value);return ok.each(n.nodes,(function(n){t.setNode(n.v,n.value),n.parent&&t.setParent(n.v,n.parent)})),ok.each(n.edges,(function(n){t.setEdge({v:n.v,w:n.w,name:n.name},n.value)})),t}};function uk(n){return ok.map(n.nodes(),(function(t){var e=n.node(t),r=n.parent(t),o={v:t};return ok.isUndefined(e)||(o.value=e),ok.isUndefined(r)||(o.parent=r),o}))}function ck(n){return ok.map(n.edges(),(function(t){var e=n.edge(t),r={v:t.v,w:t.w};return ok.isUndefined(t.name)||(r.name=t.name),ok.isUndefined(e)||(r.value=e),r}))}var sk=$j,fk=function(n){var t,e={},r=[];function o(r){sk.has(e,r)||(e[r]=!0,t.push(r),sk.each(n.successors(r),o),sk.each(n.predecessors(r),o))}return sk.each(n.nodes(),(function(n){t=[],o(n),t.length&&r.push(t)})),r};var lk=$j,hk=pk;function pk(){this._arr=[],this._keyIndices={}}pk.prototype.size=function(){return this._arr.length},pk.prototype.keys=function(){return this._arr.map((function(n){return n.key}))},pk.prototype.has=function(n){return lk.has(this._keyIndices,n)},pk.prototype.priority=function(n){var t=this._keyIndices[n];if(void 0!==t)return this._arr[t].priority},pk.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},pk.prototype.add=function(n,t){var e=this._keyIndices;if(n=String(n),!lk.has(e,n)){var r=this._arr,o=r.length;return e[n]=o,r.push({key:n,priority:t}),this._decrease(o),!0}return!1},pk.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},pk.prototype.decrease=function(n,t){var e=this._keyIndices[n];if(t>this._arr[e].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[e].priority+" New: "+t);this._arr[e].priority=t,this._decrease(e)},pk.prototype._heapify=function(n){var t=this._arr,e=2*n,r=e+1,o=n;e<t.length&&(o=t[e].priority<t[o].priority?e:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==n&&(this._swap(n,o),this._heapify(o)))},pk.prototype._decrease=function(n){for(var t,e=this._arr,r=e[n].priority;0!==n&&!(e[t=n>>1].priority<r);)this._swap(n,t),n=t},pk.prototype._swap=function(n,t){var e=this._arr,r=this._keyIndices,o=e[n],i=e[t];e[n]=i,e[t]=o,r[i.key]=n,r[o.key]=t};var vk=hk,dk=function(n,t,e,r){return function(n,t,e,r){var o,i,a={},u=new vk,c=function(n){var t=n.v!==o?n.v:n.w,r=a[t],c=e(n),s=i.distance+c;if(c<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+n+" Weight: "+c);s<r.distance&&(r.distance=s,r.predecessor=o,u.decrease(t,s))};n.nodes().forEach((function(n){var e=n===t?0:Number.POSITIVE_INFINITY;a[n]={distance:e},u.add(n,e)}));for(;u.size()>0&&(o=u.removeMin(),(i=a[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(c);return a}(n,String(t),e||gk,r||function(t){return n.outEdges(t)})},gk=$j.constant(1);var yk=dk,mk=$j,wk=function(n,t,e){return mk.transform(n.nodes(),(function(r,o){r[o]=yk(n,o,t,e)}),{})};var _k=$j,bk=function(n){var t=0,e=[],r={},o=[];function i(a){var u=r[a]={onStack:!0,lowlink:t,index:t++};if(e.push(a),n.successors(a).forEach((function(n){_k.has(r,n)?r[n].onStack&&(u.lowlink=Math.min(u.lowlink,r[n].index)):(i(n),u.lowlink=Math.min(u.lowlink,r[n].lowlink))})),u.lowlink===u.index){var c,s=[];do{c=e.pop(),r[c].onStack=!1,s.push(c)}while(a!==c);o.push(s)}}return n.nodes().forEach((function(n){_k.has(r,n)||i(n)})),o};var xk=$j,Ek=bk,Sk=function(n){return xk.filter(Ek(n),(function(t){return t.length>1||1===t.length&&n.hasEdge(t[0],t[0])}))};var Mk=function(n,t,e){return function(n,t,e){var r={},o=n.nodes();return o.forEach((function(n){r[n]={},r[n][n]={distance:0},o.forEach((function(t){n!==t&&(r[n][t]={distance:Number.POSITIVE_INFINITY})})),e(n).forEach((function(e){var o=e.v===n?e.w:e.v,i=t(e);r[n][o]={distance:i,predecessor:n}}))})),o.forEach((function(n){var t=r[n];o.forEach((function(e){var i=r[e];o.forEach((function(e){var r=i[n],o=t[e],a=i[e],u=r.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),r}(n,t||Tk,e||function(t){return n.outEdges(t)})},Tk=$j.constant(1);var jk=$j,kk=Ck;function Ck(n){var t={},e={},r=[];if(jk.each(n.sinks(),(function o(i){if(jk.has(e,i))throw new Pk;jk.has(t,i)||(e[i]=!0,t[i]=!0,jk.each(n.predecessors(i),o),delete e[i],r.push(i))})),jk.size(t)!==n.nodeCount())throw new Pk;return r}function Pk(){}Ck.CycleException=Pk,Pk.prototype=new Error;var Ok=kk;var Nk=$j,Ak=function(n,t,e){Nk.isArray(t)||(t=[t]);var r=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],i={};return Nk.each(t,(function(t){if(!n.hasNode(t))throw new Error("Graph does not have node: "+t);Rk(n,t,"post"===e,i,r,o)})),o};function Rk(n,t,e,r,o,i){Nk.has(r,t)||(r[t]=!0,e||i.push(t),Nk.each(o(t),(function(t){Rk(n,t,e,r,o,i)})),e&&i.push(t))}var Ik=Ak;var Dk=Ak;var Lk=$j,Bk=Xj,zk=hk;var qk,Fk={Graph:rk.Graph,json:ak,alg:{components:fk,dijkstra:dk,dijkstraAll:wk,findCycles:Sk,floydWarshall:Mk,isAcyclic:function(n){try{Ok(n)}catch(HB){if(HB instanceof Ok.CycleException)return!1;throw HB}return!0},postorder:function(n,t){return Ik(n,t,"post")},preorder:function(n,t){return Dk(n,t,"pre")},prim:function(n,t){var e,r=new Bk,o={},i=new zk;function a(n){var r=n.v===e?n.w:n.v,a=i.priority(r);if(void 0!==a){var u=t(n);u<a&&(o[r]=e,i.decrease(r,u))}}if(0===n.nodeCount())return r;Lk.each(n.nodes(),(function(n){i.add(n,Number.POSITIVE_INFINITY),r.setNode(n)})),i.decrease(n.nodes()[0],0);var u=!1;for(;i.size()>0;){if(e=i.removeMin(),Lk.has(o,e))r.setEdge(e,o[e]);else{if(u)throw new Error("Input graph is not connected: "+n);u=!0}n.nodeEdges(e).forEach(a)}return r},tarjan:bk,topsort:kk},version:rk.version};if("function"==typeof e)try{qk=Fk}catch(HB){}qk||(qk=window.graphlib);var Gk=qk,Vk=_E;var Hk=function(n){return Vk(n,5)},Uk=Qy,Wk=X_,Yk=m_,$k=Am;var Jk=function(n,t,e){if(!$k(e))return!1;var r=typeof t;return!!("number"==r?Wk(e)&&Yk(t,e.length):"string"==r&&t in e)&&Uk(e[t],n)},Xk=wj,Qk=Qy,Kk=Jk,Zk=lb,nC=Object.prototype,tC=nC.hasOwnProperty,eC=Xk((function(n,t){n=Object(n);var e=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&Kk(t[0],t[1],o)&&(r=1);++e<r;)for(var i=t[e],a=Zk(i),u=-1,c=a.length;++u<c;){var s=a[u],f=n[s];(void 0===f||Qk(f,nC[s])&&!tC.call(n,s))&&(n[s]=i[s])}return n})),rC=BM,oC=X_,iC=nb;var aC=function(n){return function(t,e,r){var o=Object(t);if(!oC(t)){var i=rC(e);t=iC(t),e=function(n){return i(o[n],n,o)}}var a=n(t,e,r);return a>-1?o[i?t[a]:a]:void 0}},uC=/\s/;var cC=function(n){for(var t=n.length;t--&&uC.test(n.charAt(t)););return t},sC=/^\s+/;var fC=function(n){return n?n.slice(0,cC(n)+1).replace(sC,""):n},lC=Am,hC=AS,pC=/^[-+]0x[0-9a-f]+$/i,vC=/^0b[01]+$/i,dC=/^0o[0-7]+$/i,gC=parseInt;var yC=function(n){if("number"==typeof n)return n;if(hC(n))return NaN;if(lC(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=lC(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=fC(n);var e=vC.test(n);return e||dC.test(n)?gC(n.slice(2),e?2:8):pC.test(n)?NaN:+n};var mC=function(n){return n?Infinity===(n=yC(n))||-Infinity===n?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0},wC=mC;var _C=_j,bC=BM,xC=function(n){var t=wC(n),e=t%1;return t==t?e?t-e:t:0},EC=Math.max;var SC=aC((function(n,t,e){var r=null==n?0:n.length;if(!r)return-1;var o=null==e?0:xC(e);return o<0&&(o=EC(r+o,0)),_C(n,bC(t),o)})),MC=uj;var TC=function(n){return(null==n?0:n.length)?MC(n,1):[]},jC=SE,kC=NE,CC=lb;var PC=function(n,t){return null==n?n:jC(n,kC(t),CC)};var OC=function(n){var t=null==n?0:n.length;return t?n[t-1]:void 0},NC=Xw,AC=jE,RC=BM;var IC=function(n,t){var e={};return t=RC(t),AC(n,(function(n,r,o){NC(e,r,t(n,r,o))})),e},DC=AS;var LC=function(n,t,e){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=t(i);if(null!=a&&(void 0===u?a==a&&!DC(a):e(a,u)))var u=a,c=i}return c};var BC=LC,zC=function(n,t){return n>t},qC=PE;var FC=function(n){return n&&n.length?BC(n,qC,zC):void 0},GC=Xw,VC=Qy;var HC=function(n,t,e){(void 0!==e&&!VC(n[t],e)||void 0===e&&!(t in n))&&GC(n,t,e)},UC=Nm,WC=kb,YC=i_,$C=Function.prototype,JC=Object.prototype,XC=$C.toString,QC=JC.hasOwnProperty,KC=XC.call(Object);var ZC=function(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]},nP=r_,tP=lb;var eP=HC,rP=db.exports,oP=Ex,iP=gb,aP=Dx,uP=p_,cP=v_,sP=Bj,fP=d_.exports,lP=Lm,hP=Am,pP=function(n){if(!YC(n)||"[object Object]"!=UC(n))return!1;var t=WC(n);if(null===t)return!0;var e=QC.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&XC.call(e)==KC},vP=O_,dP=ZC,gP=function(n){return nP(n,tP(n))};var yP=Uw,mP=HC,wP=SE,_P=function(n,t,e,r,o,i,a){var u=dP(n,e),c=dP(t,e),s=a.get(c);if(s)eP(n,e,s);else{var f=i?i(u,c,e+"",n,t,a):void 0,l=void 0===f;if(l){var h=cP(c),p=!h&&fP(c),v=!h&&!p&&vP(c);f=c,h||p||v?cP(u)?f=u:sP(u)?f=iP(u):p?(l=!1,f=rP(c,!0)):v?(l=!1,f=oP(c,!0)):f=[]:pP(c)||uP(c)?(f=u,uP(u)?f=gP(u):hP(u)&&!lP(u)||(f=aP(c))):l=!1}l&&(a.set(c,f),o(f,c,r,i,a),a.delete(c)),eP(n,e,f)}},bP=Am,xP=lb,EP=ZC;var SP=wj,MP=Jk;var TP=function n(t,e,r,o,i){t!==e&&wP(e,(function(a,u){if(i||(i=new yP),bP(a))_P(t,e,u,r,n,o,i);else{var c=o?o(EP(t,u),a,u+"",t,e,i):void 0;void 0===c&&(c=a),mP(t,u,c)}}),xP)},jP=function(n){return SP((function(t,e){var r=-1,o=e.length,i=o>1?e[o-1]:void 0,a=o>2?e[2]:void 0;for(i=n.length>3&&"function"==typeof i?(o--,i):void 0,a&&MP(e[0],e[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var u=e[r];u&&n(t,u,r,i)}return t}))}((function(n,t,e){TP(n,t,e)}));var kP=function(n,t){return n<t},CP=LC,PP=kP,OP=PE;var NP=function(n){return n&&n.length?CP(n,OP,PP):void 0},AP=LC,RP=BM,IP=kP;var DP=function(n,t){return n&&n.length?AP(n,RP(t),IP):void 0},LP=_m,BP=function(){return LP.Date.now()},zP=n_,qP=rM,FP=m_,GP=Am,VP=iM;var HP=cM,UP=function(n,t,e,r){if(!GP(n))return n;for(var o=-1,i=(t=qP(t,n)).length,a=i-1,u=n;null!=u&&++o<i;){var c=VP(t[o]),s=e;if("__proto__"===c||"constructor"===c||"prototype"===c)return n;if(o!=a){var f=u[c];void 0===(s=r?r(f,c,u):void 0)&&(s=GP(f)?f:FP(t[o+1])?[]:{})}zP(u,c,s),u=u[c]}return n},WP=rM;var YP=function(n,t,e){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],u=HP(n,a);e(u,a)&&UP(i,WP(a,n),u)}return i},$P=wM;var JP=TC,XP=fj,QP=dj;var KP=function(n,t){return YP(n,t,(function(t,e){return $P(n,e)}))},ZP=function(n){return QP(XP(n,void 0,JP),n+"")}((function(n,t){return null==n?{}:KP(n,t)})),nO=Math.ceil,tO=Math.max;var eO=function(n,t,e,r){for(var o=-1,i=tO(nO((t-n)/(e||1)),0),a=Array(i);i--;)a[r?i:++o]=n,n+=e;return a},rO=Jk,oO=mC;var iO=function(n){return function(t,e,r){return r&&"number"!=typeof r&&rO(t,e,r)&&(e=r=void 0),t=oO(t),void 0===e?(e=t,t=0):e=oO(e),r=void 0===r?t<e?1:-1:oO(r),eO(t,e,r,n)}}();var aO=AS;var uO=function(n,t){if(n!==t){var e=void 0!==n,r=null===n,o=n==n,i=aO(n),a=void 0!==t,u=null===t,c=t==t,s=aO(t);if(!u&&!s&&!i&&n>t||i&&a&&c&&!u&&!s||r&&a&&c||!e&&c||!o)return 1;if(!r&&!i&&!s&&n<t||s&&e&&o&&!r&&!i||u&&e&&o||!a&&o||!c)return-1}return 0};var cO=US,sO=cM,fO=BM,lO=uT,hO=function(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n},pO=M_,vO=function(n,t,e){for(var r=-1,o=n.criteria,i=t.criteria,a=o.length,u=e.length;++r<a;){var c=uO(o[r],i[r]);if(c)return r>=u?c:c*("desc"==e[r]?-1:1)}return n.index-t.index},dO=PE,gO=v_;var yO=uj,mO=function(n,t,e){t=t.length?cO(t,(function(n){return gO(n)?function(t){return sO(t,1===n.length?n[0]:n)}:n})):[dO];var r=-1;t=cO(t,pO(fO));var o=lO(n,(function(n,e,o){return{criteria:cO(t,(function(t){return t(n)})),index:++r,value:n}}));return hO(o,(function(n,t){return vO(n,t,e)}))},wO=Jk,_O=wj((function(n,t){if(null==n)return[];var e=t.length;return e>1&&wO(n,t[0],t[1])?t=[]:e>2&&wO(t[0],t[1],t[2])&&(t=[t[0]]),mO(n,yO(t,1),[])})),bO=KS,xO=0;var EO=function(n){var t=++xO;return bO(n)+t};var SO=n_,MO=function(n,t,e){for(var r=-1,o=n.length,i=t.length,a={};++r<o;){var u=r<i?t[r]:void 0;e(a,n[r],u)}return a};var TO,jO=function(n,t){return MO(n||[],t||[],SO)};if("function"==typeof e)try{TO={cloneDeep:Hk,constant:EE,defaults:eC,each:BE,filter:VM,find:SC,flatten:TC,forEach:LE,forIn:PC,has:YM,isUndefined:oT,last:OC,map:hT,mapValues:IC,max:FC,merge:jP,min:NP,minBy:DP,now:BP,pick:ZP,range:iO,reduce:mT,sortBy:_O,uniqueId:EO,values:Yj,zipObject:jO}}catch(HB){}TO||(TO=window._);var kO=TO,CO=PO;function PO(){var n={};n._next=n._prev=n,this._sentinel=n}function OO(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function NO(n,t){if("_next"!==n&&"_prev"!==n)return t}PO.prototype.dequeue=function(){var n=this._sentinel,t=n._prev;if(t!==n)return OO(t),t},PO.prototype.enqueue=function(n){var t=this._sentinel;n._prev&&n._next&&OO(n),n._next=t._next,t._next._prev=n,t._next=n,n._prev=t},PO.prototype.toString=function(){for(var n=[],t=this._sentinel,e=t._prev;e!==t;)n.push(JSON.stringify(e,NO)),e=e._prev;return"["+n.join(", ")+"]"};var AO=kO,RO=Gk.Graph,IO=CO,DO=function(n,t){if(n.nodeCount()<=1)return[];var e=function(n,t){var e=new RO,r=0,o=0;AO.forEach(n.nodes(),(function(n){e.setNode(n,{v:n,in:0,out:0})})),AO.forEach(n.edges(),(function(n){var i=e.edge(n.v,n.w)||0,a=t(n),u=i+a;e.setEdge(n.v,n.w,u),o=Math.max(o,e.node(n.v).out+=a),r=Math.max(r,e.node(n.w).in+=a)}));var i=AO.range(o+r+3).map((function(){return new IO})),a=r+1;return AO.forEach(e.nodes(),(function(n){zO(i,a,e.node(n))})),{graph:e,buckets:i,zeroIdx:a}}(n,t||LO),r=function(n,t,e){var r,o=[],i=t[t.length-1],a=t[0];for(;n.nodeCount();){for(;r=a.dequeue();)BO(n,t,e,r);for(;r=i.dequeue();)BO(n,t,e,r);if(n.nodeCount())for(var u=t.length-2;u>0;--u)if(r=t[u].dequeue()){o=o.concat(BO(n,t,e,r,!0));break}}return o}(e.graph,e.buckets,e.zeroIdx);return AO.flatten(AO.map(r,(function(t){return n.outEdges(t.v,t.w)})),!0)},LO=AO.constant(1);function BO(n,t,e,r,o){var i=o?[]:void 0;return AO.forEach(n.inEdges(r.v),(function(r){var a=n.edge(r),u=n.node(r.v);o&&i.push({v:r.v,w:r.w}),u.out-=a,zO(t,e,u)})),AO.forEach(n.outEdges(r.v),(function(r){var o=n.edge(r),i=r.w,a=n.node(i);a.in-=o,zO(t,e,a)})),n.removeNode(r.v),i}function zO(n,t,e){e.out?e.in?n[e.out-e.in+t].enqueue(e):n[n.length-1].enqueue(e):n[0].enqueue(e)}var qO=kO,FO=DO,GO={run:function(n){var t="greedy"===n.graph().acyclicer?FO(n,(e=n,function(n){return e.edge(n).weight})):function(n){var t=[],e={},r={};function o(i){qO.has(r,i)||(r[i]=!0,e[i]=!0,qO.forEach(n.outEdges(i),(function(n){qO.has(e,n.w)?t.push(n):o(n.w)})),delete e[i])}return qO.forEach(n.nodes(),o),t}(n);var e;qO.forEach(t,(function(t){var e=n.edge(t);n.removeEdge(t),e.forwardName=t.name,e.reversed=!0,n.setEdge(t.w,t.v,e,qO.uniqueId("rev"))}))},undo:function(n){qO.forEach(n.edges(),(function(t){var e=n.edge(t);if(e.reversed){n.removeEdge(t);var r=e.forwardName;delete e.reversed,delete e.forwardName,n.setEdge(t.w,t.v,e,r)}}))}};var VO=kO,HO=Gk.Graph,UO={addDummyNode:WO,simplify:function(n){var t=(new HO).setGraph(n.graph());return VO.forEach(n.nodes(),(function(e){t.setNode(e,n.node(e))})),VO.forEach(n.edges(),(function(e){var r=t.edge(e.v,e.w)||{weight:0,minlen:1},o=n.edge(e);t.setEdge(e.v,e.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),t},asNonCompoundGraph:function(n){var t=new HO({multigraph:n.isMultigraph()}).setGraph(n.graph());return VO.forEach(n.nodes(),(function(e){n.children(e).length||t.setNode(e,n.node(e))})),VO.forEach(n.edges(),(function(e){t.setEdge(e,n.edge(e))})),t},successorWeights:function(n){var t=VO.map(n.nodes(),(function(t){var e={};return VO.forEach(n.outEdges(t),(function(t){e[t.w]=(e[t.w]||0)+n.edge(t).weight})),e}));return VO.zipObject(n.nodes(),t)},predecessorWeights:function(n){var t=VO.map(n.nodes(),(function(t){var e={};return VO.forEach(n.inEdges(t),(function(t){e[t.v]=(e[t.v]||0)+n.edge(t).weight})),e}));return VO.zipObject(n.nodes(),t)},intersectRect:function(n,t){var e,r,o=n.x,i=n.y,a=t.x-o,u=t.y-i,c=n.width/2,s=n.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*c>Math.abs(a)*s?(u<0&&(s=-s),e=s*a/u,r=s):(a<0&&(c=-c),e=c,r=c*u/a);return{x:o+e,y:i+r}},buildLayerMatrix:function(n){var t=VO.map(VO.range(YO(n)+1),(function(){return[]}));return VO.forEach(n.nodes(),(function(e){var r=n.node(e),o=r.rank;VO.isUndefined(o)||(t[o][r.order]=e)})),t},normalizeRanks:function(n){var t=VO.min(VO.map(n.nodes(),(function(t){return n.node(t).rank})));VO.forEach(n.nodes(),(function(e){var r=n.node(e);VO.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(n){var t=VO.min(VO.map(n.nodes(),(function(t){return n.node(t).rank}))),e=[];VO.forEach(n.nodes(),(function(r){var o=n.node(r).rank-t;e[o]||(e[o]=[]),e[o].push(r)}));var r=0,o=n.graph().nodeRankFactor;VO.forEach(e,(function(t,e){VO.isUndefined(t)&&e%o!=0?--r:r&&VO.forEach(t,(function(t){n.node(t).rank+=r}))}))},addBorderNode:function(n,t,e,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=e,o.order=r);return WO(n,"border",o,t)},maxRank:YO,partition:function(n,t){var e={lhs:[],rhs:[]};return VO.forEach(n,(function(n){t(n)?e.lhs.push(n):e.rhs.push(n)})),e},time:function(n,t){var e=VO.now();try{return t()}finally{console.log(n+" time: "+(VO.now()-e)+"ms")}},notime:function(n,t){return t()}};function WO(n,t,e,r){var o;do{o=VO.uniqueId(r)}while(n.hasNode(o));return e.dummy=t,n.setNode(o,e),o}function YO(n){return VO.max(VO.map(n.nodes(),(function(t){var e=n.node(t).rank;if(!VO.isUndefined(e))return e})))}var $O=kO,JO=UO,XO={run:function(n){n.graph().dummyChains=[],$O.forEach(n.edges(),(function(t){!function(n,t){var e,r,o,i=t.v,a=n.node(i).rank,u=t.w,c=n.node(u).rank,s=t.name,f=n.edge(t),l=f.labelRank;if(c===a+1)return;for(n.removeEdge(t),o=0,++a;a<c;++o,++a)f.points=[],r={width:0,height:0,edgeLabel:f,edgeObj:t,rank:a},e=JO.addDummyNode(n,"edge",r,"_d"),a===l&&(r.width=f.width,r.height=f.height,r.dummy="edge-label",r.labelpos=f.labelpos),n.setEdge(i,e,{weight:f.weight},s),0===o&&n.graph().dummyChains.push(e),i=e;n.setEdge(i,u,{weight:f.weight},s)}(n,t)}))},undo:function(n){$O.forEach(n.graph().dummyChains,(function(t){var e,r=n.node(t),o=r.edgeLabel;for(n.setEdge(r.edgeObj,o);r.dummy;)e=n.successors(t)[0],n.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=e,r=n.node(t)}))}};var QO=kO,KO={longestPath:function(n){var t={};QO.forEach(n.sources(),(function e(r){var o=n.node(r);if(QO.has(t,r))return o.rank;t[r]=!0;var i=QO.min(QO.map(n.outEdges(r),(function(t){return e(t.w)-n.edge(t).minlen})));return i!==Number.POSITIVE_INFINITY&&null!=i||(i=0),o.rank=i}))},slack:function(n,t){return n.node(t.w).rank-n.node(t.v).rank-n.edge(t).minlen}};var ZO=kO,nN=Gk.Graph,tN=KO.slack,eN=function(n){var t,e,r=new nN({directed:!1}),o=n.nodes()[0],i=n.nodeCount();r.setNode(o,{});for(;rN(r,n)<i;)t=oN(r,n),e=r.hasNode(t.v)?tN(n,t):-tN(n,t),iN(r,n,e);return r};function rN(n,t){return ZO.forEach(n.nodes(),(function e(r){ZO.forEach(t.nodeEdges(r),(function(o){var i=o.v,a=r===i?o.w:i;n.hasNode(a)||tN(t,o)||(n.setNode(a,{}),n.setEdge(r,a,{}),e(a))}))})),n.nodeCount()}function oN(n,t){return ZO.minBy(t.edges(),(function(e){if(n.hasNode(e.v)!==n.hasNode(e.w))return tN(t,e)}))}function iN(n,t,e){ZO.forEach(n.nodes(),(function(n){t.node(n).rank+=e}))}var aN=kO,uN=eN,cN=KO.slack,sN=KO.longestPath,fN=Gk.alg.preorder,lN=Gk.alg.postorder,hN=UO.simplify,pN=vN;function vN(n){n=hN(n),sN(n);var t,e=uN(n);for(yN(e),dN(e,n);t=wN(e);)bN(e,n,t,_N(e,n,t))}function dN(n,t){var e=lN(n,n.nodes());e=e.slice(0,e.length-1),aN.forEach(e,(function(e){!function(n,t,e){var r=n.node(e).parent;n.edge(e,r).cutvalue=gN(n,t,e)}(n,t,e)}))}function gN(n,t,e){var r=n.node(e).parent,o=!0,i=t.edge(e,r),a=0;return i||(o=!1,i=t.edge(r,e)),a=i.weight,aN.forEach(t.nodeEdges(e),(function(i){var u,c,s=i.v===e,f=s?i.w:i.v;if(f!==r){var l=s===o,h=t.edge(i).weight;if(a+=l?h:-h,u=e,c=f,n.hasEdge(u,c)){var p=n.edge(e,f).cutvalue;a+=l?-p:p}}})),a}function yN(n,t){arguments.length<2&&(t=n.nodes()[0]),mN(n,{},1,t)}function mN(n,t,e,r,o){var i=e,a=n.node(r);return t[r]=!0,aN.forEach(n.neighbors(r),(function(o){aN.has(t,o)||(e=mN(n,t,e,o,r))})),a.low=i,a.lim=e++,o?a.parent=o:delete a.parent,e}function wN(n){return aN.find(n.edges(),(function(t){return n.edge(t).cutvalue<0}))}function _N(n,t,e){var r=e.v,o=e.w;t.hasEdge(r,o)||(r=e.w,o=e.v);var i=n.node(r),a=n.node(o),u=i,c=!1;i.lim>a.lim&&(u=a,c=!0);var s=aN.filter(t.edges(),(function(t){return c===xN(n,n.node(t.v),u)&&c!==xN(n,n.node(t.w),u)}));return aN.minBy(s,(function(n){return cN(t,n)}))}function bN(n,t,e,r){var o=e.v,i=e.w;n.removeEdge(o,i),n.setEdge(r.v,r.w,{}),yN(n),dN(n,t),function(n,t){var e=aN.find(n.nodes(),(function(n){return!t.node(n).parent})),r=fN(n,e);r=r.slice(1),aN.forEach(r,(function(e){var r=n.node(e).parent,o=t.edge(e,r),i=!1;o||(o=t.edge(r,e),i=!0),t.node(e).rank=t.node(r).rank+(i?o.minlen:-o.minlen)}))}(n,t)}function xN(n,t,e){return e.low<=t.lim&&t.lim<=e.lim}vN.initLowLimValues=yN,vN.initCutValues=dN,vN.calcCutValue=gN,vN.leaveEdge=wN,vN.enterEdge=_N,vN.exchangeEdges=bN;var EN=KO.longestPath,SN=eN,MN=pN,TN=function(n){switch(n.graph().ranker){case"network-simplex":kN(n);break;case"tight-tree":!function(n){EN(n),SN(n)}(n);break;case"longest-path":jN(n);break;default:kN(n)}};var jN=EN;function kN(n){MN(n)}var CN=kO,PN=function(n){var t=function(n){var t={},e=0;function r(o){var i=e;CN.forEach(n.children(o),r),t[o]={low:i,lim:e++}}return CN.forEach(n.children(),r),t}(n);CN.forEach(n.graph().dummyChains,(function(e){for(var r=n.node(e),o=r.edgeObj,i=function(n,t,e,r){var o,i,a=[],u=[],c=Math.min(t[e].low,t[r].low),s=Math.max(t[e].lim,t[r].lim);o=e;do{o=n.parent(o),a.push(o)}while(o&&(t[o].low>c||s>t[o].lim));i=o,o=r;for(;(o=n.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(n,t,o.v,o.w),a=i.path,u=i.lca,c=0,s=a[c],f=!0;e!==o.w;){if(r=n.node(e),f){for(;(s=a[c])!==u&&n.node(s).maxRank<r.rank;)c++;s===u&&(f=!1)}if(!f){for(;c<a.length-1&&n.node(s=a[c+1]).minRank<=r.rank;)c++;s=a[c]}n.setParent(e,s),e=n.successors(e)[0]}}))};var ON=kO,NN=UO,AN={run:function(n){var t=NN.addDummyNode(n,"root",{},"_root"),e=function(n){var t={};function e(r,o){var i=n.children(r);i&&i.length&&ON.forEach(i,(function(n){e(n,o+1)})),t[r]=o}return ON.forEach(n.children(),(function(n){e(n,1)})),t}(n),r=ON.max(ON.values(e))-1,o=2*r+1;n.graph().nestingRoot=t,ON.forEach(n.edges(),(function(t){n.edge(t).minlen*=o}));var i=function(n){return ON.reduce(n.edges(),(function(t,e){return t+n.edge(e).weight}),0)}(n)+1;ON.forEach(n.children(),(function(a){RN(n,t,o,i,r,e,a)})),n.graph().nodeRankFactor=o},cleanup:function(n){var t=n.graph();n.removeNode(t.nestingRoot),delete t.nestingRoot,ON.forEach(n.edges(),(function(t){n.edge(t).nestingEdge&&n.removeEdge(t)}))}};function RN(n,t,e,r,o,i,a){var u=n.children(a);if(u.length){var c=NN.addBorderNode(n,"_bt"),s=NN.addBorderNode(n,"_bb"),f=n.node(a);n.setParent(c,a),f.borderTop=c,n.setParent(s,a),f.borderBottom=s,ON.forEach(u,(function(u){RN(n,t,e,r,o,i,u);var f=n.node(u),l=f.borderTop?f.borderTop:u,h=f.borderBottom?f.borderBottom:u,p=f.borderTop?r:2*r,v=l!==h?1:o-i[a]+1;n.setEdge(c,l,{weight:p,minlen:v,nestingEdge:!0}),n.setEdge(h,s,{weight:p,minlen:v,nestingEdge:!0})})),n.parent(a)||n.setEdge(t,c,{weight:0,minlen:o+i[a]})}else a!==t&&n.setEdge(t,a,{weight:0,minlen:e})}var IN=kO,DN=UO,LN=function(n){IN.forEach(n.children(),(function t(e){var r=n.children(e),o=n.node(e);if(r.length&&IN.forEach(r,t),IN.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,a=o.maxRank+1;i<a;++i)BN(n,"borderLeft","_bl",e,o,i),BN(n,"borderRight","_br",e,o,i)}}))};function BN(n,t,e,r,o,i){var a={width:0,height:0,rank:i,borderType:t},u=o[t][i-1],c=DN.addDummyNode(n,"border",a,e);o[t][i]=c,n.setParent(c,r),u&&n.setEdge(u,c,{weight:1})}var zN=kO,qN={adjust:function(n){var t=n.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||FN(n)},undo:function(n){var t=n.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(n){zN.forEach(n.nodes(),(function(t){VN(n.node(t))})),zN.forEach(n.edges(),(function(t){var e=n.edge(t);zN.forEach(e.points,VN),zN.has(e,"y")&&VN(e)}))}(n);"lr"!==t&&"rl"!==t||(!function(n){zN.forEach(n.nodes(),(function(t){HN(n.node(t))})),zN.forEach(n.edges(),(function(t){var e=n.edge(t);zN.forEach(e.points,HN),zN.has(e,"x")&&HN(e)}))}(n),FN(n))}};function FN(n){zN.forEach(n.nodes(),(function(t){GN(n.node(t))})),zN.forEach(n.edges(),(function(t){GN(n.edge(t))}))}function GN(n){var t=n.width;n.width=n.height,n.height=t}function VN(n){n.y=-n.y}function HN(n){var t=n.x;n.x=n.y,n.y=t}var UN=kO,WN=function(n){var t={},e=UN.filter(n.nodes(),(function(t){return!n.children(t).length})),r=UN.max(UN.map(e,(function(t){return n.node(t).rank}))),o=UN.map(UN.range(r+1),(function(){return[]}));var i=UN.sortBy(e,(function(t){return n.node(t).rank}));return UN.forEach(i,(function e(r){if(UN.has(t,r))return;t[r]=!0;var i=n.node(r);o[i.rank].push(r),UN.forEach(n.successors(r),e)})),o};var YN=kO,$N=function(n,t){for(var e=0,r=1;r<t.length;++r)e+=JN(n,t[r-1],t[r]);return e};function JN(n,t,e){for(var r=YN.zipObject(e,YN.map(e,(function(n,t){return t}))),o=YN.flatten(YN.map(t,(function(t){return YN.sortBy(YN.map(n.outEdges(t),(function(t){return{pos:r[t.w],weight:n.edge(t).weight}})),"pos")})),!0),i=1;i<e.length;)i<<=1;var a=2*i-1;i-=1;var u=YN.map(new Array(a),(function(){return 0})),c=0;return YN.forEach(o.forEach((function(n){var t=n.pos+i;u[t]+=n.weight;for(var e=0;t>0;)t%2&&(e+=u[t+1]),u[t=t-1>>1]+=n.weight;c+=n.weight*e}))),c}var XN=kO;var QN=kO;var KN=kO,ZN=UO;function nA(n,t,e){for(var r;t.length&&(r=KN.last(t)).i<=e;)t.pop(),n.push(r.vs),e++;return e}var tA=kO,eA=function(n,t){return XN.map(t,(function(t){var e=n.inEdges(t);if(e.length){var r=XN.reduce(e,(function(t,e){var r=n.edge(e),o=n.node(e.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))},rA=function(n,t){var e={};return QN.forEach(n,(function(n,t){var r=e[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:t};QN.isUndefined(n.barycenter)||(r.barycenter=n.barycenter,r.weight=n.weight)})),QN.forEach(t.edges(),(function(n){var t=e[n.v],r=e[n.w];QN.isUndefined(t)||QN.isUndefined(r)||(r.indegree++,t.out.push(e[n.w]))})),function(n){var t=[];function e(n){return function(t){t.merged||(QN.isUndefined(t.barycenter)||QN.isUndefined(n.barycenter)||t.barycenter>=n.barycenter)&&function(n,t){var e=0,r=0;n.weight&&(e+=n.barycenter*n.weight,r+=n.weight);t.weight&&(e+=t.barycenter*t.weight,r+=t.weight);n.vs=t.vs.concat(n.vs),n.barycenter=e/r,n.weight=r,n.i=Math.min(t.i,n.i),t.merged=!0}(n,t)}}function r(t){return function(e){e.in.push(t),0==--e.indegree&&n.push(e)}}for(;n.length;){var o=n.pop();t.push(o),QN.forEach(o.in.reverse(),e(o)),QN.forEach(o.out,r(o))}return QN.map(QN.filter(t,(function(n){return!n.merged})),(function(n){return QN.pick(n,["vs","i","barycenter","weight"])}))}(QN.filter(e,(function(n){return!n.indegree})))},oA=function(n,t){var e=ZN.partition(n,(function(n){return KN.has(n,"barycenter")})),r=e.lhs,o=KN.sortBy(e.rhs,(function(n){return-n.i})),i=[],a=0,u=0,c=0;r.sort((s=!!t,function(n,t){return n.barycenter<t.barycenter?-1:n.barycenter>t.barycenter?1:s?t.i-n.i:n.i-t.i})),c=nA(i,o,c),KN.forEach(r,(function(n){c+=n.vs.length,i.push(n.vs),a+=n.barycenter*n.weight,u+=n.weight,c=nA(i,o,c)}));var s;var f={vs:KN.flatten(i,!0)};u&&(f.barycenter=a/u,f.weight=u);return f},iA=function n(t,e,r,o){var i=t.children(e),a=t.node(e),u=a?a.borderLeft:void 0,c=a?a.borderRight:void 0,s={};u&&(i=tA.filter(i,(function(n){return n!==u&&n!==c})));var f=eA(t,i);tA.forEach(f,(function(e){if(t.children(e.v).length){var i=n(t,e.v,r,o);s[e.v]=i,tA.has(i,"barycenter")&&(a=e,u=i,tA.isUndefined(a.barycenter)?(a.barycenter=u.barycenter,a.weight=u.weight):(a.barycenter=(a.barycenter*a.weight+u.barycenter*u.weight)/(a.weight+u.weight),a.weight+=u.weight))}var a,u}));var l=rA(f,r);!function(n,t){tA.forEach(n,(function(n){n.vs=tA.flatten(n.vs.map((function(n){return t[n]?t[n].vs:n})),!0)}))}(l,s);var h=oA(l,o);if(u&&(h.vs=tA.flatten([u,h.vs,c],!0),t.predecessors(u).length)){var p=t.node(t.predecessors(u)[0]),v=t.node(t.predecessors(c)[0]);tA.has(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+p.order+v.order)/(h.weight+2),h.weight+=2}return h};var aA=kO,uA=Gk.Graph;var cA=kO;var sA=kO,fA=WN,lA=$N,hA=iA,pA=function(n,t,e){var r=function(n){var t;for(;n.hasNode(t=aA.uniqueId("_root")););return t}(n),o=new uA({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return n.node(t)}));return aA.forEach(n.nodes(),(function(i){var a=n.node(i),u=n.parent(i);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(o.setNode(i),o.setParent(i,u||r),aA.forEach(n[e](i),(function(t){var e=t.v===i?t.w:t.v,r=o.edge(e,i),a=aA.isUndefined(r)?0:r.weight;o.setEdge(e,i,{weight:n.edge(t).weight+a})})),aA.has(a,"minRank")&&o.setNode(i,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),o},vA=function(n,t,e){var r,o={};cA.forEach(e,(function(e){for(var i,a,u=n.parent(e);u;){if((i=n.parent(u))?(a=o[i],o[i]=u):(a=r,r=u),a&&a!==u)return void t.setEdge(a,u);u=i}}))},dA=Gk.Graph,gA=UO,yA=function(n){var t=gA.maxRank(n),e=mA(n,sA.range(1,t+1),"inEdges"),r=mA(n,sA.range(t-1,-1,-1),"outEdges"),o=fA(n);_A(n,o);for(var i,a=Number.POSITIVE_INFINITY,u=0,c=0;c<4;++u,++c){wA(u%2?e:r,u%4>=2),o=gA.buildLayerMatrix(n);var s=lA(n,o);s<a&&(c=0,i=sA.cloneDeep(o),a=s)}_A(n,i)};function mA(n,t,e){return sA.map(t,(function(t){return pA(n,t,e)}))}function wA(n,t){var e=new dA;sA.forEach(n,(function(n){var r=n.graph().root,o=hA(n,r,e,t);sA.forEach(o.vs,(function(t,e){n.node(t).order=e})),vA(n,e,o.vs)}))}function _A(n,t){sA.forEach(t,(function(t){sA.forEach(t,(function(t,e){n.node(t).order=e}))}))}var bA=kO,xA=Gk.Graph,EA=UO,SA=function(n){var t,e=EA.buildLayerMatrix(n),r=bA.merge(MA(n,e),TA(n,e)),o={};bA.forEach(["u","d"],(function(i){t="u"===i?e:bA.values(e).reverse(),bA.forEach(["l","r"],(function(e){"r"===e&&(t=bA.map(t,(function(n){return bA.values(n).reverse()})));var a=("u"===i?n.predecessors:n.successors).bind(n),u=CA(n,t,r,a),c=PA(n,t,u.root,u.align,"r"===e);"r"===e&&(c=bA.mapValues(c,(function(n){return-n}))),o[i+e]=c}))}));var i=OA(n,o);return NA(o,i),AA(o,n.graph().align)};function MA(n,t){var e={};return bA.reduce(t,(function(t,r){var o=0,i=0,a=t.length,u=bA.last(r);return bA.forEach(r,(function(t,c){var s=function(n,t){if(n.node(t).dummy)return bA.find(n.predecessors(t),(function(t){return n.node(t).dummy}))}(n,t),f=s?n.node(s).order:a;(s||t===u)&&(bA.forEach(r.slice(i,c+1),(function(t){bA.forEach(n.predecessors(t),(function(r){var i=n.node(r),a=i.order;!(a<o||f<a)||i.dummy&&n.node(t).dummy||jA(e,r,t)}))})),i=c+1,o=f)})),r})),e}function TA(n,t){var e={};function r(t,r,o,i,a){var u;bA.forEach(bA.range(r,o),(function(r){u=t[r],n.node(u).dummy&&bA.forEach(n.predecessors(u),(function(t){var r=n.node(t);r.dummy&&(r.order<i||r.order>a)&&jA(e,t,u)}))}))}return bA.reduce(t,(function(t,e){var o,i=-1,a=0;return bA.forEach(e,(function(u,c){if("border"===n.node(u).dummy){var s=n.predecessors(u);s.length&&(o=n.node(s[0]).order,r(e,a,c,i,o),a=c,i=o)}r(e,a,e.length,o,t.length)})),e})),e}function jA(n,t,e){if(t>e){var r=t;t=e,e=r}var o=n[t];o||(n[t]=o={}),o[e]=!0}function kA(n,t,e){if(t>e){var r=t;t=e,e=r}return bA.has(n[t],e)}function CA(n,t,e,r){var o={},i={},a={};return bA.forEach(t,(function(n){bA.forEach(n,(function(n,t){o[n]=n,i[n]=n,a[n]=t}))})),bA.forEach(t,(function(n){var t=-1;bA.forEach(n,(function(n){var u=r(n);if(u.length)for(var c=((u=bA.sortBy(u,(function(n){return a[n]}))).length-1)/2,s=Math.floor(c),f=Math.ceil(c);s<=f;++s){var l=u[s];i[n]===n&&t<a[l]&&!kA(e,n,l)&&(i[l]=n,i[n]=o[n]=o[l],t=a[l])}}))})),{root:o,align:i}}function PA(n,t,e,r,o){var i={},a=function(n,t,e,r){var o=new xA,i=n.graph(),a=function(n,t,e){return function(r,o,i){var a,u=r.node(o),c=r.node(i),s=0;if(s+=u.width/2,bA.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=-u.width/2;break;case"r":a=u.width/2}if(a&&(s+=e?a:-a),a=0,s+=(u.dummy?t:n)/2,s+=(c.dummy?t:n)/2,s+=c.width/2,bA.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=c.width/2;break;case"r":a=-c.width/2}return a&&(s+=e?a:-a),a=0,s}}(i.nodesep,i.edgesep,r);return bA.forEach(t,(function(t){var r;bA.forEach(t,(function(t){var i=e[t];if(o.setNode(i),r){var u=e[r],c=o.edge(u,i);o.setEdge(u,i,Math.max(a(n,t,r),c||0))}r=t}))})),o}(n,t,e,o),u=o?"borderLeft":"borderRight";function c(n,t){for(var e=a.nodes(),r=e.pop(),o={};r;)o[r]?n(r):(o[r]=!0,e.push(r),e=e.concat(t(r))),r=e.pop()}return c((function(n){i[n]=a.inEdges(n).reduce((function(n,t){return Math.max(n,i[t.v]+a.edge(t))}),0)}),a.predecessors.bind(a)),c((function(t){var e=a.outEdges(t).reduce((function(n,t){return Math.min(n,i[t.w]-a.edge(t))}),Number.POSITIVE_INFINITY),r=n.node(t);e!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(i[t]=Math.max(i[t],e))}),a.successors.bind(a)),bA.forEach(r,(function(n){i[n]=i[e[n]]})),i}function OA(n,t){return bA.minBy(bA.values(t),(function(t){var e=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return bA.forIn(t,(function(t,o){var i=function(n,t){return n.node(t).width}(n,o)/2;e=Math.max(t+i,e),r=Math.min(t-i,r)})),e-r}))}function NA(n,t){var e=bA.values(t),r=bA.min(e),o=bA.max(e);bA.forEach(["u","d"],(function(e){bA.forEach(["l","r"],(function(i){var a,u=e+i,c=n[u];if(c!==t){var s=bA.values(c);(a="l"===i?r-bA.min(s):o-bA.max(s))&&(n[u]=bA.mapValues(c,(function(n){return n+a})))}}))}))}function AA(n,t){return bA.mapValues(n.ul,(function(e,r){if(t)return n[t.toLowerCase()][r];var o=bA.sortBy(bA.map(n,r));return(o[1]+o[2])/2}))}var RA=kO,IA=UO,DA=SA;var LA=kO,BA=GO,zA=XO,qA=TN,FA=UO.normalizeRanks,GA=PN,VA=UO.removeEmptyRanks,HA=AN,UA=LN,WA=qN,YA=yA,$A=function(n){(function(n){var t=IA.buildLayerMatrix(n),e=n.graph().ranksep,r=0;RA.forEach(t,(function(t){var o=RA.max(RA.map(t,(function(t){return n.node(t).height})));RA.forEach(t,(function(t){n.node(t).y=r+o/2})),r+=o+e}))})(n=IA.asNonCompoundGraph(n)),RA.forEach(DA(n),(function(t,e){n.node(e).x=t}))},JA=UO,XA=Gk.Graph,QA=function(n,t){var e=t&&t.debugTiming?JA.time:JA.notime;e("layout",(function(){var t=e("  buildLayoutGraph",(function(){return function(n){var t=new XA({multigraph:!0,compound:!0}),e=uR(n.graph());return t.setGraph(LA.merge({},ZA,aR(e,KA),LA.pick(e,nR))),LA.forEach(n.nodes(),(function(e){var r=uR(n.node(e));t.setNode(e,LA.defaults(aR(r,tR),eR)),t.setParent(e,n.parent(e))})),LA.forEach(n.edges(),(function(e){var r=uR(n.edge(e));t.setEdge(e,LA.merge({},oR,aR(r,rR),LA.pick(r,iR)))})),t}(n)}));e("  runLayout",(function(){!function(n,t){t("    makeSpaceForEdgeLabels",(function(){!function(n){var t=n.graph();t.ranksep/=2,LA.forEach(n.edges(),(function(e){var r=n.edge(e);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(n)})),t("    removeSelfEdges",(function(){!function(n){LA.forEach(n.edges(),(function(t){if(t.v===t.w){var e=n.node(t.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:n.edge(t)}),n.removeEdge(t)}}))}(n)})),t("    acyclic",(function(){BA.run(n)})),t("    nestingGraph.run",(function(){HA.run(n)})),t("    rank",(function(){qA(JA.asNonCompoundGraph(n))})),t("    injectEdgeLabelProxies",(function(){!function(n){LA.forEach(n.edges(),(function(t){var e=n.edge(t);if(e.width&&e.height){var r=n.node(t.v),o={rank:(n.node(t.w).rank-r.rank)/2+r.rank,e:t};JA.addDummyNode(n,"edge-proxy",o,"_ep")}}))}(n)})),t("    removeEmptyRanks",(function(){VA(n)})),t("    nestingGraph.cleanup",(function(){HA.cleanup(n)})),t("    normalizeRanks",(function(){FA(n)})),t("    assignRankMinMax",(function(){!function(n){var t=0;LA.forEach(n.nodes(),(function(e){var r=n.node(e);r.borderTop&&(r.minRank=n.node(r.borderTop).rank,r.maxRank=n.node(r.borderBottom).rank,t=LA.max(t,r.maxRank))})),n.graph().maxRank=t}(n)})),t("    removeEdgeLabelProxies",(function(){!function(n){LA.forEach(n.nodes(),(function(t){var e=n.node(t);"edge-proxy"===e.dummy&&(n.edge(e.e).labelRank=e.rank,n.removeNode(t))}))}(n)})),t("    normalize.run",(function(){zA.run(n)})),t("    parentDummyChains",(function(){GA(n)})),t("    addBorderSegments",(function(){UA(n)})),t("    order",(function(){YA(n)})),t("    insertSelfEdges",(function(){!function(n){var t=JA.buildLayerMatrix(n);LA.forEach(t,(function(t){var e=0;LA.forEach(t,(function(t,r){var o=n.node(t);o.order=r+e,LA.forEach(o.selfEdges,(function(t){JA.addDummyNode(n,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:r+ ++e,e:t.e,label:t.label},"_se")})),delete o.selfEdges}))}))}(n)})),t("    adjustCoordinateSystem",(function(){WA.adjust(n)})),t("    position",(function(){$A(n)})),t("    positionSelfEdges",(function(){!function(n){LA.forEach(n.nodes(),(function(t){var e=n.node(t);if("selfedge"===e.dummy){var r=n.node(e.e.v),o=r.x+r.width/2,i=r.y,a=e.x-o,u=r.height/2;n.setEdge(e.e,e.label),n.removeNode(t),e.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],e.label.x=e.x,e.label.y=e.y}}))}(n)})),t("    removeBorderNodes",(function(){!function(n){LA.forEach(n.nodes(),(function(t){if(n.children(t).length){var e=n.node(t),r=n.node(e.borderTop),o=n.node(e.borderBottom),i=n.node(LA.last(e.borderLeft)),a=n.node(LA.last(e.borderRight));e.width=Math.abs(a.x-i.x),e.height=Math.abs(o.y-r.y),e.x=i.x+e.width/2,e.y=r.y+e.height/2}})),LA.forEach(n.nodes(),(function(t){"border"===n.node(t).dummy&&n.removeNode(t)}))}(n)})),t("    normalize.undo",(function(){zA.undo(n)})),t("    fixupEdgeLabelCoords",(function(){!function(n){LA.forEach(n.edges(),(function(t){var e=n.edge(t);if(LA.has(e,"x"))switch("l"!==e.labelpos&&"r"!==e.labelpos||(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset}}))}(n)})),t("    undoCoordinateSystem",(function(){WA.undo(n)})),t("    translateGraph",(function(){!function(n){var t=Number.POSITIVE_INFINITY,e=0,r=Number.POSITIVE_INFINITY,o=0,i=n.graph(),a=i.marginx||0,u=i.marginy||0;function c(n){var i=n.x,a=n.y,u=n.width,c=n.height;t=Math.min(t,i-u/2),e=Math.max(e,i+u/2),r=Math.min(r,a-c/2),o=Math.max(o,a+c/2)}LA.forEach(n.nodes(),(function(t){c(n.node(t))})),LA.forEach(n.edges(),(function(t){var e=n.edge(t);LA.has(e,"x")&&c(e)})),t-=a,r-=u,LA.forEach(n.nodes(),(function(e){var o=n.node(e);o.x-=t,o.y-=r})),LA.forEach(n.edges(),(function(e){var o=n.edge(e);LA.forEach(o.points,(function(n){n.x-=t,n.y-=r})),LA.has(o,"x")&&(o.x-=t),LA.has(o,"y")&&(o.y-=r)})),i.width=e-t+a,i.height=o-r+u}(n)})),t("    assignNodeIntersects",(function(){!function(n){LA.forEach(n.edges(),(function(t){var e,r,o=n.edge(t),i=n.node(t.v),a=n.node(t.w);o.points?(e=o.points[0],r=o.points[o.points.length-1]):(o.points=[],e=a,r=i),o.points.unshift(JA.intersectRect(i,e)),o.points.push(JA.intersectRect(a,r))}))}(n)})),t("    reversePoints",(function(){!function(n){LA.forEach(n.edges(),(function(t){var e=n.edge(t);e.reversed&&e.points.reverse()}))}(n)})),t("    acyclic.undo",(function(){BA.undo(n)}))}(t,e)})),e("  updateInputGraph",(function(){!function(n,t){LA.forEach(n.nodes(),(function(e){var r=n.node(e),o=t.node(e);r&&(r.x=o.x,r.y=o.y,t.children(e).length&&(r.width=o.width,r.height=o.height))})),LA.forEach(n.edges(),(function(e){var r=n.edge(e),o=t.edge(e);r.points=o.points,LA.has(o,"x")&&(r.x=o.x,r.y=o.y)})),n.graph().width=t.graph().width,n.graph().height=t.graph().height}(n,t)}))}))};var KA=["nodesep","edgesep","ranksep","marginx","marginy"],ZA={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},nR=["acyclicer","ranker","rankdir","align"],tR=["width","height"],eR={width:0,height:0},rR=["minlen","weight","width","height","labeloffset"],oR={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},iR=["labelpos"];function aR(n,t){return LA.mapValues(LA.pick(n,t),Number)}function uR(n){var t={};return LA.forEach(n,(function(n,e){t[e.toLowerCase()]=n})),t}var cR=kO,sR=UO,fR=Gk.Graph;var lR={graphlib:Gk,layout:QA,debug:{debugOrdering:function(n){var t=sR.buildLayerMatrix(n),e=new fR({compound:!0,multigraph:!0}).setGraph({});return cR.forEach(n.nodes(),(function(t){e.setNode(t,{label:t}),e.setParent(t,"layer"+n.node(t).rank)})),cR.forEach(n.edges(),(function(n){e.setEdge(n.v,n.w,{},n.name)})),cR.forEach(t,(function(n,t){var r="layer"+t;e.setNode(r,{rank:"same"}),cR.reduce(n,(function(n,t){return e.setEdge(n,t,{style:"invis"}),t}))})),e}},util:{time:UO.time,notime:UO.notime},version:"0.8.5"};Object.defineProperty({},"__esModule",{value:!0});var hR=st,pR=ct.exports.__importDefault(lR),vR=Rh,dR={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(n){return n.source},target:function(n){return n.target}};function gR(n,t){t=hR.assign({},dR,t);var e=new pR.default.graphlib.Graph;e.setGraph({}),e.setDefaultEdgeLabel((function(){return{}})),n.nodes.forEach((function(n){var r=t.nodeId?t.nodeId(n):n.id;n.height||n.width||(n.height=n.width=t.edgesep),e.setNode(r,n)})),n.edges.forEach((function(n){e.setEdge(t.source(n),t.target(n))})),pR.default.layout(e);var r=[],o=[];e.nodes().forEach((function(n){var t=e.node(n),o=t.x,i=t.y,a=t.height,u=t.width;t.x=[o-u/2,o+u/2,o+u/2,o-u/2],t.y=[i+a/2,i+a/2,i-a/2,i-a/2],r.push(t)})),e.edges().forEach((function(n){var t=e.edge(n).points,r={};r.x=t.map((function(n){return n.x})),r.y=t.map((function(n){return n.y})),o.push(r)})),n.nodes=r,n.edges=o}vR.DataSet.registerTransform("diagram.dagre",gR),vR.DataSet.registerTransform("dagre",gR);function yR(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function mR(n,t){var e,r,o=n.length,i=-1;if(null==t){for(;++i<o;)if(null!=(e=n[i])&&e>=e)for(r=e;++i<o;)null!=(e=n[i])&&r>e&&(r=e)}else for(;++i<o;)if(null!=(e=t(n[i],i,n))&&e>=e)for(r=e;++i<o;)null!=(e=t(n[i],i,n))&&r>e&&(r=e);return r}function wR(n,t){var e,r=n.length,o=-1,i=0;if(null==t)for(;++o<r;)(e=+n[o])&&(i+=e);else for(;++o<r;)(e=+t(n[o],o,n))&&(i+=e);return i}!function(n){1===n.length&&(n=function(n){return function(t,e){return yR(n(t),e)}}(n))}(yR);function _R(){}function bR(n,t){var e=new _R;if(n instanceof _R)n.each((function(n,t){e.set(t,n)}));else if(Array.isArray(n)){var r,o=-1,i=n.length;if(null==t)for(;++o<i;)e.set(o,n[o]);else for(;++o<i;)e.set(t(r=n[o],o,n),r)}else if(n)for(var a in n)e.set(a,n[a]);return e}function xR(){var n,t,e,r=[],o=[];function i(e,o,a,u){if(o>=r.length)return null!=n&&e.sort(n),null!=t?t(e):e;for(var c,s,f,l=-1,h=e.length,p=r[o++],v=bR(),d=a();++l<h;)(f=v.get(c=p(s=e[l])+""))?f.push(s):v.set(c,[s]);return v.each((function(n,t){u(d,t,i(n,o,a,u))})),d}function a(n,e){if(++e>r.length)return n;var i,u=o[e-1];return null!=t&&e>=r.length?i=n.entries():(i=[],n.each((function(n,t){i.push({key:t,values:a(n,e)})}))),null!=u?i.sort((function(n,t){return u(n.key,t.key)})):i}return e={object:function(n){return i(n,0,ER,SR)},map:function(n){return i(n,0,MR,TR)},entries:function(n){return a(i(n,0,MR,TR),0)},key:function(n){return r.push(n),e},sortKeys:function(n){return o[r.length-1]=n,e},sortValues:function(t){return n=t,e},rollup:function(n){return t=n,e}}}function ER(){return{}}function SR(n,t,e){n[t]=e}function MR(){return bR()}function TR(n,t,e){n.set(t,e)}function jR(){}_R.prototype=bR.prototype={constructor:_R,has:function(n){return"$"+n in this},get:function(n){return this["$"+n]},set:function(n,t){return this["$"+n]=t,this},remove:function(n){var t="$"+n;return t in this&&delete this[t]},clear:function(){for(var n in this)"$"===n[0]&&delete this[n]},keys:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(t.slice(1));return n},values:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(this[t]);return n},entries:function(){var n=[];for(var t in this)"$"===t[0]&&n.push({key:t.slice(1),value:this[t]});return n},size:function(){var n=0;for(var t in this)"$"===t[0]&&++n;return n},empty:function(){for(var n in this)if("$"===n[0])return!1;return!0},each:function(n){for(var t in this)"$"===t[0]&&n(this[t],t.slice(1),this)}};var kR=bR.prototype;function CR(n){return n.target.depth}function PR(n,t){return n.sourceLinks.length?n.depth:t-1}function OR(n){return function(){return n}}function NR(n,t){return RR(n.source,t.source)||n.index-t.index}function AR(n,t){return RR(n.target,t.target)||n.index-t.index}function RR(n,t){return n.y0-t.y0}function IR(n){return n.value}function DR(n){return n.index}function LR(n){return n.nodes}function BR(n){return n.links}function zR(n,t){var e=n.get(t);if(!e)throw new Error("missing: "+t);return e}jR.prototype={constructor:jR,has:kR.has,add:function(n){return this["$"+(n+="")]=n,this},remove:kR.remove,clear:kR.clear,values:kR.keys,size:kR.size,empty:kR.empty,each:kR.each};var qR=Math.PI,FR=2*qR,GR=FR-1e-6;function VR(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function HR(){return new VR}function UR(n){return function(){return n}}function WR(n){return n[0]}function YR(n){return n[1]}VR.prototype=HR.prototype={constructor:VR,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,e,r){this._+="Q"+ +n+","+ +t+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(n,t,e,r,o,i){this._+="C"+ +n+","+ +t+","+ +e+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(n,t,e,r,o){n=+n,t=+t,e=+e,r=+r,o=+o;var i=this._x1,a=this._y1,u=e-n,c=r-t,s=i-n,f=a-t,l=s*s+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(l>1e-6)if(Math.abs(f*u-c*s)>1e-6&&o){var h=e-i,p=r-a,v=u*u+c*c,d=h*h+p*p,g=Math.sqrt(v),y=Math.sqrt(l),m=o*Math.tan((qR-Math.acos((v+l-d)/(2*g*y)))/2),w=m/y,_=m/g;Math.abs(w-1)>1e-6&&(this._+="L"+(n+w*s)+","+(t+w*f)),this._+="A"+o+","+o+",0,0,"+ +(f*h>s*p)+","+(this._x1=n+_*u)+","+(this._y1=t+_*c)}else this._+="L"+(this._x1=n)+","+(this._y1=t);else;},arc:function(n,t,e,r,o,i){n=+n,t=+t,i=!!i;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),c=n+a,s=t+u,f=1^i,l=i?r-o:o-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%FR+FR),l>GR?this._+="A"+e+","+e+",0,1,"+f+","+(n-a)+","+(t-u)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=qR)+","+f+","+(this._x1=n+e*Math.cos(o))+","+(this._y1=t+e*Math.sin(o))))},rect:function(n,t,e,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var $R=Array.prototype.slice;function JR(n){return n.source}function XR(n){return n.target}function QR(n,t,e,r,o){n.moveTo(t,e),n.bezierCurveTo(t=(t+r)/2,e,t,o,r,o)}function KR(){return function(n){var t=JR,e=XR,r=WR,o=YR,i=null;function a(){var a,u=$R.call(arguments),c=t.apply(this,u),s=e.apply(this,u);if(i||(i=a=HR()),n(i,+r.apply(this,(u[0]=c,u)),+o.apply(this,u),+r.apply(this,(u[0]=s,u)),+o.apply(this,u)),a)return i=null,a+""||null}return a.source=function(n){return arguments.length?(t=n,a):t},a.target=function(n){return arguments.length?(e=n,a):e},a.x=function(n){return arguments.length?(r="function"==typeof n?n:UR(+n),a):r},a.y=function(n){return arguments.length?(o="function"==typeof n?n:UR(+n),a):o},a.context=function(n){return arguments.length?(i=null==n?null:n,a):i},a}(QR)}function ZR(n){return[n.source.x1,n.y0]}function nI(n){return[n.target.x0,n.y1]}var tI=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",sankey:function(){var n,t=0,e=0,r=1,o=1,i=24,a=8,u=DR,c=PR,s=LR,f=BR,l=6;function h(){var n={nodes:s.apply(null,arguments),links:f.apply(null,arguments)};return p(n),v(n),d(n),g(n),y(n),n}function p(n){n.nodes.forEach((function(n,t){n.index=t,n.sourceLinks=[],n.targetLinks=[]}));var t=bR(n.nodes,u);n.links.forEach((function(n,e){n.index=e;var r=n.source,o=n.target;"object"!=typeof r&&(r=n.source=zR(t,r)),"object"!=typeof o&&(o=n.target=zR(t,o)),r.sourceLinks.push(n),o.targetLinks.push(n)}))}function v(n){n.nodes.forEach((function(n){n.value=Math.max(wR(n.sourceLinks,IR),wR(n.targetLinks,IR))}))}function d(n){var e,o,a,u=n.nodes.length;for(e=n.nodes,o=[],a=0;e.length;++a,e=o,o=[]){if(a>u)throw new Error("circular link");e.forEach((function(n){n.depth=a,n.sourceLinks.forEach((function(n){o.indexOf(n.target)<0&&o.push(n.target)}))}))}for(e=n.nodes,o=[],a=0;e.length;++a,e=o,o=[]){if(a>u)throw new Error("circular link");e.forEach((function(n){n.height=a,n.targetLinks.forEach((function(n){o.indexOf(n.source)<0&&o.push(n.source)}))}))}var s=(r-t-i)/(a-1);n.nodes.forEach((function(n){n.x1=(n.x0=t+Math.max(0,Math.min(a-1,Math.floor(c.call(null,n,a))))*s)+i}))}function g(t){var r,i=xR().key((function(n){return n.x0})).sortKeys(yR).entries(t.nodes).map((function(n){return n.values}));r=mR(i,(function(n){return(o-e-(n.length-1)*a)/wR(n,IR)})),i.forEach((function(t){null!=n&&t.sort(n),t.forEach((function(n,t){n.y1=(n.y0=t)+n.value*r}))})),t.links.forEach((function(n){n.width=n.value*r})),h();for(var u=.9,c=l;c>0;--c,u*=.9)f(u),h(),s(u),h();function s(n){i.forEach((function(t){t.forEach((function(t){let e=t.y0;for(const{target:r,width:o,value:i}of t.sourceLinks.sort(AR)){if(i>0){let o=0;for(const{source:n,width:e}of r.targetLinks){if(n===t)break;o+=e+a/2}o=(e-o-r.y0)*n*(i/Math.min(t.value,r.value)),r.y0+=o,r.y1+=o}e+=o+a/2}}))}))}function f(n){i.slice().reverse().forEach((function(t){t.forEach((function(t){let e=t.y0;for(const{source:r,width:o,value:i}of t.targetLinks.sort(NR)){if(i>0){let o=0;for(const{target:n,width:e}of r.sourceLinks){if(n===t)break;o+=e+a/2}o=(e-o-r.y0)*n*(i/Math.min(t.value,r.value)),r.y0+=o,r.y1+=o}e+=o+a/2}}))}))}function h(){i.forEach((function(t){var r,i,u,c=e,s=t.length;for(void 0===n&&t.sort(RR),u=0;u<s;++u)(i=c-(r=t[u]).y0)>0&&(r.y0+=i,r.y1+=i),c=r.y1+a;if((i=c-a-o)>0)for(c=r.y0-=i,r.y1-=i,u=s-2;u>=0;--u)(i=(r=t[u]).y1+a-c)>0&&(r.y0-=i,r.y1-=i),c=r.y0}))}}function y(n){n.nodes.forEach((function(n){n.sourceLinks.sort(AR),n.targetLinks.sort(NR)})),n.nodes.forEach((function(n){var t=n.y0,e=t;n.sourceLinks.forEach((function(n){n.y0=t+n.width/2,t+=n.width})),n.targetLinks.forEach((function(n){n.y1=e+n.width/2,e+=n.width}))}))}return h.update=function(n){return y(n),n},h.nodeId=function(n){return arguments.length?(u="function"==typeof n?n:OR(n),h):u},h.nodeAlign=function(n){return arguments.length?(c="function"==typeof n?n:OR(n),h):c},h.nodeSort=function(t){return arguments.length?(n=t,h):n},h.nodeWidth=function(n){return arguments.length?(i=+n,h):i},h.nodePadding=function(n){return arguments.length?(a=+n,h):a},h.nodes=function(n){return arguments.length?(s="function"==typeof n?n:OR(n),h):s},h.links=function(n){return arguments.length?(f="function"==typeof n?n:OR(n),h):f},h.size=function(n){return arguments.length?(t=e=0,r=+n[0],o=+n[1],h):[r-t,o-e]},h.extent=function(n){return arguments.length?(t=+n[0][0],r=+n[1][0],e=+n[0][1],o=+n[1][1],h):[[t,e],[r,o]]},h.iterations=function(n){return arguments.length?(l=+n,h):l},h},sankeyCenter:function(n){return n.targetLinks.length?n.depth:n.sourceLinks.length?mR(n.sourceLinks,CR)-1:0},sankeyLeft:function(n){return n.depth},sankeyRight:function(n,t){return t-1-n.height},sankeyJustify:PR,sankeyLinkHorizontal:function(){return KR().source(ZR).target(nI)}}));Object.defineProperty({},"__esModule",{value:!0});var eI=st,rI=tI,oI=Rh,iI={sankeyLeft:rI.sankeyLeft,sankeyRight:rI.sankeyRight,sankeyCenter:rI.sankeyCenter,sankeyJustify:rI.sankeyJustify},aI={value:function(n){return n.value},source:function(n){return n.source},target:function(n){return n.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function uI(n,t){t=eI.assign({},aI,t);var e=null;eI.isString(t.nodeAlign)?e=iI[t.nodeAlign]:eI.isFunction(t.nodeAlign)&&(e=t.nodeAlign);var r=rI.sankey().nodeSort(t.sort).links((function(n){return n.edges})).nodeWidth(t.nodeWidth).nodePadding(t.nodePadding).extent([[0,0],[1,1]]);eI.isFunction(t.nodeId)&&r.nodeId(t.nodeId),e&&r.nodeAlign(e),r(n),n.nodes.forEach((function(n){var t=n.x0,e=n.x1,r=n.y0,o=n.y1;n.x=[t,e,e,t],n.y=[r,r,o,o]})),n.edges.forEach((function(n){var t=n.source,e=n.target,r=t.x1,o=e.x0;n.x=[r,r,o,o];var i=n.width/2;n.y=[n.y0+i,n.y0-i,n.y1+i,n.y1-i]}))}oI.DataSet.registerTransform("diagram.sankey",uI),oI.DataSet.registerTransform("sankey",uI);function cI(n){return function(){return n}}function sI(n){return n[0]}function fI(n){return n[1]}function lI(){this._=null}function hI(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function pI(n,t){var e=t,r=t.R,o=e.U;o?o.L===e?o.L=r:o.R=r:n._=r,r.U=o,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function vI(n,t){var e=t,r=t.L,o=e.U;o?o.L===e?o.L=r:o.R=r:n._=r,r.U=o,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function dI(n){for(;n.L;)n=n.L;return n}function gI(n,t,e,r){var o=[null,null],i=qI.push(o)-1;return o.left=n,o.right=t,e&&mI(o,n,t,e),r&&mI(o,t,n,r),BI[n.index].halfedges.push(i),BI[t.index].halfedges.push(i),o}function yI(n,t,e){var r=[t,e];return r.left=n,r}function mI(n,t,e,r){n[0]||n[1]?n.left===e?n[1]=r:n[0]=r:(n[0]=r,n.left=t,n.right=e)}function wI(n,t,e,r,o){var i,a=n[0],u=n[1],c=a[0],s=a[1],f=0,l=1,h=u[0]-c,p=u[1]-s;if(i=t-c,h||!(i>0)){if(i/=h,h<0){if(i<f)return;i<l&&(l=i)}else if(h>0){if(i>l)return;i>f&&(f=i)}if(i=r-c,h||!(i<0)){if(i/=h,h<0){if(i>l)return;i>f&&(f=i)}else if(h>0){if(i<f)return;i<l&&(l=i)}if(i=e-s,p||!(i>0)){if(i/=p,p<0){if(i<f)return;i<l&&(l=i)}else if(p>0){if(i>l)return;i>f&&(f=i)}if(i=o-s,p||!(i<0)){if(i/=p,p<0){if(i>l)return;i>f&&(f=i)}else if(p>0){if(i<f)return;i<l&&(l=i)}return!(f>0||l<1)||(f>0&&(n[0]=[c+f*h,s+f*p]),l<1&&(n[1]=[c+l*h,s+l*p]),!0)}}}}}function _I(n,t,e,r,o){var i=n[1];if(i)return!0;var a,u,c=n[0],s=n.left,f=n.right,l=s[0],h=s[1],p=f[0],v=f[1],d=(l+p)/2,g=(h+v)/2;if(v===h){if(d<t||d>=r)return;if(l>p){if(c){if(c[1]>=o)return}else c=[d,e];i=[d,o]}else{if(c){if(c[1]<e)return}else c=[d,o];i=[d,e]}}else if(u=g-(a=(l-p)/(v-h))*d,a<-1||a>1)if(l>p){if(c){if(c[1]>=o)return}else c=[(e-u)/a,e];i=[(o-u)/a,o]}else{if(c){if(c[1]<e)return}else c=[(o-u)/a,o];i=[(e-u)/a,e]}else if(h<v){if(c){if(c[0]>=r)return}else c=[t,a*t+u];i=[r,a*r+u]}else{if(c){if(c[0]<t)return}else c=[r,a*r+u];i=[t,a*t+u]}return n[0]=c,n[1]=i,!0}function bI(n,t){var e=n.site,r=t.left,o=t.right;return e===o&&(o=r,r=e),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(e===r?(r=t[1],o=t[0]):(r=t[0],o=t[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function xI(n,t){return t[+(t.left!==n.site)]}function EI(n,t){return t[+(t.left===n.site)]}lI.prototype={constructor:lI,insert:function(n,t){var e,r,o;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=dI(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)e===(r=e.U).L?(o=r.R)&&o.C?(e.C=o.C=!1,r.C=!0,n=r):(n===e.R&&(pI(this,e),e=(n=e).U),e.C=!1,r.C=!0,vI(this,r)):(o=r.L)&&o.C?(e.C=o.C=!1,r.C=!0,n=r):(n===e.L&&(vI(this,e),e=(n=e).U),e.C=!1,r.C=!0,pI(this,r)),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,o=n.U,i=n.L,a=n.R;if(e=i?a?dI(a):i:a,o?o.L===n?o.L=e:o.R=e:this._=e,i&&a?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==a?(o=e.U,e.U=n.U,n=e.R,o.L=n,e.R=a,a.U=e):(e.U=o,o=e,n=e.R)):(r=n.C,n=e),n&&(n.U=o),!r)if(n&&n.C)n.C=!1;else{do{if(n===this._)break;if(n===o.L){if((t=o.R).C&&(t.C=!1,o.C=!0,pI(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,vI(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,pI(this,o),n=this._;break}}else if((t=o.L).C&&(t.C=!1,o.C=!0,vI(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,pI(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,vI(this,o),n=this._;break}t.C=!0,n=o,o=o.U}while(!n.C);n&&(n.C=!1)}}};var SI,MI=[];function TI(){hI(this),this.x=this.y=this.arc=this.site=this.cy=null}function jI(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,o=n.site,i=e.site;if(r!==i){var a=o[0],u=o[1],c=r[0]-a,s=r[1]-u,f=i[0]-a,l=i[1]-u,h=2*(c*l-s*f);if(!(h>=-GI)){var p=c*c+s*s,v=f*f+l*l,d=(l*p-s*v)/h,g=(c*v-f*p)/h,y=MI.pop()||new TI;y.arc=n,y.site=o,y.x=d+a,y.y=(y.cy=g+u)+Math.sqrt(d*d+g*g),n.circle=y;for(var m=null,w=zI._;w;)if(y.y<w.y||y.y===w.y&&y.x<=w.x){if(!w.L){m=w.P;break}w=w.L}else{if(!w.R){m=w;break}w=w.R}zI.insert(m,y),m||(SI=y)}}}}function kI(n){var t=n.circle;t&&(t.P||(SI=t.N),zI.remove(t),MI.push(t),hI(t),n.circle=null)}var CI=[];function PI(){hI(this),this.edge=this.site=this.circle=null}function OI(n){var t=CI.pop()||new PI;return t.site=n,t}function NI(n){kI(n),LI.remove(n),CI.push(n),hI(n)}function AI(n){var t=n.circle,e=t.x,r=t.cy,o=[e,r],i=n.P,a=n.N,u=[n];NI(n);for(var c=i;c.circle&&Math.abs(e-c.circle.x)<FI&&Math.abs(r-c.circle.cy)<FI;)i=c.P,u.unshift(c),NI(c),c=i;u.unshift(c),kI(c);for(var s=a;s.circle&&Math.abs(e-s.circle.x)<FI&&Math.abs(r-s.circle.cy)<FI;)a=s.N,u.push(s),NI(s),s=a;u.push(s),kI(s);var f,l=u.length;for(f=1;f<l;++f)s=u[f],c=u[f-1],mI(s.edge,c.site,s.site,o);c=u[0],(s=u[l-1]).edge=gI(c.site,s.site,null,o),jI(c),jI(s)}function RI(n){for(var t,e,r,o,i=n[0],a=n[1],u=LI._;u;)if((r=II(u,a)-i)>FI)u=u.L;else{if(!((o=i-DI(u,a))>FI)){r>-FI?(t=u.P,e=u):o>-FI?(t=u,e=u.N):t=e=u;break}if(!u.R){t=u;break}u=u.R}!function(n){BI[n.index]={site:n,halfedges:[]}}(n);var c=OI(n);if(LI.insert(t,c),t||e){if(t===e)return kI(t),e=OI(t.site),LI.insert(c,e),c.edge=e.edge=gI(t.site,c.site),jI(t),void jI(e);if(e){kI(t),kI(e);var s=t.site,f=s[0],l=s[1],h=n[0]-f,p=n[1]-l,v=e.site,d=v[0]-f,g=v[1]-l,y=2*(h*g-p*d),m=h*h+p*p,w=d*d+g*g,_=[(g*m-p*w)/y+f,(h*w-d*m)/y+l];mI(e.edge,s,v,_),c.edge=gI(s,n,null,_),e.edge=gI(n,v,null,_),jI(t),jI(e)}else c.edge=gI(t.site,c.site)}}function II(n,t){var e=n.site,r=e[0],o=e[1],i=o-t;if(!i)return r;var a=n.P;if(!a)return-1/0;var u=(e=a.site)[0],c=e[1],s=c-t;if(!s)return u;var f=u-r,l=1/i-1/s,h=f/s;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*s)-c+s/2+o-i/2)))/l+r:(r+u)/2}function DI(n,t){var e=n.N;if(e)return II(e,t);var r=n.site;return r[1]===t?r[0]:1/0}var LI,BI,zI,qI,FI=1e-6,GI=1e-12;function VI(n,t){return t[1]-n[1]||t[0]-n[0]}function HI(n,t){var e,r,o,i=n.sort(VI).pop();for(qI=[],BI=new Array(n.length),LI=new lI,zI=new lI;;)if(o=SI,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))i[0]===e&&i[1]===r||(RI(i),e=i[0],r=i[1]),i=n.pop();else{if(!o)break;AI(o.arc)}if(function(){for(var n,t,e,r,o=0,i=BI.length;o<i;++o)if((n=BI[o])&&(r=(t=n.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=bI(n,qI[t[e]]);for(a.sort((function(n,t){return u[t]-u[n]})),e=0;e<r;++e)u[e]=t[a[e]];for(e=0;e<r;++e)t[e]=u[e]}}(),t){var a=+t[0][0],u=+t[0][1],c=+t[1][0],s=+t[1][1];!function(n,t,e,r){for(var o,i=qI.length;i--;)_I(o=qI[i],n,t,e,r)&&wI(o,n,t,e,r)&&(Math.abs(o[0][0]-o[1][0])>FI||Math.abs(o[0][1]-o[1][1])>FI)||delete qI[i]}(a,u,c,s),function(n,t,e,r){var o,i,a,u,c,s,f,l,h,p,v,d,g=BI.length,y=!0;for(o=0;o<g;++o)if(i=BI[o]){for(a=i.site,u=(c=i.halfedges).length;u--;)qI[c[u]]||c.splice(u,1);for(u=0,s=c.length;u<s;)v=(p=EI(i,qI[c[u]]))[0],d=p[1],l=(f=xI(i,qI[c[++u%s]]))[0],h=f[1],(Math.abs(v-l)>FI||Math.abs(d-h)>FI)&&(c.splice(u,0,qI.push(yI(a,p,Math.abs(v-n)<FI&&r-d>FI?[n,Math.abs(l-n)<FI?h:r]:Math.abs(d-r)<FI&&e-v>FI?[Math.abs(h-r)<FI?l:e,r]:Math.abs(v-e)<FI&&d-t>FI?[e,Math.abs(l-e)<FI?h:t]:Math.abs(d-t)<FI&&v-n>FI?[Math.abs(h-t)<FI?l:n,t]:null))-1),++s);s&&(y=!1)}if(y){var m,w,_,b=1/0;for(o=0,y=null;o<g;++o)(i=BI[o])&&(_=(m=(a=i.site)[0]-n)*m+(w=a[1]-t)*w)<b&&(b=_,y=i);if(y){var x=[n,t],E=[n,r],S=[e,r],M=[e,t];y.halfedges.push(qI.push(yI(a=y.site,x,E))-1,qI.push(yI(a,E,S))-1,qI.push(yI(a,S,M))-1,qI.push(yI(a,M,x))-1)}}for(o=0;o<g;++o)(i=BI[o])&&(i.halfedges.length||delete BI[o])}(a,u,c,s)}this.edges=qI,this.cells=BI,LI=zI=qI=BI=null}HI.prototype={constructor:HI,polygons:function(){var n=this.edges;return this.cells.map((function(t){var e=t.halfedges.map((function(e){return xI(t,n[e])}));return e.data=t.site.data,e}))},triangles:function(){var n=[],t=this.edges;return this.cells.forEach((function(e,r){if(i=(o=e.halfedges).length)for(var o,i,a,u,c,s,f=e.site,l=-1,h=t[o[i-1]],p=h.left===f?h.right:h.left;++l<i;)a=p,p=(h=t[o[l]]).left===f?h.right:h.left,a&&p&&r<a.index&&r<p.index&&(c=a,s=p,((u=f)[0]-s[0])*(c[1]-u[1])-(u[0]-c[0])*(s[1]-u[1])<0)&&n.push([f.data,a.data,p.data])})),n},links:function(){return this.edges.filter((function(n){return n.right})).map((function(n){return{source:n.left.data,target:n.right.data}}))},find:function(n,t,e){for(var r,o,i=this,a=i._found||0,u=i.cells.length;!(o=i.cells[a]);)if(++a>=u)return null;var c=n-o.site[0],s=t-o.site[1],f=c*c+s*s;do{o=i.cells[r=a],a=null,o.halfedges.forEach((function(e){var r=i.edges[e],u=r.left;if(u!==o.site&&u||(u=r.right)){var c=n-u[0],s=t-u[1],l=c*c+s*s;l<f&&(f=l,a=u.index)}}))}while(null!==a);return i._found=r,null==e||f<=e*e?o.site:null}};var UI=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",voronoi:function(){var n=sI,t=fI,e=null;function r(r){return new HI(r.map((function(e,o){var i=[Math.round(n(e,o,r)/FI)*FI,Math.round(t(e,o,r)/FI)*FI];return i.index=o,i.data=e,i})),e)}return r.polygons=function(n){return r(n).polygons()},r.links=function(n){return r(n).links()},r.triangles=function(n){return r(n).triangles()},r.x=function(t){return arguments.length?(n="function"==typeof t?t:cI(+t),r):n},r.y=function(n){return arguments.length?(t="function"==typeof n?n:cI(+n),r):t},r.extent=function(n){return arguments.length?(e=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(n){return arguments.length?(e=null==n?null:[[0,0],[+n[0],+n[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r}}));Object.defineProperty({},"__esModule",{value:!0});var WI=ct.exports.__importStar(UI),YI=st,$I=Rh.DataSet.registerTransform,JI=yd,XI={as:["_x","_y"]};function QI(n,t){var e=(t=YI.assign({},XI,t)).as;if(!YI.isArray(e)||2!==e.length)throw new TypeError("Invalid as: must be an array with two strings!");var r=e[0],o=e[1],i=JI.getFields(t);if(!YI.isArray(i)||2!==i.length)throw new TypeError("Invalid fields: must be an array with two strings!");var a=i[0],u=i[1],c=n.rows,s=c.map((function(n){return[n[a],n[u]]})),f=WI.voronoi();t.extend&&f.extent(t.extend),t.size&&f.size(t.size);var l=f(s).polygons();c.forEach((function(n,t){var e=l[t].filter((function(n){return!!n}));n[r]=e.map((function(n){return n[0]})),n[o]=e.map((function(n){return n[1]}))}))}$I("diagram.voronoi",QI),$I("voronoi",QI);Object.defineProperty({},"__esModule",{value:!0});var KI=ct.exports.__importStar($v),ZI=st,nD=Rh,tD=yd,eD={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function rD(n,t){if(n.dataType!==nD.DataSet.CONSTANTS.HIERARCHY||!n.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root,r=(t=ZI.assign({},eD,t)).as;if(!ZI.isArray(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var o=void 0;try{o=tD.getField(t)}catch(HB){console.warn(HB)}o&&e.sum((function(n){return n[o]}));var i=KI.cluster();i.size(t.size),t.nodeSize&&i.nodeSize(t.nodeSize),t.separation&&i.separation(t.separation),i(e);var a=r[0],u=r[1];e.each((function(n){n[a]=n.x,n[u]=n.y}))}nD.DataSet.registerTransform("hierarchy.cluster",rD),nD.DataSet.registerTransform("dendrogram",rD);var oD={assign:st.mix},iD=oD,aD={getId:function(n){return n.id||n.name},getHGap:function(n){return n.hgap||18},getVGap:function(n){return n.vgap||18},getChildren:function(n){return n.children},getHeight:function(n){return n.height||36},getWidth:function(n){var t=n.label||" ";return n.width||18*t.split("").length}};function uD(n,t){var e=this;if(e.vgap=e.hgap=0,n instanceof uD)return n;e.data=n;var r=t.getHGap(n),o=t.getVGap(n);return e.width=t.getWidth(n),e.height=t.getHeight(n),e.id=t.getId(n),e.x=e.y=0,e.depth=0,e.children||(e.children=[]),e.addGap(r,o),e}iD.assign(uD.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(n,t){var e=this;e.hgap+=n,e.vgap+=t,e.width+=2*n,e.height+=2*t},eachNode:function(n){for(var t,e=[this];t=e.shift();)n(t),e=t.children.concat(e)},DFTraverse:function(n){this.eachNode(n)},BFTraverse:function(n){for(var t,e=[this];t=e.shift();)n(t),e=e.concat(t.children)},getBoundingBox:function(){var n={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(t){n.left=Math.min(n.left,t.x),n.top=Math.min(n.top,t.y),n.width=Math.max(n.width,t.x+t.width),n.height=Math.max(n.height,t.y+t.height)})),n},translate:function(n,t){void 0===n&&(n=0),void 0===t&&(t=0),this.eachNode((function(e){e.x+=n,e.y+=t}))},right2left:function(){var n=this,t=n.getBoundingBox();n.eachNode((function(n){n.x=n.x-2*(n.x-t.left)-n.width})),n.translate(t.width,0)},bottom2top:function(){var n=this,t=n.getBoundingBox();n.eachNode((function(n){n.y=n.y-2*(n.y-t.top)-n.height})),n.translate(0,t.height)}});var cD=function(n,t,e){void 0===t&&(t={});var r,o=new uD(n,t=iD.assign({},aD,t)),i=[o];if(!e&&!n.collapsed)for(;r=i.shift();)if(!r.data.collapsed){var a=t.getChildren(r.data),u=a?a.length:0;if(r.children=new Array(u),a&&u)for(var c=0;c<u;c++){var s=new uD(a[c],t);r.children[c]=s,i.push(s),s.parent=r,s.depth=r.depth+1}}return o},sD=cD,fD=function(){function n(n,t){void 0===t&&(t={});this.options=t,this.rootNode=sD(n,t)}return n.prototype.execute=function(){throw new Error("please override this method")},n}();function lD(n,t,e,r){void 0===r&&(r=[]);var o=this;o.w=n||0,o.h=t||0,o.y=e||0,o.x=0,o.c=r||[],o.cs=r.length,o.prelim=0,o.mod=0,o.shift=0,o.change=0,o.tl=null,o.tr=null,o.el=null,o.er=null,o.msel=0,o.mser=0}function hD(n,t,e){e?n.y+=t:n.x+=t,n.children.forEach((function(n){hD(n,t,e)}))}function pD(n,t){var e=t?n.y:n.x;return n.children.forEach((function(n){e=Math.min(pD(n,t),e)})),e}function vD(n,t){hD(n,-pD(n,t),t)}function dD(n,t,e){e?t.y=n.x:t.x=n.x,n.c.forEach((function(n,r){dD(n,t.children[r],e)}))}function gD(n,t,e){void 0===e&&(e=0),t?(n.x=e,e+=n.width):(n.y=e,e+=n.height),n.children.forEach((function(n){gD(n,t,e)}))}lD.fromNode=function(n,t){if(!n)return null;var e=[];return n.children.forEach((function(n){e.push(lD.fromNode(n,t))})),t?new lD(n.height,n.width,n.x,e):new lD(n.width,n.height,n.y,e)};var yD=cD,mD=function(n,t){for(var e=yD(n.data,t,!0),r=yD(n.data,t,!0),o=n.children.length,i=Math.round(o/2),a=t.getSide||function(n,t){return t<i?"right":"left"},u=0;u<o;u++){var c=n.children[u];"right"===a(c,u)?r.children.push(c):e.children.push(c)}return e.eachNode((function(n){n.isRoot()||(n.side="left")})),r.eachNode((function(n){n.isRoot()||(n.side="right")})),{left:e,right:r}},wD=mD,_D=["LR","RL","TB","BT","H","V"],bD=["LR","RL","H"],xD=_D[0],ED=function(n,t,e){var r=t.direction||xD;if(t.isHorizontal=function(n){return bD.indexOf(n)>-1}(r),r&&-1===_D.indexOf(r))throw new TypeError("Invalid direction: "+r);if(r===_D[0])e(n,t);else if(r===_D[1])e(n,t),n.right2left();else if(r===_D[2])e(n,t);else if(r===_D[3])e(n,t),n.bottom2top();else if(r===_D[4]||r===_D[5]){var o=wD(n,t),i=o.left,a=o.right;e(i,t),e(a,t),t.isHorizontal?i.right2left():i.bottom2top(),a.translate(i.x-a.x,i.y-a.y),n.x=i.x,n.y=a.y;var u=n.getBoundingBox();t.isHorizontal?u.top<0&&n.translate(0,-u.top):u.left<0&&n.translate(-u.left,0)}var c=t.fixedRoot;return void 0===c&&(c=!0),c&&n.translate(-(n.x+n.width/2+n.hgap),-(n.y+n.height/2+n.vgap)),n};var SD=function(n,t){void 0===t&&(t={});var e=t.isHorizontal;function r(n){0===n.cs?(n.el=n,n.er=n,n.msel=n.mser=0):(n.el=n.c[0].el,n.msel=n.c[0].msel,n.er=n.c[n.cs-1].er,n.mser=n.c[n.cs-1].mser)}function o(n,t,e){for(var r=n.c[t-1],o=r.mod,s=n.c[t],f=s.mod;null!==r&&null!==s;){c(r)>e.low&&(e=e.nxt);var l=o+r.prelim+r.w-(f+s.prelim);l>0&&(f+=l,i(n,t,e.index,l));var h=c(r),p=c(s);h<=p&&null!==(r=u(r))&&(o+=r.mod),h>=p&&null!==(s=a(s))&&(f+=s.mod)}!r&&s?function(n,t,e,r){var o=n.c[0].el;o.tl=e;var i=r-e.mod-n.c[0].msel;o.mod+=i,o.prelim-=i,n.c[0].el=n.c[t].el,n.c[0].msel=n.c[t].msel}(n,t,s,f):r&&!s&&function(n,t,e,r){var o=n.c[t].er;o.tr=e;var i=r-e.mod-n.c[t].mser;o.mod+=i,o.prelim-=i,n.c[t].er=n.c[t-1].er,n.c[t].mser=n.c[t-1].mser}(n,t,r,o)}function i(n,t,e,r){n.c[t].mod+=r,n.c[t].msel+=r,n.c[t].mser+=r,function(n,t,e,r){if(e!==t-1){var o=t-e;n.c[e+1].shift+=r/o,n.c[t].shift-=r/o,n.c[t].change-=r-r/o}}(n,t,e,r)}function a(n){return 0===n.cs?n.tl:n.c[0]}function u(n){return 0===n.cs?n.tr:n.c[n.cs-1]}function c(n){return n.y+n.h}function s(n,t,e){for(;null!==e&&n>=e.low;)e=e.nxt;return{low:n,index:t,nxt:e}}gD(n,e);var f=lD.fromNode(n,e);return function n(t){if(0!==t.cs){n(t.c[0]);for(var e=s(c(t.c[0].el),0,null),i=1;i<t.cs;++i){n(t.c[i]);var a=c(t.c[i].er);o(t,i,e),e=s(a,i,e)}!function(n){n.prelim=(n.c[0].prelim+n.c[0].mod+n.c[n.cs-1].mod+n.c[n.cs-1].prelim+n.c[n.cs-1].w)/2-n.w/2}(t),r(t)}else r(t)}(f),function n(t,e){e+=t.mod,t.x=t.prelim+e,function(n){for(var t=0,e=0,r=0;r<n.cs;r++)e+=(t+=n.c[r].shift)+n.c[r].change,n.c[r].mod+=e}(t);for(var r=0;r<t.cs;r++)n(t.c[r],e)}(f,0),dD(f,n,e),vD(n,e),n},MD=ED,TD=oD,jD=function(n){var t,e;function r(){return n.apply(this,arguments)||this}return e=n,(t=r).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,r.prototype.execute=function(){return MD(this.rootNode,this.options,SD)},r}(fD),kD={};var CD=function(n,t){return t=TD.assign({},kD,t),new jD(n,t).execute()},PD=oD;function OD(n,t){void 0===t&&(t=[]);var e=this;e.x=e.y=0,e.leftChild=e.rightChild=null,e.height=0,e.children=t}var ND={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function AD(n,t,e){e?(t.x=n.x,t.y=n.y):(t.x=n.y,t.y=n.x),n.children.forEach((function(n,r){AD(n,t.children[r],e)}))}var RD=function(n,t){void 0===t&&(t={}),t=PD.assign({},ND,t);var e,r=0;var o=function n(t){if(!t)return null;t.width=0,t.depth&&t.depth>r&&(r=t.depth);var e=t.children,o=e.length,i=new OD(t.height,[]);return e.forEach((function(t,e){var r=n(t);i.children.push(r),0===e&&(i.leftChild=r),e===o-1&&(i.rightChild=r)})),i.originNode=t,i.isLeaf=t.isLeaf(),i}(n);return function n(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=r;else{var e=t.children.map((function(t){return n(t)})),o=Math.min.apply(null,e);t.drawingDepth=o-1}return t.drawingDepth}(o),function n(r){r.x=r.drawingDepth*t.rankSep,r.isLeaf?(r.y=0,e&&(r.y=e.y+e.height+t.nodeSep,r.originNode.parent!==e.originNode.parent&&(r.y+=t.subTreeSep)),e=r):(r.children.forEach((function(t){n(t)})),r.y=(r.leftChild.y+r.rightChild.y)/2)}(o),AD(o,n,t.isHorizontal),n},ID=ED,DD=oD,LD=function(n){var t,e;function r(){return n.apply(this,arguments)||this}return e=n,(t=r).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,r.prototype.execute=function(){var n=this;return n.rootNode.width=0,ID(n.rootNode,n.options,RD)},r}(fD),BD={};var zD=function(n,t){return t=DD.assign({},BD,t),new LD(n,t).execute()};var qD=fD,FD=function(n,t,e){var r=null;n.eachNode((function(n){!function(n,t,e,r){if(!r)try{if(n.id===n.parent.children[0].id)return n.x+=e*n.depth,void(n.y=t?t.y:0)}catch(HB){}n.x+=e*n.depth,n.y=t?t.y+t.height:0}(n,r,t,e),r=n}))},GD=mD,VD=oD,HD=["LR","RL","H"],UD=HD[0],WD=function(n){var t,e;function r(){return n.apply(this,arguments)||this}return e=n,(t=r).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,r.prototype.execute=function(){var n=this.options,t=this.rootNode;n.isHorizontal=!0;var e=n.indent,r=void 0===e?20:e,o=n.dropCap,i=void 0===o||o,a=n.direction||UD;if(a&&-1===HD.indexOf(a))throw new TypeError("Invalid direction: "+a);if(a===HD[0])FD(t,r,i);else if(a===HD[1])FD(t,r,i),t.right2left();else if(a===HD[2]){var u=GD(t,n),c=u.left,s=u.right;FD(c,r,i),c.right2left(),FD(s,r,i);var f=c.getBoundingBox();s.translate(f.width,0),t.x=s.x-t.width/2}return t},r}(qD),YD={};var $D=function(n,t){return t=VD.assign({},YD,t),new WD(n,t).execute()},JD=oD;function XD(n,t){var e=0;return n.children.length?n.children.forEach((function(n){e+=XD(n,t)})):e=n.height,n._subTreeSep=t.getSubTreeSep(n.data),n.totalHeight=Math.max(n.height,e)+2*n._subTreeSep,n.totalHeight}function QD(n){var t=n.children,e=t.length;if(e){t.forEach((function(n){QD(n)}));var r=t[0],o=t[e-1],i=o.y-r.y+o.height,a=0;if(t.forEach((function(n){a+=n.totalHeight})),i>n.height)n.y=r.y+i/2-n.height/2;else if(1!==t.length||n.height>a){var u=n.y+(n.height-i)/2-r.y;t.forEach((function(n){n.translate(0,u)}))}else n.y=(r.y+r.height/2+o.y+o.height/2)/2-n.height/2}}var KD={getSubTreeSep:function(){return 0}};var ZD=function(n,t){void 0===t&&(t={}),t=JD.assign({},KD,t),n.parent={x:0,width:0,height:0,y:0},n.BFTraverse((function(n){n.x=n.parent.x+n.parent.width})),n.parent=null,XD(n,t),n.startY=0,n.y=n.totalHeight/2-n.height/2,n.eachNode((function(n){var t=n.children,e=t.length;if(e){var r=t[0];if(r.startY=n.startY+n._subTreeSep,1===e)r.y=n.y+n.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var o=1;o<e;o++){var i=t[o];i.startY=t[o-1].startY+t[o-1].totalHeight,i.y=i.startY+i.totalHeight/2-i.height/2}}}})),QD(n)},nL=ED,tL=oD,eL=function(n){var t,e;function r(){return n.apply(this,arguments)||this}return e=n,(t=r).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,r.prototype.execute=function(){return nL(this.rootNode,this.options,ZD)},r}(fD),rL={};var oL={compactBox:CD,dendrogram:zD,indented:$D,mindmap:function(n,t){return t=tL.assign({},rL,t),new eL(n,t).execute()}};Object.defineProperty({},"__esModule",{value:!0});var iL=ct.exports.__importDefault(oL),aL=Rh,uL={};function cL(n,t){var e=n.root;if(t=Object.assign({},uL,t),n.dataType!==aL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=iL.default.compactBox(e,t)}aL.DataSet.registerTransform("hierarchy.compact-box",cL),aL.DataSet.registerTransform("compact-box-tree",cL),aL.DataSet.registerTransform("non-layered-tidy-tree",cL),aL.DataSet.registerTransform("mindmap-logical",cL);Object.defineProperty({},"__esModule",{value:!0});var sL=ct.exports.__importDefault(oL),fL=Rh,lL={};function hL(n,t){var e=n.root;if(t=Object.assign({},lL,t),n.dataType!==fL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=sL.default.dendrogram(e,t)}fL.DataSet.registerTransform("hierarchy.dendrogram",hL),fL.DataSet.registerTransform("dendrogram",hL);Object.defineProperty({},"__esModule",{value:!0});var pL=ct.exports.__importDefault(oL),vL=Rh,dL={};function gL(n,t){var e=n.root;if(t=Object.assign({},dL,t),n.dataType!==vL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=pL.default.indented(e,t)}vL.DataSet.registerTransform("hierarchy.indented",gL),vL.DataSet.registerTransform("indented-tree",gL);Object.defineProperty({},"__esModule",{value:!0});var yL=st,mL=ct.exports.__importStar($v),wL=Rh,_L=yd,bL={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function xL(n,t){if(n.dataType!==wL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e,r=n.root,o=(t=yL.assign({},bL,t)).as;if(!yL.isArray(o)||3!==o.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{e=_L.getField(t)}catch(HB){console.warn(HB)}e&&r.sum((function(n){return n[e]})).sort((function(n,t){return t[e]-n[e]}));var i=mL.pack();i.size(t.size),t.padding&&i.padding(t.padding),i(r);var a=o[0],u=o[1],c=o[2];r.each((function(n){n[a]=n.x,n[u]=n.y,n[c]=n.r}))}wL.DataSet.registerTransform("hierarchy.pack",xL),wL.DataSet.registerTransform("hierarchy.circle-packing",xL),wL.DataSet.registerTransform("circle-packing",xL);Object.defineProperty({},"__esModule",{value:!0});var EL=ct.exports.__importStar($v),SL=st,ML=Rh,TL=yd,jL={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function kL(n,t){if(n.dataType!==ML.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e,r=n.root,o=(t=SL.assign({},jL,t)).as;if(!SL.isArray(o)||2!==o.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{e=TL.getField(t)}catch(HB){console.warn(HB)}e&&r.sum((function(n){return n[e]}));var i=EL.partition();i.size(t.size).round(t.round).padding(t.padding),i(r);var a=o[0],u=o[1];r.each((function(n){n[a]=[n.x0,n.x1,n.x1,n.x0],n[u]=[n.y1,n.y1,n.y0,n.y0],["x0","x1","y0","y1"].forEach((function(t){-1===o.indexOf(t)&&delete n[t]}))}))}ML.DataSet.registerTransform("hierarchy.partition",kL),ML.DataSet.registerTransform("adjacency",kL);Object.defineProperty({},"__esModule",{value:!0});var CL=ct.exports.__importStar($v),PL=st,OL=Rh,NL=yd,AL={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function RL(n,t){if(n.dataType!==OL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e,r=n.root,o=(t=PL.assign({},AL,t)).as;if(!PL.isArray(o)||2!==o.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{e=NL.getField(t)}catch(HB){console.warn(HB)}e&&r.sum((function(n){return n[e]}));var i=CL.tree();i.size(t.size),t.nodeSize&&i.nodeSize(t.nodeSize),t.separation&&i.separation(t.separation),i(r);var a=o[0],u=o[1];r.each((function(n){n[a]=n.x,n[u]=n.y}))}OL.DataSet.registerTransform("hierarchy.tree",RL),OL.DataSet.registerTransform("tree",RL);Object.defineProperty({},"__esModule",{value:!0});var IL=ct.exports.__importStar($v),DL=st,LL=Rh,BL=yd,zL={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function qL(n,t){if(n.dataType!==LL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e,r=n.root,o=(t=DL.assign({},zL,t)).as;if(!DL.isArray(o)||2!==o.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{e=BL.getField(t)}catch(HB){console.warn(HB)}e&&r.sum((function(n){return n[e]}));var i=IL.treemap();i.tile(IL[t.tile]).size(t.size).round(t.round).padding(t.padding).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft),i(r);var a=o[0],u=o[1];r.each((function(n){n[a]=[n.x0,n.x1,n.x1,n.x0],n[u]=[n.y1,n.y1,n.y0,n.y0],["x0","x1","y0","y1"].forEach((function(t){-1===o.indexOf(t)&&delete n[t]}))}))}LL.DataSet.registerTransform("hierarchy.treemap",qL),LL.DataSet.registerTransform("treemap",qL);var FL={};Object.defineProperty(FL,"__esModule",{value:!0});var GL=ct.exports,VL=Math.PI/180,HL=2048;function UL(n){return n.text}function WL(){return"serif"}function YL(){return"normal"}function $L(n){return n.value}function JL(){return 90*~~(2*Math.random())}function XL(){return 1}function QL(n,t,e,r){if(!t.sprite){var o=n.context,i=n.ratio;o.clearRect(0,0,2048/i,2048/i);var a=0,u=0,c=0,s=e.length;for(--r;++r<s;){t=e[r],o.save(),o.font=t.style+" "+t.weight+" "+~~((t.size+1)/i)+"px "+t.font;var f=o.measureText(t.text+"m").width*i,l=t.size<<1;if(t.rotate){var h=Math.sin(t.rotate*VL),p=Math.cos(t.rotate*VL),v=f*p,d=f*h,g=l*p,y=l*h;f=Math.max(Math.abs(v+y),Math.abs(v-y))+31>>5<<5,l=~~Math.max(Math.abs(d+g),Math.abs(d-g))}else f=f+31>>5<<5;if(l>c&&(c=l),a+f>=2048&&(a=0,u+=c,c=0),u+l>=2048)break;o.translate((a+(f>>1))/i,(u+(l>>1))/i),t.rotate&&o.rotate(t.rotate*VL),o.fillText(t.text,0,0),t.padding&&(o.lineWidth=2*t.padding,o.strokeText(t.text,0,0)),o.restore(),t.width=f,t.height=l,t.xoff=a,t.yoff=u,t.x1=f>>1,t.y1=l>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=f}for(var m=o.getImageData(0,0,2048/i,2048/i).data,w=[];--r>=0;)if((t=e[r]).hasText){for(var _=(f=t.width)>>5,b=(l=t.y1-t.y0,0);b<l*_;b++)w[b]=0;if(null==(a=t.xoff))return;u=t.yoff;for(var x=0,E=-1,S=0;S<l;S++){for(b=0;b<f;b++){var M=_*S+(b>>5),T=m[2048*(u+S)+(a+b)<<2]?1<<31-b%32:0;w[M]|=T,x|=T}x?E=S:(t.y0++,l--,S--,u++)}t.y1=t.y0+E,t.sprite=w.slice(0,(t.y1-t.y0)*_)}}}function KL(n,t,e){e>>=5;for(var r,o=n.sprite,i=n.width>>5,a=n.x-(i<<4),u=127&a,c=32-u,s=n.y1-n.y0,f=(n.y+n.y0)*e+(a>>5),l=0;l<s;l++){r=0;for(var h=0;h<=i;h++)if((r<<c|(h<i?(r=o[l*i+h])>>>u:0))&t[f+h])return!0;f+=e}return!1}function ZL(n,t){var e=n[0],r=n[1];t.x+t.x0<e.x&&(e.x=t.x+t.x0),t.y+t.y0<e.y&&(e.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function nB(n){var t=n[0]/n[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function tB(n){for(var t=[],e=-1;++e<n;)t[e]=0;return t}function eB(){return document.createElement("canvas")}function rB(n){return"function"==typeof n?n:function(){return n}}var oB={archimedean:nB,rectangular:function(n){var t=4*n[0]/n[1],e=0,r=0;return function(n){var o=n<0?-1:1;switch(Math.sqrt(1+4*o*n)-o&3){case 0:e+=t;break;case 1:r+=4;break;case 2:e-=t;break;default:r-=4}return[e,r]}}};FL.default=function(){var n=[256,256],t=UL,e=WL,r=$L,o=YL,i=YL,a=JL,u=XL,c=nB,s=[],f=1/0,l=Math.random,h=eB,p={};function v(t,e,r){for(var o,i,a,u,s,f=e.x,h=e.y,p=Math.sqrt(n[0]*n[0]+n[1]*n[1]),v=c(n),d=l()<.5?1:-1,g=-d;(o=v(g+=d))&&(i=~~o[0],a=~~o[1],!(Math.min(Math.abs(i),Math.abs(a))>=p));)if(e.x=f+i,e.y=h+a,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>n[0]||e.y+e.y1>n[1]||r&&KL(e,t,n[0])||r&&(s=r,!((u=e).x+u.x1>s[0].x&&u.x+u.x0<s[1].x&&u.y+u.y1>s[0].y&&u.y+u.y0<s[1].y)))){for(var y=e.sprite,m=e.width>>5,w=n[0]>>5,_=e.x-(m<<4),b=127&_,x=32-b,E=e.y1-e.y0,S=void 0,M=(e.y+e.y0)*w+(_>>5),T=0;T<E;T++){S=0;for(var j=0;j<=m;j++)t[M+j]|=S<<x|(j<m?(S=y[T*m+j])>>>b:0);M+=w}return delete e.sprite,!0}return!1}return p.canvas=function(n){return arguments.length?(h=rB(n),p):h},p.start=function(){var c=GL.__read(n,2),d=c[0],g=c[1],y=function(n){n.width=n.height=1;var t=Math.sqrt(n.getContext("2d").getImageData(0,0,1,1).data.length>>2);n.width=2048/t,n.height=HL/t;var e=n.getContext("2d");return e.fillStyle=e.strokeStyle="red",e.textAlign="center",{context:e,ratio:t}}(h()),m=p.board?p.board:tB((n[0]>>5)*n[1]),w=s.length,_=[],b=s.map((function(n,c){return n.text=t.call(this,n,c),n.font=e.call(this,n,c),n.style=o.call(this,n,c),n.weight=i.call(this,n,c),n.rotate=a.call(this,n,c),n.size=~~r.call(this,n,c),n.padding=u.call(this,n,c),n})).sort((function(n,t){return t.size-n.size})),x=-1,E=p.board?[{x:0,y:0},{x:d,y:g}]:null;return function(){var t=Date.now();for(;Date.now()-t<f&&++x<w;){var e=b[x];e.x=d*(l()+.5)>>1,e.y=g*(l()+.5)>>1,QL(y,e,b,x),e.hasText&&v(m,e,E)&&(_.push(e),E?p.hasImage||ZL(E,e):E=[{x:e.x+e.x0,y:e.y+e.y0},{x:e.x+e.x1,y:e.y+e.y1}],e.x-=n[0]>>1,e.y-=n[1]>>1)}p._tags=_,p._bounds=E}(),p},p.createMask=function(t){var e=document.createElement("canvas"),r=GL.__read(n,2),o=r[0],i=r[1];if(o&&i){var a=o>>5,u=tB((o>>5)*i);e.width=o,e.height=i;var c=e.getContext("2d");c.drawImage(t,0,0,t.width,t.height,0,0,o,i);for(var s=c.getImageData(0,0,o,i).data,f=0;f<i;f++)for(var l=0;l<o;l++){var h=a*f+(l>>5),v=f*o+l<<2,d=s[v]>=250&&s[v+1]>=250&&s[v+2]>=250?1<<31-l%32:0;u[h]|=d}p.board=u,p.hasImage=!0}},p.timeInterval=function(n){return arguments.length?(f=null==n?1/0:n,p):f},p.words=function(n){return arguments.length?(s=n,p):s},p.size=function(t){return arguments.length?(n=[+t[0],+t[1]],p):n},p.font=function(n){return arguments.length?(e=rB(n),p):e},p.fontStyle=function(n){return arguments.length?(o=rB(n),p):o},p.fontWeight=function(n){return arguments.length?(i=rB(n),p):i},p.rotate=function(n){return arguments.length?(a=rB(n),p):a},p.text=function(n){return arguments.length?(t=rB(n),p):t},p.spiral=function(n){return arguments.length?(c=oB[n]||n,p):c},p.fontSize=function(n){return arguments.length?(r=rB(n),p):r},p.padding=function(n){return arguments.length?(u=rB(n),p):u},p.random=function(n){return arguments.length?(l=n,p):l},p},Object.defineProperty({},"__esModule",{value:!0});var iB=ct.exports,aB=st,uB=Rh,cB=iB.__importDefault(FL),sB=yd,fB={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function lB(n,t){t=aB.assign({},fB,t);var e=cB.default();if(!t.size[0]||!t.size[1])return n.rows=[],void(n._tagCloud=e);["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval"].forEach((function(n){t[n]&&e[n](t[n])}));var r=sB.getFields(t),o=iB.__read(r,2),i=o[0],a=o[1];if(!aB.isString(i)||!aB.isString(a))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var u=n.rows.map((function(n){return n.text=n[i],n.value=n[a],n}));e.words(u),t.imageMask&&e.createMask(t.imageMask);var c=e.start(),s=c._tags,f=c._bounds||[{x:0,y:0},{x:t.size[0],y:t.size[1]}];s.forEach((function(n){n.x+=t.size[0]/2,n.y+=t.size[1]/2}));var l=iB.__read(t.size,2),h=l[0],p=l[1],v=c.hasImage;s.push({text:"",value:0,x:v?0:f[0].x,y:v?0:f[0].y,opacity:0}),s.push({text:"",value:0,x:v?h:f[1].x,y:v?p:f[1].y,opacity:0}),n.rows=s,n._tagCloud=c}uB.DataSet.registerTransform("tag-cloud",lB),uB.DataSet.registerTransform("word-cloud",lB);Object.defineProperty({},"__esModule",{value:!0});var hB=ct.exports,pB=st,vB=Sh,dB=hB.__importDefault(bl),gB=yd,yB={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};Rh.DataSet.registerTransform("waffle",(function(n,t){t=pB.assign({},yB,t);var e=gB.getFields(t),r=hB.__read(e,2),o=r[0],i=r[1],a=hB.__read(t.as,2),u=a[0],c=a[1],s=t.groupBy,f=dB.default(n.rows,s),l=pB.keys(f),h=hB.__read(t.size,2),p=h[0],v=h[1],d=t.maxCount,g=v/l.length,y=t.rows,m=t.gapRatio,w=[],_=t.scale,b=0,x=0;pB.forIn(f,(function(n){var t=vB.sum(pB.map(n,(function(n){return n[i]}))),e=Math.ceil(t*_/y);t*_>d&&(_=d/t,e=Math.ceil(t*_/y)),x=p/e})),pB.forIn(f,(function(n){var t=[b*g,(b+1)*g],e=(t[1]-t[0])*(1-m)/y,r=0,a=0;pB.each(n,(function(n){for(var f=n[i],l=Math.round(f*_),h=0;h<l;h++){a===y&&(a=0,r++);var p=pB.pick(n,[o,i].concat(s));p[u]=r*x+x/2,p[c]=a*e+e/2+t[0],p._wStep=x,p._hStep=e,a++,w.push(p)}})),b+=1})),n.rows=w}));var mB={};Object.defineProperty(mB,"__esModule",{value:!0});var wB=ct.exports,_B=st,bB=wB.__importDefault(Sg),xB=wB.__importDefault(Lg),EB=Rh,SB=yd,MB=Tg,TB={as:["x","y","z"],method:"gaussian"},jB=_B.keys(xB.default);function kB(n,t){var e,r;t=_B.assign({},TB,t);var o=SB.getFields(t);if(!_B.isArray(o)||2!==o.length)throw new TypeError("invalid fields: must be an array of 2 strings!");var i,a=wB.__read(t.as,3),u=a[0],c=a[1],s=a[2];if(!_B.isString(u)||!_B.isString(c)||!_B.isString(s))throw new TypeError("invalid as: must be an array of 3 strings!");if(_B.isString(t.method)){if(-1===jB.indexOf(t.method))throw new TypeError("invalid method: "+t.method+". Must be one of "+jB.join(", "));i=xB.default[t.method]}var f,l,h,p,v=wB.__read(o,2),d=v[0],g=v[1],y=t.extent,m=t.bandwidth;y&&Array.isArray(y)&&Array.isArray(y[0])&&Array.isArray(y[1])?(f=(e=wB.__read(y,2))[0],l=e[1]):(f=n.range(d),l=n.range(g)),m&&Array.isArray(m)&&m.slice(0,2).every(_B.isNumber)&&m.slice(0,2).every((function(n){return n>0}))?(h=(r=wB.__read(m,2))[0],p=r[1]):(h=MB.silverman(n.getColumn(d)),p=MB.silverman(n.getColumn(g)));for(var w=bB.default(f,h),_=bB.default(l,p),b=n.rows.length,x=[],E=0;E<w.length;E++)for(var S=0;S<_.length;S++){for(var M=0,T=w[E],j=_[S],k=0;k<b;k++)M+=i((T-n.rows[k][d])/h)*i((j-n.rows[k][g])/p);var C=1/(b*h*p)*M,P={};P[u]=T,P[c]=j,P[s]=C,x.push(P)}n.rows=x}EB.DataSet.registerTransform("kernel-smooth.density",kB),EB.DataSet.registerTransform("kernel.density",kB),mB.default={KERNEL_METHODS:jB};var CB={};Object.defineProperty(CB,"__esModule",{value:!0});var PB=ct.exports,OB=st,NB=PB.__importDefault(Sg),AB=PB.__importDefault(Lg),RB=Rh,IB=Sh,DB=yd,LB=Tg,BB={as:["x","y"],method:"gaussian"},zB=OB.keys(AB.default);function qB(n,t,e,r){return n((r-e)/t)}function FB(n){return function(t){return OB.isArray(t)?t.map((function(t){return n(t)})):n(t)}}function GB(n,t){t=OB.assign({},BB,t);var e=DB.getFields(t);if(!OB.isArray(e)||1!==e.length&&2!==e.length)throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var r,o=PB.__read(t.as,2),i=o[0],a=o[1];if(!OB.isString(i)||!OB.isString(a))throw new TypeError("invalid as: must be an array of 2 strings!");var u=t.method;if(OB.isString(u)){if(-1===zB.indexOf(u))throw new TypeError("invalid method: "+u+". Must be one of "+zB.join(", "));r=AB.default[u]}var c=PB.__read(e,2),s=c[0],f=c[1],l=n.getColumn(s),h=t.extent;!h&&OB.isArray(h)||(h=n.range(s));var p=t.bandwidth;(!p||!OB.isNumber(p)||p<=0)&&(p=LB.silverman(l));var v,d=NB.default(h,p),g=l.length,y=qB.bind(null,r,p);if(OB.isNil(f))v=FB((function(n){var t=l.map((function(t){return y(n,t)})),e=IB.sum(t),r=g*p;return e&&r?e/r:0}));else{var m=n.getColumn(f);v=FB((function(n){var t=l.map((function(t){return y(n,t)})),e=IB.sum(t.map((function(n,t){return n*m[t]}))),r=IB.sum(t);return e&&r?e/r:0}))}var w=d.map((function(n){var t={};return t[i]=n,t[a]=v(n),t}));n.rows=w}RB.DataSet.registerTransform("kernel-smooth.regression",GB),RB.DataSet.registerTransform("kernel.regression",GB),CB.default={KERNEL_METHODS:zB};var VB=Rh.DataSet;export{VB as l};
