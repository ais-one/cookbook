<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/reefjs/dist/reef.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
  <title>Component Tester Using Reef JS</title>
</head>
<body>
  <div id="app"></div>
  <script>
    const app = new Reef('#app', {
      data: {
        agreeToTOS: true,
        ac: {
          value: 'a',
          // items: ['aa9','aa5']
          items: [
            { key: 'id_9',  text: 'aa9'  },
            { key: 'id_5',  text: 'aa5'  },
          ]
        },
        list: [
          { key: 'id_1',  text: 'aa1'  },
          { key: 'id_15', text: 'aa15' },
          { key: 'id_16', text: 'aa16' },
          { key: 'id_17', text: 'aa17' },
          { key: 'id_18', text: 'aa18' },
          { key: 'id_19', text: 'aa19' },
          { key: 'id_20', text: 'aa20' },
          { key: 'id_21', text: 'aa21' },
          { key: 'id_22', text: 'aa22' },
          { key: 'id_23', text: 'aa23' },
          { key: 'id_24', text: 'aa24' },
          { key: 'id_25', text: 'aa25' },
        ],
        autoComplete: (e) => {
          const result = []
          for (let i = 0; i < list.length; i++) {
            if (typeof list[i] === 'string') {
              if (list[i].includes(e.detail)) result.push(list[i])
            } else {
              if (list[i].key.includes(e.detail) || list[i].text.includes(e.detail)) result.push(list[i])
            }
          }
          ac.items = result
        },
      },
      methods: {

      },
      template: function (props) {
        console.log(props)
        const selected = (e) => {
          console.log('aaaaa')
          // console.log('selected event', e.detail)
        }

        return /*html*/`
          <label for="tos">
            <input type="checkbox" id="tos" ${props.agreeToTOS ? 'checked' : ''}>
            <button onclick="selected()">Click</button>
          </label>
        `
	    }
    })
    app.render()
  </script> 
</body>
</html>