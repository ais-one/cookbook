<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Express & Vanilla JS Demos</title>
  <style>
    input:invalid {
      border: 2px solid red;
    }
    input:valid {
      border: 2px solid black;
    }
  </style>
  <script src='https://js.sentry-cdn.com/1a5bdb07fa464814bb1ce95607ffde31.min.js' crossorigin="anonymous" data-lazy="no"></script>
  <script src="/esm/log-filter.js"></script>
</head>

<body>
  <h1>Demo Express</h1>
  <ul>
    <li><a href="basic.html">Basic Stuff</a></li>
    <li><a href="refresh-token.html">Refresh Token</a></li>
    <li><a href="abort.html">Abort Promise</a></li>
    <li><a href="graphql.html">Graphql</a></li>
    <li><a href="mq.html">Message Queues</a></li>
    <li><a href="upload.html">File Upload</a></li>
    <li><a href="fido.html">Fido - if using HTTPS, please set HTTPS_CERTIFICATE, HTTPS_PRIVATE_KEY in .env</a></li>
    <li><a href="webworker1.html">Web Worker 1 - File Upload</a></li>
    <li><a href="webworker2.html">Web Worker 2 - Text Analyzer</a></li>
    <li><a href="webworker3.html">Web Worker 3 - Text Analyzer (Shared Worker)</a></li>
    <li><a href="layout/index.html">Dashboard Layout</a></li>
  </ul>

  <h1>Web Application Examples (Vue + Web Components)</h1>
  <ul>
    <li><a href="/native/index.html">Vue3 No Bundle Spa</a></li>
    <li><a href="/vite/index.html" target="_blank">Vue3 Vite SPA (dist) - opens new window</a></li>
    <li><a href="/solid/index.html" target="_blank">SolidJS - opens new window</a></li>
  </ul>

  <h1>HTML5 Demos</h1>
  <div>
    <div>
      <label for="country_code">Country code:</label>
      <input id="country_code" type="text" pattern="[A-Za-z]{3}" title="Three letter country code" minlength="3"
        maxlength="3" />
      <button onclick="testConsole()">Test console.log disabling</button>
      <button onclick="testSentry()">Test Sentry for frontend</button>
    </div>
    <form>
      <fieldset>
        <legend>Some Form</legend>
        <label for="meeting-dt">DateTime</label>
        <input id="meeting-dt" type="datetime-local" value="2018-06-12T19:30" min="2018-06-07T00:00"
          max="2018-06-14T00:00" step="60"><br /><br />
        <label for="time-only">Time Only</label>
        <input id="time-only" type="time" min="09:00" max="18:00" required><br /><br />
        <label for="time-only">Date Only</label>
        <input id="date-only" type="date" value="2018-07-22" min="2018-01-01" max="2018-12-31"><br /><br />
        <label for="time24">24 hr time</label>
        <input id="time24" type="text" pattern="^(2[0-3]|[01]?[0-9])([0-5]?[0-9])$" title="0000 - 2359" minlength="4"
          maxlength="4" /><br /><br />
        <label for="my_name">My Name</label>
        <input id="my_name" type="text" required title="User name" /><br /><br />
        <label for="myBrowser">Choose a browser (autocomplete):</label>
        <input id="myBrowser" list="browsers" />
        <datalist id="browsers">
          <option value="Chrome">
          <option value="Firefox">
          <option value="Internet Explorer">
          <option value="Opera">
          <option value="Safari">
          <option value="Microsoft Edge">
        </datalist>
        <input type="submit" />
      </fieldset>
    </form>
  </div>

  <script type="text/javascript">
    LogFilter(['log']) // which console method to filter out...

    const source = new EventSource('/api/sse/register')
    source.addEventListener('message', (message) => {
      console.log('SSE', message);
    })

    const testConsole = () => {
      alert('Check console for messages')
      console.log('console.log')
      console.info('console.info')
      console.warn('console.warn')
      console.error('console.error')
    }

    const testSentry = () => {
      throw new Error('Blah' + Date.now())
      // Sentry.captureMessage('Something went wrong' + Date.now())
      // console.error("xdddd", Date.now())
    }
  </script>

</body>

</html>